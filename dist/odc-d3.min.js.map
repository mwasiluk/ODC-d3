{"version":3,"sources":["/dist/node_modules/browser-pack/_prelude.js","/dist/odc-d3.js","/dist/bower_components/d3-legend/src/color.js","/dist/bower_components/d3-legend/src/legend.js","/dist/bower_components/d3-legend/src/size.js","/dist/bower_components/d3-legend/src/symbol.js","/dist/bower_components/simple-statistics/src/error_function.js","/dist/bower_components/simple-statistics/src/linear_regression.js","/dist/bower_components/simple-statistics/src/linear_regression_line.js","/dist/bower_components/simple-statistics/src/mean.js","/dist/bower_components/simple-statistics/src/quantile.js","/dist/bower_components/simple-statistics/src/quantile_sorted.js","/dist/bower_components/simple-statistics/src/quickselect.js","/dist/bower_components/simple-statistics/src/sample_correlation.js","/dist/bower_components/simple-statistics/src/sample_covariance.js","/dist/bower_components/simple-statistics/src/sample_standard_deviation.js","/dist/bower_components/simple-statistics/src/sample_variance.js","/dist/bower_components/simple-statistics/src/standard_deviation.js","/dist/bower_components/simple-statistics/src/sum.js","/dist/bower_components/simple-statistics/src/sum_nth_power_deviations.js","/dist/bower_components/simple-statistics/src/variance.js","/dist/bower_components/simple-statistics/src/z_score.js","/dist/node_modules/d3-array/build/d3-array.js","/dist/node_modules/d3-collection/build/d3-collection.js","/dist/node_modules/d3-color/build/d3-color.js","/dist/node_modules/d3-dispatch/build/d3-dispatch.js","/dist/node_modules/d3-format/build/d3-format.js","/dist/node_modules/d3-interpolate/build/d3-interpolate.js","/dist/node_modules/d3-scale/build/d3-scale.js","/dist/node_modules/d3-time-format/build/d3-time-format.js","/dist/node_modules/d3-time/build/d3-time.js","/dist/src/bar-chart.js","/dist/src/box-plot-base.js","/dist/src/box-plot.js","/dist/src/chart-with-color-groups.js","/dist/src/chart.js","/dist/src/correlation-matrix.js","/dist/src/d3-extensions.js","/dist/src/heatmap-timeseries.js","/dist/src/heatmap.js","/dist/src/histogram.js","/dist/src/index.js","/dist/src/legend.js","/dist/src/regression.js","/dist/src/scatterplot-matrix.js","/dist/src/scatterplot.js","/dist/src/statistics-distributions.js","/dist/src/statistics-utils.js","/dist/src/utils.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","ODCD3","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","1","_interopRequireDefault","obj","__esModule","default","color","legend","svg","type","_legend2","d3_calcType","scale","ascending","cells","labels","labelFormat","labelDelimiter","legendG","selectAll","data","enter","append","attr","classPrefix","cell","select","cellEnter","shape","shapes","d3_addEvents","legendDispatcher","exit","transition","style","remove","d3_drawShapes","shapeHeight","shapeWidth","shapeRadius","path","d3_addText","merge","text","shapeSize","nodes","map","d","getBBox","useClass","feature","cellTrans","textTrans","textAlign","labelAlign","orient","height","shapePadding","width","x","labelOffset","y","d3_placement","d3_title","title","_d3Scale","scaleLinear","_d3Format","format","_d3Dispatch","dispatch","_","arguments","toLowerCase","on","value","apply","Object","defineProperty","_legend","./legend","d3-dispatch","d3-format","d3-scale","2","_typeof","Symbol","iterator","constructor","prototype","d3_identity","d3_reverse","arr","mirror","d3_mergeLabels","gen","undefined","domain","range","push","customLabels","genLength","_i","generatedLabels","d3_linearLegend","increment","d3_quantLegend","invert","invertExtent","d3_ordinalLegend","d3_cellOver","cellDispatcher","d3_cellOut","d3_cellClick","ticks","dispatcher","titleText","cellsSvg","yOffset","xOffset","3","size","bbox","stroke","maxH","_d3Array","max","maxW","sum","slice","d3-array","4","symbol","5","errorFunction","Math","abs","tau","exp","pow","6","linearRegression","m","b","dataLength","point","sumX","sumY","sumXX","sumXY","7","linearRegressionLine","mb","8","mean","NaN","./sum","9","quantile","sample","p","copy","Array","isArray","multiQuantileSelect","results","quantileSorted","idx","quantileIndex","quantileSelect","k","left","right","quickselect","floor","indices","sort","compare","stack","ceil","pop","len","./quantile_sorted","./quickselect","10","11","z","log","sd","sqrt","newLeft","newRight","min","j","swap","tmp","12","sampleCorrelation","cov","sampleCovariance","xstd","sampleStandardDeviation","ystd","./sample_covariance","./sample_standard_deviation","13","xmean","ymean","besselsCorrection","./mean","14","sampleVarianceX","sampleVariance","isNaN","./sample_variance","15","sumSquaredDeviationsValue","sumNthPowerDeviations","./sum_nth_power_deviations","16","standardDeviation","v","variance","./variance","17","correctedCurrentValue","nextSum","errorCompensation","18","meanValue","19","20","zScore","21","factory","d3","bisector","ascendingComparator","lo","hi","mid","descending","number","array","deviation","extent","c","constant","identity","start","stop","step","count","tickStep","step0","step1","LN10","error","e10","e5","e2","sturges","values","LN2","histogram","xz","x0","x1","tz","threshold","shift","bin","bins","bisectRight","thresholds","h","freedmanDiaconis","scott","median","numbers","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","i0","i1","random","transpose","matrix","row","zip","ascendingBisect","bisectLeft","bisect","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","22","Map","object","each","key","set","createObject","setObject","createMap","setMap","map$$1","Set","add","prefix","has","get","property","clear","keys","entries","empty","nest","depth","createResult","setResult","rollup","sortValues","keyValue","valuesByKey","result","sortKey","sortKeys","order","proto","23","extend","parent","definition","create","Color","trim","reHex3","exec","parseInt","Rgb","reHex6","rgbn","reRgbInteger","reRgbPercent","reRgbaInteger","rgba","reRgbaPercent","reHslPercent","hsla","reHslaPercent","named","hasOwnProperty","rgbConvert","rgb","opacity","Hsl","hslConvert","hsl","hsl2rgb","m1","m2","labConvert","Lab","Hcl","deg2rad","cos","sin","rgb2xyz","xyz2lab","Xn","Yn","Zn","lab","t3","t2","t0","lab2xyz","t1","xyz2rgb","hclConvert","atan2","rad2deg","hcl","cubehelixConvert","Cubehelix","BC_DA","ED","EB","bl","E","C","D","cubehelix","darker","brighter","reI","reN","reP","RegExp","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","toString","round","PI","Kn","A","B","cosh","sinh","24","Dispatch","parseTypenames","typenames","types","split","name","indexOf","callback","noop","concat","typename","T","that","args","25","formatDecimal","toExponential","coefficient","exponent","formatGroup","grouping","thousands","substring","reverse","join","formatDefault","toPrecision","out","formatPrefixAuto","prefixExponent","formatRounded","formatSpecifier","specifier","FormatSpecifier","match","re","fill","align","sign","zero","comma","precision","formatTypes","formatLocale","locale","newFormat","valuePrefix","valueSuffix","suffix","formatType","valueNegative","charCodeAt","prefixes","maybeSuffix","decimal","group","Infinity","padding","currency","test","formatPrefix","defaultLocale","precisionFixed","precisionPrefix","precisionRound","","%","toFixed","X","toUpperCase","formatDefaultLocale","26","d3Color","basis","v0","v1","v2","v3","linear","exponential","hue","gamma","nogamma","rgbSpline","spline","colors","color$$1","one","parseCss","cssNode","document","createElement","cssRoot","documentElement","cssView","defaultView","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","decompose","parseSvg","svgNode","createElementNS","setAttribute","baseVal","consolidate","interpolateTransform","parse","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","q","rotate","skewX","translateX","translateY","scaleX","scaleY","tanh","hsl$1","hue$$1","end","lab$1","hcl$1","cubehelix$1","cubehelixGamma","cubehelix$$1","basis$1","basisClosed","rgb$1","rgbGamma","rgb$$1","rgbBasis","rgbBasisClosed","nb","na","date","Date","setTime","reA","reB","source","string","am","bm","bs","bi","lastIndex","index","degrees","atan","interpolateTransformCss","interpolateTransformSvg","rho","SQRT2","rho2","rho4","epsilon2","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","d1","b0","b1","r0","r1","coshr0","duration","hsl$2","hslLong","hcl$2","hclLong","cubehelix$2","cubehelixLong","quantize","interpolator","samples","interpolate","interpolateArray","interpolateBasis","interpolateBasisClosed","interpolateDate","interpolateNumber","interpolateObject","interpolateRound","interpolateString","interpolateZoom","interpolateRgb","interpolateRgbBasis","interpolateRgbBasisClosed","interpolateHsl","interpolateHslLong","interpolateLab","interpolateHcl","interpolateHclLong","interpolateCubehelix","interpolateCubehelixLong","d3-color","27","d3Array","d3Collection","d3Interpolate","d3Format","d3Time","d3TimeFormat","ordinal","unknown","implicit","band","rescale","paddingInner","paddingOuter","bandwidth","ordinalRange","rangeRound","pointish","deinterpolate","deinterpolateClamp","reinterpolateClamp","reinterpolate","bimap","d0","polymap","target","clamp","continuous","deinterpolate$$","piecewise","output","input","unit","map$1","tickFormat","linearish","nice","interval","deinterpolate$1","pow10","isFinite","powp","base","logp","log10","log2","reflect","logs","pows","raise","quantile$1","quantiles","number$1","calendar","year","month","week","day","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickInterval","tickIntervals","durationYear","every","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","time","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","timeFormat","utcTime","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","utcFormat","UTC","rainbow$1","ts","rainbow","ramp","sequential","category10","category20b","category20c","category20","warm","cool","viridis","magma","inferno","plasma","scaleBand","scalePoint","scaleIdentity","scaleLog","scaleOrdinal","scaleImplicit","scalePow","scaleSqrt","scaleQuantile","scaleQuantize","scaleThreshold","scaleTime","scaleUtc","schemeCategory10","schemeCategory20b","schemeCategory20c","schemeCategory20","interpolateCubehelixDefault","interpolateRainbow","interpolateWarm","interpolateCool","interpolateViridis","interpolateMagma","interpolateInferno","interpolatePlasma","scaleSequential","d3-collection","d3-interpolate","d3-time","d3-time-format","28","localDate","H","M","L","setFullYear","utcDate","setUTCFullYear","newYear","formats","pad","pads","charAt","newParse","newDate","parseSpecifier","w","getUTCDay","getDay","W","U","Z","parses","parsePeriod","periodRe","periodLookup","parseShortWeekday","shortWeekdayRe","shortWeekdayLookup","parseWeekday","weekdayRe","weekdayLookup","parseShortMonth","shortMonthRe","shortMonthLookup","parseMonth","monthRe","monthLookup","parseLocaleDateTime","locale_dateTime","parseLocaleDate","locale_date","parseLocaleTime","locale_time","formatShortWeekday","locale_shortWeekdays","formatWeekday","locale_weekdays","formatShortMonth","locale_shortMonths","getMonth","locale_months","formatPeriod","locale_periods","getHours","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","getUTCMonth","formatUTCMonth","formatUTCPeriod","getUTCHours","dateTime","periods","days","shortDays","months","shortMonths","formatRe","formatLookup","formatDayOfMonth","formatHour24","I","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","Y","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","utcParse","requote","replace","requoteRe","names","numberRe","percentRe","getDate","getMilliseconds","getMinutes","getSeconds","timeSunday","timeMonday","getFullYear","getTimezoneOffset","getUTCDate","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","utcSunday","utcMonday","getUTCFullYear","locale$1","timeParse","formatIsoNative","toISOString","parseIsoNative","-","0","isoSpecifier","formatIso","parseIso","timeFormatDefaultLocale","timeFormatLocale","isoFormat","isoParse","29","newInterval","floori","offseti","field","offset","filter","weekday","setDate","setHours","utcWeekday","setUTCDate","setUTCHours","milliseconds","seconds","minutes","hours","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","setMonth","years","setUTCSeconds","utcMinutes","setUTCMinutes","utcHours","utcDays","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","setUTCMonth","utcMonths","utcYears","timeInterval","timeMilliseconds","utcMilliseconds","timeSeconds","utcSeconds","timeMinutes","timeHours","timeDays","timeWeeks","timeSundays","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursday","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonths","timeYears","utcWeeks","30","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","BarChart","BarChartConfig","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_get","receiver","Function","desc","getOwnPropertyDescriptor","getPrototypeOf","getter","_chartWithColorGroups","_utils","_ChartWithColorGroups","custom","_this","svgClass","cssClassPrefix","showLegend","showTooltip","Utils","isNumber","deepExtend","ChartWithColorGroupsConfig","_ChartWithColorGroups2","placeholderSelector","config","plot","computePlotSize","setupY","setupX","setupGroupStacks","setupYDomain","conf","axis","createAxis","series","createScale","yStackMax","layers","layer","points","y0","groupData","y0s","groupedData","forEach","mapToPoint","prevY0","parseFloat","axisConf","svgG","selectOrAppend","prefixClass","guides","axisT","ease","easeSinInOut","margin","bottom","layerClass","barClass","layerMerge","bar","barEnter","barRectEnter","barMerge","barRect","barRectT","barT","layerT","transitionEnabled","yDomain","seriesColor","tooltip","hideTooltip","newData","drawAxisX","drawAxisY","drawBars","ChartWithColorGroups","./chart-with-color-groups","./utils","31","BoxPlotBase","BoxPlotBaseConfig","_chart","_ChartConfig","domainMargin","Q1","Q2","Q3","Wl","whiskerLow","Wh","whiskerHigh","outliers","outlierValue","outlierLabel","minBoxWidth","maxBoxWidth","d3ColorCategory","ChartConfig","_Chart","getDataToPlot","setupColor","tickSize","_this3","yMin","yMax","q1","q3","wl","wh","label","boxplotClass","boxplots","boxplotEnter","boxplotsMerge","boxplotsT","delay","boxWidth","boxLeft","boxRight","boxClass","classed","html","boxRects","boxRectsT","medianClass","medianLine","whiskerClass","tickClass","whiskers","box","endpoint","whisker","tick","outlierClass","outlierEnterCircle","outliersMerge","outliersT","drawBoxPlots","_this4","colorSchemeCategory","capitalizeFirstLetter","colorCategory","colorValue","String","Chart","./chart","32","BoxPlot","BoxPlotConfig","_boxPlotBase","_statisticsUtils","_BoxPlotBaseConfig","groups","displayValue","tukey","_BoxPlotBase","groupingEnabled","isGroupingEnabled","groupValue","getDisplayValue","isFunction","isObject","StatisticsUtils","IQR","./box-plot-base","./statistics-utils","33","setupGroups","getOwnPropertyNames","groupToLabel","computeGroupColorDomain","getLabel","_this5","enabledGroups","updateLegend","container","legendX","legendY","Legend","legendColor","onLegendCellClick","updateLegendCellStatuses","cellValue","updateEnabledGroups","init","isDisabled","splice","34","top","titleSize","titleMargin","subtitle","subtitleSize","subtitleMargin","utils","_attached","_layers","_events","_isInitialized","_id","guid","_isAttached","baseContainer","setConfig","setData","postInit","initConfigAccessors","initPlot","initSvg","initTooltip","draw","svgWidth","svgHeight","titleMarginSize","updateTitle","updateSubtitle","attachmentData","attachmentName","update","titleClass","subtitleClass","chart","context","events","once","off","event","ev","getBaseContainer","node","clazz","addDot","availableWidth","availableHeight","pageX","pageY","clean","removePropertyAccessors","initPropertyAccessors","bindTo","returnObj","recursive","accessor","initPropertyAccessor","isObjectNotArray","propertyKey","35","CorrelationMatrix","CorrelationMatrixConfig","_scatterplot","highlightLabels","rotateLabelsX","rotateLabelsY","variables","variableKey","correlation","xValues","yValues","sizeMin","sizeMax","setupVariables","placeholderNode","getBaseContainerNode","parentWidth","getBoundingClientRect","cellSize","setupVariablesScales","setupCorrelationScales","setupCorrelationMatrix","corrConf","cellConf","radiusMax","radiusScale","radius","radiusX","radiusY","rotateVal","variablesConf","domainByVariable","inferVariables","includeInPlot","labelByVariable","matrixCells","variableToValues","corr","rowVar","colVar","col","updateCells","updateVariableLabels","labelClass","updateAxisX","updateAxisY","labelXClass","labelsMerge","maxWidth","computeXAxisLabelsWidth","placeTextWithEllipsisAndTooltip","labelYClass","computeYAxisLabelsWidth","SQRT_2","fontSize","cellClass","cellShape","cellsEnter","cellsMerge","scatterPlot","selector","wrongShapes","mouseoverCallbacks","mouseoutCallbacks","highlightClass","xLabelClass","yLabelClass","trigger","barWidth","barHeight","linearGradientBar","containerSelector","scatterPlotConfig","ScatterPlot","attach","./scatterplot","36","D3Extensions","selection","insertSelector","before","appendSelector","selectOrInsert","37","HeatmapTimeSeries","HeatmapTimeSeriesConfig","_heatmap","_HeatmapConfig","fillMissing","intervalStep","displayFormat","intervalToFormats","sortComparator","isString","localeCompare","formatter","Number","nf","Intl","NumberFormat","HeatmapConfig","_Heatmap","guessTimeFormat","initTimeFormatAndInterval","timeParser","getTimeParser","uniqueValues","prev","current","parseTime","next","nextTimeTickValue","missing","iteration","compareTimeValues","timeString","formatTime","updateGroups","parser","getTimeFormatter","isDate","rowIndex","prevRowValue","colIndex","guessInterval","intervalFormat","formatMatch","some","timeFormatter","Heatmap","./heatmap","38","noDataText","rotateLabels","decimalPlaces","sortLabels","overlap","notAvailableValue","noDataColor","reverseScale","matrixes","setupValues","buildCells","titleRectWidth","groupByX","allTitlesWidth","groupByY","_depth","_allTitlesWidth","setupZScale","children","level","valueMap","minZ","maxZ","xVal","yVal","zValRaw","zVal","groupY","groupX","setupValuesBeforeGroupsSort","gaps","totalValuesCount","allValuesList","sortGroups","val","axisVal","rootGroup","axisGroupsConfig","currentGroup","groupKey","groupKeyIndex","groupingValue","axisConfig","allValuesCount","allValuesBeforeCount","gapsBefore","gapsSize","computeGapsSize","gapsBeforeSize","childrenList","childrenCount","childProp","child","gapsInside","gapsInsideSize","cellWidth","xGapsSize","computedCellWidth","yGapsSize","computedCellHeight","cellHeight","unshift","drawGroupsY","drawGroupsX","updateAxisTitles","offsetX","gapSize","computeGapSize","formatValueX","elem","labelsEnter","offsetY","formatted","formatValueY","parentGroup","groupClass","groupYClass","valuesBeforeCount","groupsEnter","titleGroupEnter","groupTitleRectHeight","groupsMerge","groupWidth","titleGroups","tileRects","setGroupMouseCallbacks","groupXClass","titleRectHeight","groupHeight","parentNode","cellContainerClass","paddingX","paddingY","cellContainer","formatValueZ","formatLegendValue","setRotateLabels","gapLevel","maxGroupGapSize","gapsNumber","gapsLevel","39","Histogram","HistogramConfig","frequency","setupHistogram","stackedHistograms","histogramBins","drawHistogram","40","RegressionConfig","Regression","ScatterPlotMatrixConfig","ScatterPlotMatrix","ScatterPlotConfig","_scatterplotMatrix","_regression","_correlationMatrix","_heatmapTimeseries","_histogram","_barChart","_boxPlot","_d3Extensions","./bar-chart","./box-plot","./correlation-matrix","./d3-extensions","./heatmap-timeseries","./histogram","./regression","./scatterplot-matrix","41","_color","_color2","_size","_size2","_symbol","_symbol2","legendParent","legendClass","gradientId","linearGradient","ticksNumber","ticksMerge","../bower_components/d3-legend/src/color","../bower_components/d3-legend/src/size","../bower_components/d3-legend/src/symbol","42","_ScatterPlotConfig","mainRegression","groupRegression","confidence","criticalValue","degreesOfFreedom","criticalProbability","tValue","marginOfError","areaCurve","curveNatural","_ScatterPlot","initRegressionLines","groupsAvailable","regressions","regression","initRegression","initGroupRegression","groupVal","extentX","linePoints","line","curve","curveBasis","defaultColor","computeConfidence","alpha","meanX","xMySum","xSum","xPowSum","ySum","yPowSum","Sa2","Sy2","errorFn","computeConfidenceAreaPoint","moe","confDown","confUp","y1","centerX","confidenceAreaPoints","fitInPlot","confidenceArea","area","updateRegressionLines","regressionContainerClass","regressionContainerSelector","clipPathId","regressionContainer","dotsContainerClass","regressionContainerClip","regressionClass","confidenceAreaClass","regressionSelector","regressionEnter","regressionMerge","lineClass","lineT","areaT","43","minCellSize","maxCellSize","brush","dot","subplots","variable","plotSubplot","frameClass","subplot","dots","dotsMerge","dotsT","dotRadius","axisClass","axisXClass","axisYClass","xAxisSelector","yAxisSelector","noGuidesClass","xAxis","xAxisMerge","yAxis","yAxisMerge","cross","cellMerge","drawBrush","brushstart","brushCell","clearBrush","brushmove","hiddenClass","brushend","move","44","updateDots","dotClass","dotsContainer","layerEnter","dotsEnter","45","tdistr","$n","$p","integer","precision_string","_subt","_subu","$y","$x","$u","$u2","$a","$b","$c","$d","$e","$round","$p1","_subtprob","$n1","$delta","round_to_precision","$w","$z","$i","$max","SIGNIFICANT","46","_statisticsDistributions","su","standardError","../bower_components/simple-statistics/src/error_function","../bower_components/simple-statistics/src/linear_regression","../bower_components/simple-statistics/src/linear_regression_line","../bower_components/simple-statistics/src/mean","../bower_components/simple-statistics/src/quantile","../bower_components/simple-statistics/src/sample_correlation","../bower_components/simple-statistics/src/sample_standard_deviation","../bower_components/simple-statistics/src/standard_deviation","../bower_components/simple-statistics/src/variance","../bower_components/simple-statistics/src/z_score","./statistics-distributions","47","_defineProperty","srcObj","assign","mergeDeep","includeGroup","res","prop","item","operation","selectorParts","element","selectorModifier","selectorItem","insertOrAppendSelector","x2","y2","defs","stops","stopsMerge","s4","textD3Obj","textString","textObj","textContent","ellipsisLength","getComputedTextLength","getSubStringLength","ellipsisPlaced","placeTextWithEllipsis","scaleName","scaleFunctionName","axisFnName","sanitizeHeight","sanitizeWidth"],"mappings":"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","file":"odc-d3.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ODCD3 = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = color;\n\nvar _legend = require('./legend');\n\nvar _legend2 = _interopRequireDefault(_legend);\n\nvar _d3Dispatch = require('d3-dispatch');\n\nvar _d3Scale = require('d3-scale');\n\nvar _d3Format = require('d3-format');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction color() {\n\n  var scale = (0, _d3Scale.scaleLinear)(),\n      shape = \"rect\",\n      shapeWidth = 15,\n      shapeHeight = 15,\n      shapeRadius = 10,\n      shapePadding = 2,\n      cells = [5],\n      labels = [],\n      classPrefix = \"\",\n      useClass = false,\n      title = \"\",\n      labelFormat = (0, _d3Format.format)(\".01f\"),\n      labelOffset = 10,\n      labelAlign = \"middle\",\n      labelDelimiter = \"to\",\n      orient = \"vertical\",\n      ascending = false,\n      path = void 0,\n      legendDispatcher = (0, _d3Dispatch.dispatch)(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n\n    var type = _legend2.default.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n    legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n    var cell = svg.select('.' + classPrefix + 'legendCells').selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n    //add event handlers\n    _legend2.default.d3_addEvents(cellEnter, legendDispatcher);\n\n    cell.exit().transition().style(\"opacity\", 0).remove();\n\n    _legend2.default.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\n\n    _legend2.default.d3_addText(svg, cellEnter, type.labels, classPrefix);\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    // sets placement\n    var text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map(function (d) {\n      return d.getBBox();\n    });\n    //sets scale\n    //everything is fill except for line which is stroke,\n    if (!useClass) {\n      if (shape == \"line\") {\n        shapes.style(\"stroke\", type.feature);\n      } else {\n        shapes.style(\"fill\", type.feature);\n      }\n    } else {\n      shapes.attr(\"class\", function (d) {\n        return classPrefix + 'swatch ' + type.feature(d);\n      });\n    }\n\n    var cellTrans = void 0,\n        textTrans = void 0,\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      cellTrans = function cellTrans(d, i) {\n        return 'translate(0, ' + i * (shapeSize[i].height + shapePadding) + ')';\n      };\n      textTrans = function textTrans(d, i) {\n        return 'translate( ' + (shapeSize[i].width + shapeSize[i].x + labelOffset) + ', ' + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + ')';\n      };\n    } else if (orient === \"horizontal\") {\n      cellTrans = function cellTrans(d, i) {\n        return 'translate(' + i * (shapeSize[i].width + shapePadding) + ',0)';\n      };\n      textTrans = function textTrans(d, i) {\n        return 'translate(' + (shapeSize[i].width * textAlign + shapeSize[i].x) + ',\\n          ' + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + ')';\n      };\n    }\n\n    _legend2.default.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n    _legend2.default.d3_title(svg, title, classPrefix);\n\n    cell.transition().style(\"opacity\", 1);\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shape = function (_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || _ == \"path\" && typeof d === 'string') {\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function (_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapeHeight = function (_) {\n    if (!arguments.length) return shapeHeight;\n    shapeHeight = +_;\n    return legend;\n  };\n\n  legend.shapeRadius = function (_) {\n    if (!arguments.length) return shapeRadius;\n    shapeRadius = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof _ === 'string' ? (0, _d3Format.format)(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.useClass = function (_) {\n    if (!arguments.length) return useClass;\n    if (_ === true || _ === false) {\n      useClass = _;\n    }\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n};\n\n},{\"./legend\":2,\"d3-dispatch\":24,\"d3-format\":25,\"d3-scale\":27}],2:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar d3_identity = function d3_identity(d) {\n  return d;\n};\n\nvar d3_reverse = function d3_reverse(arr) {\n  var mirror = [];\n  for (var i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l - i - 1];\n  }\n  return mirror;\n};\n\nvar d3_mergeLabels = function d3_mergeLabels() {\n  var gen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var labels = arguments[1];\n  var domain = arguments[2];\n  var range = arguments[3];\n\n\n  if ((typeof labels === \"undefined\" ? \"undefined\" : _typeof(labels)) === \"object\") {\n    if (labels.length === 0) return gen;\n\n    var i = labels.length;\n    for (; i < gen.length; i++) {\n      labels.push(gen[i]);\n    }\n    return labels;\n  } else if (typeof labels === \"function\") {\n    var customLabels = [];\n    var genLength = gen.length;\n    for (var _i = 0; _i < genLength; _i++) {\n      customLabels.push(labels({\n        i: _i,\n        genLength: genLength,\n        generatedLabels: gen,\n        domain: domain,\n        range: range }));\n    }\n    return customLabels;\n  }\n\n  return gen;\n};\n\nvar d3_linearLegend = function d3_linearLegend(scale, cells, labelFormat) {\n  var data = [];\n\n  if (cells.length > 1) {\n    data = cells;\n  } else {\n    var domain = scale.domain(),\n        increment = (domain[domain.length - 1] - domain[0]) / (cells - 1);\n    var i = 0;\n\n    for (; i < cells; i++) {\n      data.push(domain[0] + i * increment);\n    }\n  }\n\n  var labels = data.map(labelFormat);\n\n  return { data: data,\n    labels: labels,\n    feature: function feature(d) {\n      return scale(d);\n    } };\n};\n\nvar d3_quantLegend = function d3_quantLegend(scale, labelFormat, labelDelimiter) {\n  var labels = scale.range().map(function (d) {\n    var invert = scale.invertExtent(d);\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\n  });\n\n  return { data: scale.range(),\n    labels: labels,\n    feature: d3_identity\n  };\n};\n\nvar d3_ordinalLegend = function d3_ordinalLegend(scale) {\n  return { data: scale.domain(),\n    labels: scale.domain(),\n    feature: function feature(d) {\n      return scale(d);\n    } };\n};\n\nvar d3_cellOver = function d3_cellOver(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellover\", obj, d);\n};\n\nvar d3_cellOut = function d3_cellOut(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellout\", obj, d);\n};\n\nvar d3_cellClick = function d3_cellClick(cellDispatcher, d, obj) {\n  cellDispatcher.call(\"cellclick\", obj, d);\n};\n\nexports.default = {\n\n  d3_drawShapes: function d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\n    if (shape === \"rect\") {\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\n    } else if (shape === \"circle\") {\n      shapes.attr(\"r\", shapeRadius); //.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\n    } else if (shape === \"line\") {\n      shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path);\n    }\n  },\n\n  d3_addText: function d3_addText(svg, enter, labels, classPrefix) {\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\n    svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\").data(labels).text(d3_identity);\n  },\n\n  d3_calcType: function d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter) {\n    var type = scale.invertExtent ? d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ? d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\n\n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), scale.range());\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels);\n      type.data = d3_reverse(type.data);\n    }\n\n    return type;\n  },\n\n  d3_placement: function d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign) {\n    cell.attr(\"transform\", cellTrans);\n    text.attr(\"transform\", textTrans);\n    if (orient === \"horizontal\") {\n      text.style(\"text-anchor\", labelAlign);\n    }\n  },\n\n  d3_addEvents: function d3_addEvents(cells, dispatcher) {\n    cells.on(\"mouseover.legend\", function (d) {\n      d3_cellOver(dispatcher, d, this);\n    }).on(\"mouseout.legend\", function (d) {\n      d3_cellOut(dispatcher, d, this);\n    }).on(\"click.legend\", function (d) {\n      d3_cellClick(dispatcher, d, this);\n    });\n  },\n\n  d3_title: function d3_title(svg, title, classPrefix) {\n    if (title !== \"\") {\n\n      var titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\n\n      titleText.data([title]).enter().append('text').attr('class', classPrefix + 'legendTitle');\n\n      svg.selectAll('text.' + classPrefix + 'legendTitle').text(title);\n\n      var cellsSvg = svg.select('.' + classPrefix + 'legendCells');\n\n      var yOffset = svg.select('.' + classPrefix + 'legendTitle').nodes().map(function (d) {\n        return d.getBBox().height;\n      })[0],\n          xOffset = -cellsSvg.nodes().map(function (d) {\n        return d.getBBox().x;\n      })[0];\n\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\n    }\n  }\n};\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = size;\n\nvar _legend = require('./legend');\n\nvar _legend2 = _interopRequireDefault(_legend);\n\nvar _d3Dispatch = require('d3-dispatch');\n\nvar _d3Scale = require('d3-scale');\n\nvar _d3Format = require('d3-format');\n\nvar _d3Array = require('d3-array');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction size() {\n\n  var scale = (0, _d3Scale.scaleLinear)(),\n      shape = \"rect\",\n      shapeWidth = 15,\n      shapePadding = 2,\n      cells = [5],\n      labels = [],\n      classPrefix = \"\",\n      title = \"\",\n      labelFormat = (0, _d3Format.format)(\".01f\"),\n      labelOffset = 10,\n      labelAlign = \"middle\",\n      labelDelimiter = \"to\",\n      orient = \"vertical\",\n      ascending = false,\n      path = void 0,\n      legendDispatcher = (0, _d3Dispatch.dispatch)(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n\n    var type = _legend2.default.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n    legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n    var cell = svg.select('.' + classPrefix + 'legendCells').selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n    //add event handlers\n    _legend2.default.d3_addEvents(cellEnter, legendDispatcher);\n\n    cell.exit().transition().style(\"opacity\", 0).remove();\n\n    //creates shape\n    if (shape === \"line\") {\n      _legend2.default.d3_drawShapes(shape, shapes, 0, shapeWidth);\n      shapes.attr(\"stroke-width\", type.feature);\n    } else {\n      _legend2.default.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\n    }\n\n    _legend2.default.d3_addText(svg, cellEnter, type.labels, classPrefix);\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    //sets placement\n    var text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map(function (d, i) {\n      var bbox = d.getBBox();\n      var stroke = scale(type.data[i]);\n\n      if (shape === \"line\" && orient === \"horizontal\") {\n        bbox.height = bbox.height + stroke;\n      } else if (shape === \"line\" && orient === \"vertical\") {\n        bbox.width = bbox.width;\n      }\n\n      return bbox;\n    });\n\n    var maxH = (0, _d3Array.max)(shapeSize, function (d) {\n      return d.height + d.y;\n    }),\n        maxW = (0, _d3Array.max)(shapeSize, function (d) {\n      return d.width + d.x;\n    });\n\n    var cellTrans = void 0,\n        textTrans = void 0,\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n\n      cellTrans = function cellTrans(d, i) {\n        var height = (0, _d3Array.sum)(shapeSize.slice(0, i + 1), function (d) {\n          return d.height;\n        });\n        return 'translate(0, ' + (height + i * shapePadding) + ')';\n      };\n\n      textTrans = function textTrans(d, i) {\n        return 'translate( ' + (maxW + labelOffset) + ',\\n          ' + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + ')';\n      };\n    } else if (orient === \"horizontal\") {\n      cellTrans = function cellTrans(d, i) {\n        var width = (0, _d3Array.sum)(shapeSize.slice(0, i + 1), function (d) {\n          return d.width;\n        });\n        return 'translate(' + (width + i * shapePadding) + ',0)';\n      };\n\n      textTrans = function textTrans(d, i) {\n        return 'translate( ' + (shapeSize[i].width * textAlign + shapeSize[i].x) + ',\\n              ' + (maxH + labelOffset) + ')';\n      };\n    }\n\n    _legend2.default.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n    _legend2.default.d3_title(svg, title, classPrefix);\n\n    cell.transition().style(\"opacity\", 1);\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shape = function (_, d) {\n    if (!arguments.length) return shape;\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\n      shape = _;\n      path = d;\n    }\n    return legend;\n  };\n\n  legend.shapeWidth = function (_) {\n    if (!arguments.length) return shapeWidth;\n    shapeWidth = +_;\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof _ === 'string' ? (0, _d3Format.format)(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n};\n\n},{\"./legend\":2,\"d3-array\":21,\"d3-dispatch\":24,\"d3-format\":25,\"d3-scale\":27}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = symbol;\n\nvar _legend = require('./legend');\n\nvar _legend2 = _interopRequireDefault(_legend);\n\nvar _d3Dispatch = require('d3-dispatch');\n\nvar _d3Scale = require('d3-scale');\n\nvar _d3Format = require('d3-format');\n\nvar _d3Array = require('d3-array');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction symbol() {\n\n  var scale = (0, _d3Scale.scaleLinear)(),\n      shape = \"path\",\n      shapeWidth = 15,\n      shapeHeight = 15,\n      shapeRadius = 10,\n      shapePadding = 5,\n      cells = [5],\n      labels = [],\n      classPrefix = \"\",\n      title = \"\",\n      labelFormat = (0, _d3Format.format)(\".01f\"),\n      labelAlign = \"middle\",\n      labelOffset = 10,\n      labelDelimiter = \"to\",\n      orient = \"vertical\",\n      ascending = false,\n      legendDispatcher = (0, _d3Dispatch.dispatch)(\"cellover\", \"cellout\", \"cellclick\");\n\n  function legend(svg) {\n\n    var type = _legend2.default.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\n        legendG = svg.selectAll('g').data([scale]);\n\n    legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\n\n    var cell = svg.select('.' + classPrefix + 'legendCells').selectAll(\".\" + classPrefix + \"cell\").data(type.data);\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\n\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\n\n    //add event handlers\n    _legend2.default.d3_addEvents(cellEnter, legendDispatcher);\n\n    //remove old shapes\n    cell.exit().transition().style(\"opacity\", 0).remove();\n\n    _legend2.default.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\n    _legend2.default.d3_addText(svg, cellEnter, type.labels, classPrefix);\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell);\n\n    // sets placement\n    var text = cell.selectAll(\"text\"),\n        shapeSize = shapes.nodes().map(function (d) {\n      return d.getBBox();\n    });\n\n    var maxH = (0, _d3Array.max)(shapeSize, function (d) {\n      return d.height;\n    }),\n        maxW = (0, _d3Array.max)(shapeSize, function (d) {\n      return d.width;\n    });\n\n    var cellTrans = void 0,\n        textTrans = void 0,\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      cellTrans = function cellTrans(d, i) {\n        return 'translate(0, ' + i * (maxH + shapePadding) + ' )';\n      };\n      textTrans = function textTrans(d, i) {\n        return 'translate( ' + (maxW + labelOffset) + ',\\n              ' + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + ')';\n      };\n    } else if (orient === \"horizontal\") {\n      cellTrans = function cellTrans(d, i) {\n        return 'translate( ' + i * (maxW + shapePadding) + ',0)';\n      };\n      textTrans = function textTrans(d, i) {\n        return 'translate( ' + (shapeSize[i].width * textAlign + shapeSize[i].x) + ',\\n              ' + (maxH + labelOffset) + ')';\n      };\n    }\n\n    _legend2.default.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\n    _legend2.default.d3_title(svg, title, classPrefix);\n    cell.transition().style(\"opacity\", 1);\n  }\n\n  legend.scale = function (_) {\n    if (!arguments.length) return scale;\n    scale = _;\n    return legend;\n  };\n\n  legend.cells = function (_) {\n    if (!arguments.length) return cells;\n    if (_.length > 1 || _ >= 2) {\n      cells = _;\n    }\n    return legend;\n  };\n\n  legend.shapePadding = function (_) {\n    if (!arguments.length) return shapePadding;\n    shapePadding = +_;\n    return legend;\n  };\n\n  legend.labels = function (_) {\n    if (!arguments.length) return labels;\n    labels = _;\n    return legend;\n  };\n\n  legend.labelAlign = function (_) {\n    if (!arguments.length) return labelAlign;\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _;\n    }\n    return legend;\n  };\n\n  legend.labelFormat = function (_) {\n    if (!arguments.length) return labelFormat;\n    labelFormat = typeof _ === 'string' ? (0, _d3Format.format)(_) : _;\n    return legend;\n  };\n\n  legend.labelOffset = function (_) {\n    if (!arguments.length) return labelOffset;\n    labelOffset = +_;\n    return legend;\n  };\n\n  legend.labelDelimiter = function (_) {\n    if (!arguments.length) return labelDelimiter;\n    labelDelimiter = _;\n    return legend;\n  };\n\n  legend.orient = function (_) {\n    if (!arguments.length) return orient;\n    _ = _.toLowerCase();\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _;\n    }\n    return legend;\n  };\n\n  legend.ascending = function (_) {\n    if (!arguments.length) return ascending;\n    ascending = !!_;\n    return legend;\n  };\n\n  legend.classPrefix = function (_) {\n    if (!arguments.length) return classPrefix;\n    classPrefix = _;\n    return legend;\n  };\n\n  legend.title = function (_) {\n    if (!arguments.length) return title;\n    title = _;\n    return legend;\n  };\n\n  legend.on = function () {\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\n    return value === legendDispatcher ? legend : value;\n  };\n\n  return legend;\n};\n\n},{\"./legend\":2,\"d3-array\":21,\"d3-dispatch\":24,\"d3-format\":25,\"d3-scale\":27}],5:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\r\n *\r\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\r\n * normal distribution with standard deviation sd is within x of the mean.\r\n *\r\n * This function returns a numerical approximation to the exact value.\r\n *\r\n * @param {number} x input\r\n * @return {number} error estimation\r\n * @example\r\n * errorFunction(1).toFixed(2); // => '0.84'\r\n */\n\nfunction errorFunction(x /*: number */) /*: number */{\n    var t = 1 / (1 + 0.5 * Math.abs(x));\n    var tau = t * Math.exp(-Math.pow(x, 2) - 1.26551223 + 1.00002368 * t + 0.37409196 * Math.pow(t, 2) + 0.09678418 * Math.pow(t, 3) - 0.18628806 * Math.pow(t, 4) + 0.27886807 * Math.pow(t, 5) - 1.13520398 * Math.pow(t, 6) + 1.48851587 * Math.pow(t, 7) - 0.82215223 * Math.pow(t, 8) + 0.17087277 * Math.pow(t, 9));\n    if (x >= 0) {\n        return 1 - tau;\n    } else {\n        return tau - 1;\n    }\n}\n\nmodule.exports = errorFunction;\n\n},{}],6:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\r\n * is a simple way to find a fitted line\r\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\r\n * using the least sum of squares.\r\n *\r\n * @param {Array<Array<number>>} data an array of two-element of arrays,\r\n * like `[[0, 1], [2, 3]]`\r\n * @returns {Object} object containing slope and intersect of regression line\r\n * @example\r\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\r\n */\n\nfunction linearRegression(data /*: Array<Array<number>> */) /*: { m: number, b: number } */{\n\n    var m, b;\n\n    // Store data length in a local variable to reduce\n    // repeated object property lookups\n    var dataLength = data.length;\n\n    //if there's only one point, arbitrarily choose a slope of 0\n    //and a y-intercept of whatever the y of the initial point is\n    if (dataLength === 1) {\n        m = 0;\n        b = data[0][1];\n    } else {\n        // Initialize our sums and scope the `m` and `b`\n        // variables that define the line.\n        var sumX = 0,\n            sumY = 0,\n            sumXX = 0,\n            sumXY = 0;\n\n        // Use local variables to grab point values\n        // with minimal object property lookups\n        var point, x, y;\n\n        // Gather the sum of all x values, the sum of all\n        // y values, and the sum of x^2 and (x*y) for each\n        // value.\n        //\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\n        for (var i = 0; i < dataLength; i++) {\n            point = data[i];\n            x = point[0];\n            y = point[1];\n\n            sumX += x;\n            sumY += y;\n\n            sumXX += x * x;\n            sumXY += x * y;\n        }\n\n        // `m` is the slope of the regression line\n        m = (dataLength * sumXY - sumX * sumY) / (dataLength * sumXX - sumX * sumX);\n\n        // `b` is the y-intercept of the line.\n        b = sumY / dataLength - m * sumX / dataLength;\n    }\n\n    // Return both values as an object.\n    return {\n        m: m,\n        b: b\n    };\n}\n\nmodule.exports = linearRegression;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * Given the output of `linearRegression`: an object\r\n * with `m` and `b` values indicating slope and intercept,\r\n * respectively, generate a line function that translates\r\n * x values into y values.\r\n *\r\n * @param {Object} mb object with `m` and `b` members, representing\r\n * slope and intersect of desired line\r\n * @returns {Function} method that computes y-value at any given\r\n * x-value on the line.\r\n * @example\r\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\r\n * l(0) // = 0\r\n * l(2) // = 2\r\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\r\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\r\n */\n\nfunction linearRegressionLine(mb /*: { b: number, m: number }*/) /*: Function */{\n    // Return a function that computes a `y` value for each\n    // x value it is given, based on the values of `b` and `a`\n    // that we just computed.\n    return function (x) {\n        return mb.b + mb.m * x;\n    };\n}\n\nmodule.exports = linearRegressionLine;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar sum = require('./sum');\n\n/**\r\n * The mean, _also known as average_,\r\n * is the sum of all values over the number of values.\r\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\r\n * a method of finding a typical or central value of a set of numbers.\r\n *\r\n * This runs on `O(n)`, linear time in respect to the array\r\n *\r\n * @param {Array<number>} x input values\r\n * @returns {number} mean\r\n * @example\r\n * mean([0, 10]); // => 5\r\n */\nfunction mean(x /*: Array<number> */) /*:number*/{\n    // The mean of no numbers is null\n    if (x.length === 0) {\n        return NaN;\n    }\n\n    return sum(x) / x.length;\n}\n\nmodule.exports = mean;\n\n},{\"./sum\":17}],9:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar quantileSorted = require('./quantile_sorted');\nvar quickselect = require('./quickselect');\n\n/**\r\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\r\n * this is a population quantile, since we assume to know the entire\r\n * dataset in this library. This is an implementation of the\r\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\r\n * algorithm from wikipedia.\r\n *\r\n * Sample is a one-dimensional array of numbers,\r\n * and p is either a decimal number from 0 to 1 or an array of decimal\r\n * numbers from 0 to 1.\r\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\r\n * with decimal values.\r\n * When p is an array, the result of the function is also an array containing the appropriate\r\n * quantiles in input order\r\n *\r\n * @param {Array<number>} sample a sample from the population\r\n * @param {number} p the desired quantile, as a number between 0 and 1\r\n * @returns {number} quantile\r\n * @example\r\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\r\n */\nfunction quantile(sample /*: Array<number> */, p /*: Array<number> | number */) {\n    var copy = sample.slice();\n\n    if (Array.isArray(p)) {\n        // rearrange elements so that each element corresponding to a requested\n        // quantile is on a place it would be if the array was fully sorted\n        multiQuantileSelect(copy, p);\n        // Initialize the result array\n        var results = [];\n        // For each requested quantile\n        for (var i = 0; i < p.length; i++) {\n            results[i] = quantileSorted(copy, p[i]);\n        }\n        return results;\n    } else {\n        var idx = quantileIndex(copy.length, p);\n        quantileSelect(copy, idx, 0, copy.length - 1);\n        return quantileSorted(copy, p);\n    }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n    if (k % 1 === 0) {\n        quickselect(arr, k, left, right);\n    } else {\n        k = Math.floor(k);\n        quickselect(arr, k, left, right);\n        quickselect(arr, k + 1, k + 1, right);\n    }\n}\n\nfunction multiQuantileSelect(arr, p) {\n    var indices = [0];\n    for (var i = 0; i < p.length; i++) {\n        indices.push(quantileIndex(arr.length, p[i]));\n    }\n    indices.push(arr.length - 1);\n    indices.sort(compare);\n\n    var stack = [0, indices.length - 1];\n\n    while (stack.length) {\n        var r = Math.ceil(stack.pop());\n        var l = Math.floor(stack.pop());\n        if (r - l <= 1) continue;\n\n        var m = Math.floor((l + r) / 2);\n        quantileSelect(arr, indices[m], indices[l], indices[r]);\n\n        stack.push(l, m, m, r);\n    }\n}\n\nfunction compare(a, b) {\n    return a - b;\n}\n\nfunction quantileIndex(len /*: number */, p /*: number */) /*:number*/{\n    var idx = len * p;\n    if (p === 1) {\n        // If p is 1, directly return the last index\n        return len - 1;\n    } else if (p === 0) {\n        // If p is 0, directly return the first index\n        return 0;\n    } else if (idx % 1 !== 0) {\n        // If index is not integer, return the next index in array\n        return Math.ceil(idx) - 1;\n    } else if (len % 2 === 0) {\n        // If the list has even-length, we'll return the middle of two indices\n        // around quantile to indicate that we need an average value of the two\n        return idx - 0.5;\n    } else {\n        // Finally, in the simple case of an integer index\n        // with an odd-length list, return the index\n        return idx;\n    }\n}\n\nmodule.exports = quantile;\n\n},{\"./quantile_sorted\":10,\"./quickselect\":11}],10:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * This is the internal implementation of quantiles: when you know\r\n * that the order is sorted, you don't need to re-sort it, and the computations\r\n * are faster.\r\n *\r\n * @param {Array<number>} sample input data\r\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\r\n * @returns {number} quantile value\r\n * @example\r\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\r\n */\n\nfunction quantileSorted(sample /*: Array<number> */, p /*: number */) /*:number*/{\n    var idx = sample.length * p;\n    if (p < 0 || p > 1) {\n        return NaN;\n    } else if (p === 1) {\n        // If p is 1, directly return the last element\n        return sample[sample.length - 1];\n    } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return sample[0];\n    } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return sample[Math.ceil(idx) - 1];\n    } else if (sample.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (sample[idx - 1] + sample[idx]) / 2;\n    } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the sample value at the index.\n        return sample[idx];\n    }\n}\n\nmodule.exports = quantileSorted;\n\n},{}],11:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nmodule.exports = quickselect;\n\n/**\r\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\r\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\r\n *\r\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\r\n *\r\n * @private\r\n * @param {Array<number>} arr input array\r\n * @param {number} k pivot index\r\n * @param {number} left left index\r\n * @param {number} right right index\r\n * @returns {undefined}\r\n * @example\r\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\r\n * quickselect(arr, 8);\r\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\r\n */\nfunction quickselect(arr /*: Array<number> */, k /*: number */, left /*: number */, right /*: number */) {\n    left = left || 0;\n    right = right || arr.length - 1;\n\n    while (right > left) {\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n);\n            if (m - n / 2 < 0) sd *= -1;\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselect(arr, k, newLeft, newRight);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (arr[right] > t) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (arr[i] < t) {\n                i++;\n            }while (arr[j] > t) {\n                j--;\n            }\n        }\n\n        if (arr[left] === t) swap(arr, left, j);else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\n},{}],12:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar sampleCovariance = require('./sample_covariance');\nvar sampleStandardDeviation = require('./sample_standard_deviation');\n\n/**\r\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\r\n * a measure of how correlated two datasets are, between -1 and 1\r\n *\r\n * @param {Array<number>} x first input\r\n * @param {Array<number>} y second input\r\n * @returns {number} sample correlation\r\n * @example\r\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\r\n * // => '0.69'\r\n */\nfunction sampleCorrelation(x /*: Array<number> */, y /*: Array<number> */) /*:number*/{\n    var cov = sampleCovariance(x, y),\n        xstd = sampleStandardDeviation(x),\n        ystd = sampleStandardDeviation(y);\n\n    return cov / xstd / ystd;\n}\n\nmodule.exports = sampleCorrelation;\n\n},{\"./sample_covariance\":13,\"./sample_standard_deviation\":14}],13:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n\n/**\r\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_sampleCovariance) of two datasets:\r\n * how much do the two datasets move together?\r\n * x and y are two datasets, represented as arrays of numbers.\r\n *\r\n * @param {Array<number>} x first input\r\n * @param {Array<number>} y second input\r\n * @returns {number} sample covariance\r\n * @example\r\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\r\n */\nfunction sampleCovariance(x /*:Array<number>*/, y /*:Array<number>*/) /*:number*/{\n\n    // The two datasets must have the same length which must be more than 1\n    if (x.length <= 1 || x.length !== y.length) {\n        return NaN;\n    }\n\n    // determine the mean of each dataset so that we can judge each\n    // value of the dataset fairly as the difference from the mean. this\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\n    // does not suffer because of the difference in absolute values\n    var xmean = mean(x),\n        ymean = mean(y),\n        sum = 0;\n\n    // for each pair of values, the covariance increases when their\n    // difference from the mean is associated - if both are well above\n    // or if both are well below\n    // the mean, the covariance increases significantly.\n    for (var i = 0; i < x.length; i++) {\n        sum += (x[i] - xmean) * (y[i] - ymean);\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // the covariance is weighted by the length of the datasets.\n    return sum / besselsCorrection;\n}\n\nmodule.exports = sampleCovariance;\n\n},{\"./mean\":8}],14:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar sampleVariance = require('./sample_variance');\n\n/**\r\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\r\n * is the square root of the variance.\r\n *\r\n * @param {Array<number>} x input array\r\n * @returns {number} sample standard deviation\r\n * @example\r\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\r\n * // => '2.14'\r\n */\nfunction sampleStandardDeviation(x /*:Array<number>*/) /*:number*/{\n  // The standard deviation of no numbers is null\n  var sampleVarianceX = sampleVariance(x);\n  if (isNaN(sampleVarianceX)) {\n    return NaN;\n  }\n  return Math.sqrt(sampleVarianceX);\n}\n\nmodule.exports = sampleStandardDeviation;\n\n},{\"./sample_variance\":15}],15:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\n\n/*\r\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\r\n * is the sum of squared deviations from the mean. The sample variance\r\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\r\n * instead of dividing the sum of squared deviations by the length of the input,\r\n * it is divided by the length minus one. This corrects the bias in estimating\r\n * a value from a set that you don't know if full.\r\n *\r\n * References:\r\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\r\n *\r\n * @param {Array<number>} x input array\r\n * @return {number} sample variance\r\n * @example\r\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\r\n */\nfunction sampleVariance(x /*: Array<number> */) /*:number*/{\n    // The variance of no numbers is null\n    if (x.length <= 1) {\n        return NaN;\n    }\n\n    var sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    return sumSquaredDeviationsValue / besselsCorrection;\n}\n\nmodule.exports = sampleVariance;\n\n},{\"./sum_nth_power_deviations\":18}],16:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar variance = require('./variance');\n\n/**\r\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\r\n * is the square root of the variance. It's useful for measuring the amount\r\n * of variation or dispersion in a set of values.\r\n *\r\n * Standard deviation is only appropriate for full-population knowledge: for\r\n * samples of a population, {@link sampleStandardDeviation} is\r\n * more appropriate.\r\n *\r\n * @param {Array<number>} x input\r\n * @returns {number} standard deviation\r\n * @example\r\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\r\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\r\n */\nfunction standardDeviation(x /*: Array<number> */) /*:number*/{\n  // The standard deviation of no numbers is null\n  var v = variance(x);\n  if (isNaN(v)) {\n    return 0;\n  }\n  return Math.sqrt(v);\n}\n\nmodule.exports = standardDeviation;\n\n},{\"./variance\":19}],17:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * Our default sum is the [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm) is\r\n * a method for computing the sum of a list of numbers while correcting\r\n * for floating-point errors. Traditionally, sums are calculated as many\r\n * successive additions, each one with its own floating-point roundoff. These\r\n * losses in precision add up as the number of numbers increases. This alternative\r\n * algorithm is more accurate than the simple way of calculating sums by simple\r\n * addition.\r\n *\r\n * This runs on `O(n)`, linear time in respect to the array\r\n *\r\n * @param {Array<number>} x input\r\n * @return {number} sum of all input numbers\r\n * @example\r\n * sum([1, 2, 3]); // => 6\r\n */\n\nfunction sum(x /*: Array<number> */) /*: number */{\n\n    // like the traditional sum algorithm, we keep a running\n    // count of the current sum.\n    var sum = 0;\n\n    // but we also keep three extra variables as bookkeeping:\n    // most importantly, an error correction value. This will be a very\n    // small number that is the opposite of the floating point precision loss.\n    var errorCompensation = 0;\n\n    // this will be each number in the list corrected with the compensation value.\n    var correctedCurrentValue;\n\n    // and this will be the next sum\n    var nextSum;\n\n    for (var i = 0; i < x.length; i++) {\n        // first correct the value that we're going to add to the sum\n        correctedCurrentValue = x[i] - errorCompensation;\n\n        // compute the next sum. sum is likely a much larger number\n        // than correctedCurrentValue, so we'll lose precision here,\n        // and measure how much precision is lost in the next step\n        nextSum = sum + correctedCurrentValue;\n\n        // we intentionally didn't assign sum immediately, but stored\n        // it for now so we can figure out this: is (sum + nextValue) - nextValue\n        // not equal to 0? ideally it would be, but in practice it won't:\n        // it will be some very small number. that's what we record\n        // as errorCompensation.\n        errorCompensation = nextSum - sum - correctedCurrentValue;\n\n        // now that we've computed how much we'll correct for in the next\n        // loop, start treating the nextSum as the current sum.\n        sum = nextSum;\n    }\n\n    return sum;\n}\n\nmodule.exports = sum;\n\n},{}],18:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n\n/**\r\n * The sum of deviations to the Nth power.\r\n * When n=2 it's the sum of squared deviations.\r\n * When n=3 it's the sum of cubed deviations.\r\n *\r\n * @param {Array<number>} x\r\n * @param {number} n power\r\n * @returns {number} sum of nth power deviations\r\n * @example\r\n * var input = [1, 2, 3];\r\n * // since the variance of a set is the mean squared\r\n * // deviations, we can calculate that with sumNthPowerDeviations:\r\n * var variance = sumNthPowerDeviations(input) / input.length;\r\n */\nfunction sumNthPowerDeviations(x /*: Array<number> */, n /*: number */) /*:number*/{\n    var meanValue = mean(x),\n        sum = 0;\n\n    for (var i = 0; i < x.length; i++) {\n        sum += Math.pow(x[i] - meanValue, n);\n    }\n\n    return sum;\n}\n\nmodule.exports = sumNthPowerDeviations;\n\n},{\"./mean\":8}],19:[function(require,module,exports){\n'use strict';\n/* @flow */\n\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\n\n/**\r\n * The [variance](http://en.wikipedia.org/wiki/Variance)\r\n * is the sum of squared deviations from the mean.\r\n *\r\n * This is an implementation of variance, not sample variance:\r\n * see the `sampleVariance` method if you want a sample measure.\r\n *\r\n * @param {Array<number>} x a population\r\n * @returns {number} variance: a value greater than or equal to zero.\r\n * zero indicates that all values are identical.\r\n * @example\r\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\r\n */\nfunction variance(x /*: Array<number> */) /*:number*/{\n    // The variance of no numbers is null\n    if (x.length === 0) {\n        return NaN;\n    }\n\n    // Find the mean of squared deviations between the\n    // mean value and each value.\n    return sumNthPowerDeviations(x, 2) / x.length;\n}\n\nmodule.exports = variance;\n\n},{\"./sum_nth_power_deviations\":18}],20:[function(require,module,exports){\n'use strict';\n/* @flow */\n\n/**\r\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\r\n *\r\n * The standard score is the number of standard deviations an observation\r\n * or datum is above or below the mean. Thus, a positive standard score\r\n * represents a datum above the mean, while a negative standard score\r\n * represents a datum below the mean. It is a dimensionless quantity\r\n * obtained by subtracting the population mean from an individual raw\r\n * score and then dividing the difference by the population standard\r\n * deviation.\r\n *\r\n * The z-score is only defined if one knows the population parameters;\r\n * if one only has a sample set, then the analogous computation with\r\n * sample mean and sample standard deviation yields the\r\n * Student's t-statistic.\r\n *\r\n * @param {number} x\r\n * @param {number} mean\r\n * @param {number} standardDeviation\r\n * @return {number} z score\r\n * @example\r\n * zScore(78, 80, 5); // => -0.4\r\n */\n\nfunction zScore(x /*:number*/, mean /*:number*/, standardDeviation /*:number*/) /*:number*/{\n  return (x - mean) / standardDeviation;\n}\n\nmodule.exports = zScore;\n\n},{}],21:[function(require,module,exports){\n// https://d3js.org/d3-array/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  var array = Array.prototype;\n\n  var slice = array.slice;\n  var map = array.map;\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      for (i = 0; i < n; ++i) {\n        values[i] = value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = xz[0],\n          x1 = xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, tz);\n\n      // Remove any thresholds outside the domain.\n      var m = tz.length;\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values = map.call(values, number).sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n},{}],22:[function(require,module,exports){\n// https://d3js.org/d3-collection/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nvar nest = function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup != null\n        ? rollup(array) : (sortValues != null\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map$$1, depth) {\n    if (++depth > keys.length) return map$$1;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map$$1.entries();\n    else array = [], map$$1.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n};\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map$$1, key, value) {\n  map$$1.set(key, value);\n}\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nvar keys = function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n};\n\nvar values = function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n};\n\nvar entries = function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n};\n\nexports.nest = nest;\nexports.set = set;\nexports.map = map;\nexports.keys = keys;\nexports.values = values;\nexports.entries = entries;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],23:[function(require,module,exports){\n// https://d3js.org/d3-color/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar define = function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n};\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\nvar reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\nvar reHex3 = /^#([0-9a-f]{3})$/;\nvar reHex6 = /^#([0-9a-f]{6})$/;\nvar reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\");\nvar reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\");\nvar reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\nvar reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\");\nvar reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\");\nvar reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\nvar Kn = 18;\nvar Xn = 0.950470;\nvar Yn = 1;\nvar Zn = 1.088830;\nvar t0 = 4 / 29;\nvar t1 = 6 / 29;\nvar t2 = 3 * t1 * t1;\nvar t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n\nvar A = -0.14861;\nvar B = +1.78277;\nvar C = -0.29227;\nvar D = -0.90649;\nvar E = +1.97294;\nvar ED = E * D;\nvar EB = E * B;\nvar BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nexports.color = color;\nexports.rgb = rgb;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.hcl = hcl;\nexports.cubehelix = cubehelix;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],24:[function(require,module,exports){\n// https://d3js.org/d3-dispatch/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  var noop = {value: function() {}};\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {type: t, name: name};\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n        else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n      }\n\n      return this;\n    },\n    copy: function() {\n      var copy = {}, _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({name: name, value: callback});\n    return type;\n  }\n\n  exports.dispatch = dispatch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n},{}],25:[function(require,module,exports){\n// https://d3js.org/d3-format/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  }\n\n  function exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  }\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  }\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  }\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  }\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  }\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity(x) {\n    return x;\n  }\n\n  function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i, n, c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            i = -1, n = value.length;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer value part that can be\n          // grouped, and fractional or exponential suffix part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      }\n\n      format.toString = function() {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  }\n\n  var locale;\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale = formatLocale(definition);\n    exports.format = locale.format;\n    exports.formatPrefix = locale.formatPrefix;\n    return locale;\n  }\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n  }\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n  }\n\n  function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n  }\n\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatLocale = formatLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n},{}],26:[function(require,module,exports){\n// https://d3js.org/d3-interpolate/ Version 1.1.3. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Color) { 'use strict';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nvar basis$1 = function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar basisClosed = function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = ((function rgbGamma(y) {\n  var color$$1 = gamma(y);\n\n  function rgb$$1(start, end) {\n    var r = color$$1((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),\n        g = color$$1(start.g, end.g),\n        b = color$$1(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$$1.gamma = rgbGamma;\n\n  return rgb$$1;\n}))(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color$$1;\n    for (i = 0; i < n; ++i) {\n      color$$1 = d3Color.rgb(colors[i]);\n      r[i] = color$$1.r || 0;\n      g[i] = color$$1.g || 0;\n      b[i] = color$$1.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color$$1.opacity = 1;\n    return function(t) {\n      color$$1.r = r(t);\n      color$$1.g = g(t);\n      color$$1.b = b(t);\n      return color$$1 + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nvar array = function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n};\n\nvar date = function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n};\n\nvar number = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n};\n\nvar object = function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n};\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\nvar reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nvar string = function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n};\n\nvar value = function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, rgb$1) : string)\n      : b instanceof d3Color.color ? rgb$1\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n};\n\nvar round = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n};\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nvar decompose = function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n};\n\nvar cssNode;\nvar cssRoot;\nvar cssView;\nvar svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2;\nvar rho2 = 2;\nvar rho4 = 4;\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nvar zoom = function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n};\n\nfunction hsl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$2 = hsl$1(hue);\nvar hslLong = hsl$1(nogamma);\n\nfunction lab$1(start, end) {\n  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$2 = hcl$1(hue);\nvar hclLong = hcl$1(nogamma);\n\nfunction cubehelix$1(hue$$1) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix$$1(start, end) {\n      var h = hue$$1((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix$$1.gamma = cubehelixGamma;\n\n    return cubehelix$$1;\n  })(1);\n}\n\nvar cubehelix$2 = cubehelix$1(hue);\nvar cubehelixLong = cubehelix$1(nogamma);\n\nvar quantize = function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n};\n\nexports.interpolate = value;\nexports.interpolateArray = array;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateDate = date;\nexports.interpolateNumber = number;\nexports.interpolateObject = object;\nexports.interpolateRound = round;\nexports.interpolateString = string;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = zoom;\nexports.interpolateRgb = rgb$1;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateHsl = hsl$2;\nexports.interpolateHslLong = hslLong;\nexports.interpolateLab = lab$1;\nexports.interpolateHcl = hcl$2;\nexports.interpolateHclLong = hclLong;\nexports.interpolateCubehelix = cubehelix$2;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.quantize = quantize;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{\"d3-color\":23}],27:[function(require,module,exports){\n// https://d3js.org/d3-scale/ Version 1.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-collection'), require('d3-interpolate'), require('d3-format'), require('d3-time'), require('d3-time-format'), require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-collection', 'd3-interpolate', 'd3-format', 'd3-time', 'd3-time-format', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3,global.d3,global.d3));\n}(this, function (exports,d3Array,d3Collection,d3Interpolate,d3Format,d3Time,d3TimeFormat,d3Color) { 'use strict';\n\n  var array = Array.prototype;\n\n  var map$1 = array.map;\n  var slice = array.slice;\n\n  var implicit = {name: \"implicit\"};\n\n  function ordinal(range) {\n    var index = d3Collection.map(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice.call(range);\n\n    function scale(d) {\n      var key = d + \"\", i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = d3Collection.map();\n      var i = -1, n = _.length, d, key;\n      while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      return scale;\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function(_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function() {\n      return ordinal()\n          .domain(domain)\n          .range(range)\n          .unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range[1] < range[0],\n          start = range[reverse - 0],\n          stop = range[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = d3Array.range(n).map(function(i) { return start + step * i; });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function() {\n      return bandwidth;\n    };\n\n    scale.step = function() {\n      return step;\n    };\n\n    scale.round = function(_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function(_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function(_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function(_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function(_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function() {\n      return band()\n          .domain(domain())\n          .range(range)\n          .round(round)\n          .paddingInner(paddingInner)\n          .paddingOuter(paddingOuter)\n          .align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function() {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point() {\n    return pointish(band().paddingInner(1));\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  var unit = [0, 1];\n\n  function deinterpolate(a, b) {\n    return (b -= (a = +a))\n        ? function(x) { return (x - a) / b; }\n        : constant(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function(a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate) {\n    return function(a, b) {\n      var r = reinterpolate(a = +a, b = +b);\n      return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n    else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n    return function(x) { return r0(d0(x)); };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate(range[i], range[i + 1]);\n    }\n\n    return function(x) {\n      var i = d3Array.bisect(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate$$, reinterpolate) {\n    var domain = unit,\n        range = unit,\n        interpolate = d3Interpolate.interpolate,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate$$) : deinterpolate$$, interpolate)))(+x);\n    }\n\n    scale.invert = function(y) {\n      return (input || (input = piecewise(range, domain, deinterpolate, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), rescale()) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = slice.call(_), interpolate = d3Interpolate.interpolateRound, rescale();\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function(_) {\n      return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n\n    return rescale();\n  }\n\n  function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = d3Array.tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = d3Format.formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\": {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionPrefix(step, value))) specifier.precision = precision;\n        return d3Format.formatPrefix(specifier, value);\n      }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n      case \"f\":\n      case \"%\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n    }\n    return d3Format.format(specifier);\n  }\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function(count) {\n      var d = domain();\n      return d3Array.ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function(count) {\n      var d = domain(),\n          i = d.length - 1,\n          n = count == null ? 10 : count,\n          start = d[0],\n          stop = d[i],\n          step = d3Array.tickStep(start, stop, n);\n\n      if (step) {\n        step = d3Array.tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n        d[0] = Math.floor(start / step) * step;\n        d[i] = Math.ceil(stop / step) * step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear() {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber);\n\n    scale.copy = function() {\n      return copy(scale, linear());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), scale) : domain.slice();\n    };\n\n    scale.copy = function() {\n      return identity().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  }\n\n  function deinterpolate$1(a, b) {\n    return (b = Math.log(b / a))\n        ? function(x) { return Math.log(x / a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    return a < 0\n        ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n        : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10\n        : base === Math.E ? Math.exp\n        : function(x) { return Math.pow(base, x); };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log\n        : base === 10 && Math.log10\n        || base === 2 && Math.log2\n        || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n  }\n\n  function reflect(f) {\n    return function(x) {\n      return -f(-x);\n    };\n  }\n\n  function log() {\n    var scale = continuous(deinterpolate$1, reinterpolate).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function(_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function(count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = d3Array.ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = d3Format.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function(d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function() {\n      return domain(nice(domain(), {\n        floor: function(x) { return pows(Math.floor(logs(x))); },\n        ceil: function(x) { return pows(Math.ceil(logs(x))); }\n      }));\n    };\n\n    scale.copy = function() {\n      return copy(scale, log().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise(b, exponent) - (a = raise(a, exponent)))\n          ? function(x) { return (raise(x, exponent) - a) / b; }\n          : constant(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise(b, exponent) - (a = raise(a, exponent));\n      return function(t) { return raise(a + b * t, 1 / exponent); };\n    }\n\n    scale.exponent = function(_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function() {\n      return copy(scale, pow().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt() {\n    return pow().exponent(0.5);\n  }\n\n  function quantile$1() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0, n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) thresholds[i - 1] = d3Array.quantile(domain, i / n);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3Array.bisect(thresholds, x)];\n    }\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [\n        i > 0 ? thresholds[i - 1] : domain[0],\n        i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      domain.sort(d3Array.ascending);\n      return rescale();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function() {\n      return thresholds.slice();\n    };\n\n    scale.copy = function() {\n      return quantile$1()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      return scale;\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN]\n          : i < 1 ? [x0, domain[0]]\n          : i >= n ? [domain[n - 1], x1]\n          : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return quantize()\n          .domain([x0, x1])\n          .range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return threshold()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  var durationSecond = 1000;\n  var durationMinute = durationSecond * 60;\n  var durationHour = durationMinute * 60;\n  var durationDay = durationHour * 24;\n  var durationWeek = durationDay * 7;\n  var durationMonth = durationDay * 30;\n  var durationYear = durationDay * 365;\n  function date(t) {\n    return new Date(t);\n  }\n\n  function number$1(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [\n      [second,  1,      durationSecond],\n      [second,  5,  5 * durationSecond],\n      [second, 15, 15 * durationSecond],\n      [second, 30, 30 * durationSecond],\n      [minute,  1,      durationMinute],\n      [minute,  5,  5 * durationMinute],\n      [minute, 15, 15 * durationMinute],\n      [minute, 30, 30 * durationMinute],\n      [  hour,  1,      durationHour  ],\n      [  hour,  3,  3 * durationHour  ],\n      [  hour,  6,  6 * durationHour  ],\n      [  hour, 12, 12 * durationHour  ],\n      [   day,  1,      durationDay   ],\n      [   day,  2,  2 * durationDay   ],\n      [  week,  1,      durationWeek  ],\n      [ month,  1,      durationMonth ],\n      [ month,  3,  3 * durationMonth ],\n      [  year,  1,      durationYear  ]\n    ];\n\n    function tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval === \"number\") {\n        var target = Math.abs(stop - start) / interval,\n            i = d3Array.bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = d3Array.tickStep(start / durationYear, stop / durationYear, interval);\n          interval = year;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval = i[0];\n        } else {\n          step = d3Array.tickStep(start, stop, interval);\n          interval = millisecond;\n        }\n      }\n\n      return step == null ? interval : interval.every(step);\n    }\n\n    scale.invert = function(y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? domain(map$1.call(_, number$1)) : domain().map(date);\n    };\n\n    scale.ticks = function(interval, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var d = domain();\n      return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n          ? domain(nice(d, interval))\n          : scale;\n    };\n\n    scale.copy = function() {\n      return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n\n    return scale;\n  }\n\n  function time() {\n    return calendar(d3Time.timeYear, d3Time.timeMonth, d3Time.timeWeek, d3Time.timeDay, d3Time.timeHour, d3Time.timeMinute, d3Time.timeSecond, d3Time.timeMillisecond, d3TimeFormat.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  }\n\n  function utcTime() {\n    return calendar(d3Time.utcYear, d3Time.utcMonth, d3Time.utcWeek, d3Time.utcDay, d3Time.utcHour, d3Time.utcMinute, d3Time.utcSecond, d3Time.utcMillisecond, d3TimeFormat.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  }\n\n  function colors(s) {\n    return s.match(/.{6}/g).map(function(x) {\n      return \"#\" + x;\n    });\n  }\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$1 = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(300, 0.5, 0.0), d3Color.cubehelix(-240, 0.5, 1.0));\n\n  var warm = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(-100, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var cool = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(260, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var rainbow = d3Color.cubehelix();\n\n  function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  }\n\n  function ramp(range) {\n    var n = range.length;\n    return function(t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function(_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function() {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  exports.scaleBand = band;\n  exports.scalePoint = point;\n  exports.scaleIdentity = identity;\n  exports.scaleLinear = linear;\n  exports.scaleLog = log;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow;\n  exports.scaleSqrt = sqrt;\n  exports.scaleQuantile = quantile$1;\n  exports.scaleQuantize = quantize;\n  exports.scaleThreshold = threshold;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.interpolateCubehelixDefault = cubehelix$1;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.scaleSequential = sequential;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n},{\"d3-array\":21,\"d3-collection\":22,\"d3-color\":23,\"d3-format\":25,\"d3-interpolate\":26,\"d3-time\":29,\"d3-time-format\":28}],28:[function(require,module,exports){\n// https://d3js.org/d3-time-format/ Version 2.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\nvar numberRe = /^\\s*\\d+/;\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nvar locale$1;\n\n\n\n\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale$1 = formatLocale(definition);\n  exports.timeFormat = locale$1.format;\n  exports.timeParse = locale$1.parse;\n  exports.utcFormat = locale$1.utcFormat;\n  exports.utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{\"d3-time\":29}],29:[function(require,module,exports){\n// https://d3js.org/d3-time/ Version 1.0.4. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar t0 = new Date;\nvar t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nvar utcYears = utcYear.range;\n\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n},{}],30:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BarChart = exports.BarChartConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chartWithColorGroups = require(\"./chart-with-color-groups\");\n\nvar _utils = require(\"./utils\");\n\nvar _legend = require(\"./legend\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BarChartConfig = exports.BarChartConfig = function (_ChartWithColorGroups) {\n    _inherits(BarChartConfig, _ChartWithColorGroups);\n\n    function BarChartConfig(custom) {\n        _classCallCheck(this, BarChartConfig);\n\n        var _this = _possibleConstructorReturn(this, (BarChartConfig.__proto__ || Object.getPrototypeOf(BarChartConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'bar-chart';\n        _this.showLegend = true;\n        _this.showTooltip = true;\n        _this.x = { // X axis config\n            title: '', // axis label\n            key: 0,\n            value: function value(d, key) {\n                return _utils.Utils.isNumber(d) ? d : d[key];\n            }, // x value accessor\n            scale: \"ordinal\",\n            orient: \"bottom\",\n            ticks: undefined\n        };\n        _this.y = { // Y axis config\n            key: 1,\n            value: function value(d, key) {\n                return _utils.Utils.isNumber(d) ? d : d[key];\n            }, // x value accessor\n            title: '', // axis label,\n            orient: \"left\",\n            scale: \"linear\"\n        };\n        _this.transition = true;\n\n        var config = _this;\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    }\n\n    return BarChartConfig;\n}(_chartWithColorGroups.ChartWithColorGroupsConfig);\n\nvar BarChart = exports.BarChart = function (_ChartWithColorGroups2) {\n    _inherits(BarChart, _ChartWithColorGroups2);\n\n    function BarChart(placeholderSelector, data, config) {\n        _classCallCheck(this, BarChart);\n\n        return _possibleConstructorReturn(this, (BarChart.__proto__ || Object.getPrototypeOf(BarChart)).call(this, placeholderSelector, data, new BarChartConfig(config)));\n    }\n\n    _createClass(BarChart, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(BarChart.prototype.__proto__ || Object.getPrototypeOf(BarChart.prototype), \"setConfig\", this).call(this, new BarChartConfig(config));\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(BarChart.prototype.__proto__ || Object.getPrototypeOf(BarChart.prototype), \"initPlot\", this).call(this);\n            var self = this;\n\n            var conf = this.config;\n\n            this.plot.x = {};\n            this.plot.y = {};\n\n            this.computePlotSize();\n            this.setupY();\n            this.setupX();\n            this.setupGroupStacks();\n            this.setupYDomain();\n\n            return this;\n        }\n    }, {\n        key: \"setupX\",\n        value: function setupX() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config.x;\n\n            /* *\r\n             * value accessor - returns the value to encode for a given data object.\r\n             * scale - maps value to a visual display encoding, such as a pixel position.\r\n             * map function - maps from data value to display value\r\n             * axis - sets up axis\r\n             **/\n            x.value = function (d) {\n                return conf.value(d, conf.key);\n            };\n            x.scale = d3.scaleBand().range([0, plot.width]).paddingInner(.08);\n            x.map = function (d) {\n                return x.scale(x.value(d));\n            };\n\n            x.axis = _utils.Utils.createAxis(conf.orient, x.scale);\n            if (conf.ticks) {\n                x.axis.ticks(conf.ticks);\n            }\n            var data = this.plot.data;\n            var domain;\n            if (!data || !data.length) {\n                domain = [];\n            } else if (!this.config.series) {\n                domain = d3.map(data, x.value).keys();\n            } else {\n                domain = d3.map(data[0].values, x.value).keys();\n            }\n\n            plot.x.scale.domain(domain);\n        }\n    }, {\n        key: \"setupY\",\n        value: function setupY() {\n\n            var plot = this.plot;\n            var y = plot.y;\n            var conf = this.config.y;\n            y.value = function (d) {\n                return conf.value(d, conf.key);\n            };\n            y.scale = _utils.Utils.createScale(conf.scale).range([plot.height, 0]);\n            y.map = function (d) {\n                return y.scale(y.value(d));\n            };\n\n            y.axis = _utils.Utils.createAxis(conf.orient, y.scale);\n        }\n    }, {\n        key: \"setupYDomain\",\n        value: function setupYDomain() {\n            var plot = this.plot;\n            var data = this.plot.data;\n            var domain;\n            var yStackMax = d3.max(plot.layers, function (layer) {\n                return d3.max(layer.points, function (d) {\n                    return d.y0 + d.y;\n                });\n            });\n\n            // var min = d3.min(data, s=>d3.min(s.values, plot.y.value));\n            var max = yStackMax;\n            domain = [0, max];\n\n            plot.y.scale.domain(domain);\n            void 0;\n        }\n    }, {\n        key: \"setupGroupStacks\",\n        value: function setupGroupStacks() {\n            var self = this;\n            this.groupData();\n\n            var y0s = [];\n            this.plot.groupedData.forEach(function (s) {\n                s.points = s.values.map(function (v) {\n                    return self.mapToPoint(v);\n                });\n                s.points.forEach(function (p, i) {\n                    var prevY0 = y0s[i];\n                    if (!prevY0) prevY0 = 0;\n                    p.y0 = prevY0;\n                    y0s[i] = p.y + prevY0;\n                });\n            });\n            this.plot.layers = this.plot.groupedData;\n        }\n    }, {\n        key: \"mapToPoint\",\n        value: function mapToPoint(value) {\n            var plot = this.plot;\n            return {\n                x: plot.x.value(value),\n                y: parseFloat(plot.y.value(value))\n            };\n        }\n    }, {\n        key: \"drawAxisX\",\n        value: function drawAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.x;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides'))).attr(\"transform\", \"translate(0,\" + plot.height + \")\");\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.x.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + plot.width / 2 + \",\" + plot.margin.bottom + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"-1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: \"drawAxisY\",\n        value: function drawAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.y;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.y.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + plot.height / 2 + \")rotate(-90)\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: \"drawBars\",\n        value: function drawBars() {\n            var self = this;\n            var plot = self.plot;\n\n            void 0;\n\n            var layerClass = this.prefixClass(\"layer\");\n\n            var barClass = this.prefixClass(\"bar\");\n            var layer = self.svgG.selectAll(\".\" + layerClass).data(plot.layers);\n\n            var layerMerge = layer.enter().append(\"g\").attr(\"class\", layerClass).merge(layer);\n\n            var bar = layerMerge.selectAll(\".\" + barClass).data(function (d) {\n                return d.points;\n            });\n\n            var barEnter = bar.enter().append(\"g\").attr(\"class\", barClass);\n            var barRectEnter = barEnter.append(\"rect\").attr(\"x\", 1);\n            var barMerge = barEnter.merge(bar);\n\n            var barRect = barMerge.select(\"rect\");\n\n            var barRectT = barRect;\n            var barT = barMerge;\n            var layerT = layerMerge;\n            if (this.transitionEnabled()) {\n                barRectT = barRect.transition();\n                barT = barMerge.transition();\n                layerT = layerMerge.transition();\n            }\n\n            barEnter.attr(\"transform\", function (d) {\n                return \"translate(\" + plot.x.scale(d.x) + \",\" + plot.y.scale(d.y0) + \")\";\n            });\n            var yDomain = plot.y.scale.domain();\n            barT.attr(\"transform\", function (d) {\n                return \"translate(\" + plot.x.scale(d.x) + \",\" + plot.y.scale(d.y0 + d.y) + \")\";\n            });\n            barRectEnter.attr(\"width\", plot.x.scale.bandwidth()).attr(\"height\", 0);\n            barRectT.attr(\"width\", plot.x.scale.bandwidth()).attr(\"height\", function (d) {\n                return plot.y.scale(d.y0) - plot.y.scale(d.y0 + d.y - yDomain[0]);\n            });\n\n            if (this.plot.seriesColor) {\n                layerT.attr(\"fill\", this.plot.seriesColor);\n            }\n\n            if (plot.tooltip) {\n                barMerge.on(\"mouseover\", function (d) {\n                    self.showTooltip(d.y);\n                }).on(\"mouseout\", function (d) {\n                    self.hideTooltip();\n                });\n            }\n            layer.exit().remove();\n            bar.exit().remove();\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(BarChart.prototype.__proto__ || Object.getPrototypeOf(BarChart.prototype), \"update\", this).call(this, newData);\n            this.drawAxisX();\n            this.drawAxisY();\n            this.drawBars();\n            return this;\n        }\n    }]);\n\n    return BarChart;\n}(_chartWithColorGroups.ChartWithColorGroups);\n\n},{\"./chart-with-color-groups\":33,\"./legend\":41,\"./utils\":47}],31:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BoxPlotBase = exports.BoxPlotBaseConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require('./chart');\n\nvar _utils = require('./utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BoxPlotBaseConfig = exports.BoxPlotBaseConfig = function (_ChartConfig) {\n    _inherits(BoxPlotBaseConfig, _ChartConfig);\n\n    function BoxPlotBaseConfig(custom) {\n        _classCallCheck(this, BoxPlotBaseConfig);\n\n        var _this = _possibleConstructorReturn(this, (BoxPlotBaseConfig.__proto__ || Object.getPrototypeOf(BoxPlotBaseConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'box-plot';\n        _this.showTooltip = true;\n        _this.x = { // X axis config\n            title: '', // axis label\n            value: function value(s) {\n                return s.key;\n            }, // x value accessor\n            guides: false, //show axis guides\n            orient: 'bottom'\n\n        };\n        _this.y = { // Y axis config\n            title: '',\n            value: function value(d) {\n                return d;\n            }, // y value accessor\n            scale: \"linear\",\n            orient: 'left',\n            domainMargin: 0.1,\n            guides: true //show axis guides\n        };\n\n        _this.Q1 = function (d) {\n            return d.values.Q1;\n        };\n\n        _this.Q2 = function (d) {\n            return d.values.Q2;\n        };\n\n        _this.Q3 = function (d) {\n            return d.values.Q3;\n        };\n\n        _this.Wl = function (d) {\n            return d.values.whiskerLow;\n        };\n\n        _this.Wh = function (d) {\n            return d.values.whiskerHigh;\n        };\n\n        _this.outliers = function (d) {\n            return d.values.outliers;\n        };\n\n        _this.outlierValue = function (d, i) {\n            return d;\n        };\n\n        _this.outlierLabel = function (d, i) {\n            return d;\n        };\n\n        _this.minBoxWidth = 35;\n        _this.maxBoxWidth = 100;\n        _this.transition = true;\n        _this.color = undefined;\n        _this.d3ColorCategory = 'category10';\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    } // string or function returning color's value for color scale\n\n\n    return BoxPlotBaseConfig;\n}(_chart.ChartConfig);\n\nvar BoxPlotBase = exports.BoxPlotBase = function (_Chart) {\n    _inherits(BoxPlotBase, _Chart);\n\n    function BoxPlotBase(placeholderSelector, data, config) {\n        _classCallCheck(this, BoxPlotBase);\n\n        return _possibleConstructorReturn(this, (BoxPlotBase.__proto__ || Object.getPrototypeOf(BoxPlotBase)).call(this, placeholderSelector, data, new BoxPlotBaseConfig(config)));\n    }\n\n    _createClass(BoxPlotBase, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            return _get(BoxPlotBase.prototype.__proto__ || Object.getPrototypeOf(BoxPlotBase.prototype), 'setConfig', this).call(this, new BoxPlotBaseConfig(config));\n        }\n    }, {\n        key: 'initPlot',\n        value: function initPlot() {\n            _get(BoxPlotBase.prototype.__proto__ || Object.getPrototypeOf(BoxPlotBase.prototype), 'initPlot', this).call(this);\n            _get(BoxPlotBase.prototype.__proto__ || Object.getPrototypeOf(BoxPlotBase.prototype), 'computePlotSize', this).call(this);\n            this.plot.x = {};\n            this.plot.y = {};\n\n            this.plot.data = this.getDataToPlot();\n            this.setupY();\n            this.setupX();\n\n            this.setupColor();\n        }\n    }, {\n        key: 'getDataToPlot',\n        value: function getDataToPlot() {\n            return this.data;\n        }\n    }, {\n        key: 'setupX',\n        value: function setupX() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config.x;\n\n            x.value = conf.value;\n            x.scale = d3.scaleBand().range([0, plot.width]);\n            x.map = function (d) {\n                return x.scale(x.value(d));\n            };\n\n            x.axis = _utils.Utils.createAxis(conf.orient, x.scale);\n            if (conf.guides) {\n                x.axis.tickSize(-plot.height);\n            }\n\n            var data = this.plot.data;\n            var domain;\n            if (!data || !data.length) {\n                domain = [];\n            } else {\n                domain = data.map(x.value);\n            }\n\n            plot.x.scale.domain(domain);\n        }\n    }, {\n        key: 'setupY',\n        value: function setupY() {\n            var _this3 = this;\n\n            var plot = this.plot;\n            var y = plot.y;\n            var conf = this.config.y;\n            y.value = function (d) {\n                return conf.value.call(_this3.config, d);\n            };\n            y.scale = _utils.Utils.createScale(conf.scale).range([plot.height, 0]);\n            y.map = function (d) {\n                return y.scale(y.value(d));\n            };\n\n            y.axis = _utils.Utils.createAxis(conf.orient, y.scale);\n            if (conf.ticks) {\n                y.axis.ticks(conf.ticks);\n            }\n            if (conf.guides) {\n                y.axis.tickSize(-plot.width);\n            }\n            this.setupYDomain();\n        }\n    }, {\n        key: 'setupYDomain',\n        value: function setupYDomain() {\n            var plot = this.plot;\n            var data = this.plot.data;\n            var c = this.config;\n\n            var values = [],\n                yMin,\n                yMax;\n            data.forEach(function (d, i) {\n                var q1 = c.Q1(d),\n                    q3 = c.Q3(d),\n                    wl = c.Wl(d),\n                    wh = c.Wh(d),\n                    outliers = c.outliers(d);\n\n                if (outliers) {\n                    outliers.forEach(function (o, i) {\n                        values.push(c.outlierValue(o, i));\n                    });\n                }\n                if (wl) {\n                    values.push(wl);\n                }\n                if (q1) {\n                    values.push(q1);\n                }\n                if (q3) {\n                    values.push(q3);\n                }\n                if (wh) {\n                    values.push(wh);\n                }\n            });\n            yMin = d3.min(values);\n            yMax = d3.max(values);\n            var margin = (yMax - yMin) * this.config.y.domainMargin;\n            yMin -= margin;\n            yMax += margin;\n            var domain = [yMin, yMax];\n\n            plot.y.scale.domain(domain);\n        }\n    }, {\n        key: 'drawAxisX',\n        value: function drawAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.x;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides'))).attr(\"transform\", \"translate(0,\" + plot.height + \")\");\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.x.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + plot.width / 2 + \",\" + plot.margin.bottom + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"-1em\").style(\"text-anchor\", \"middle\").text(axisConf.label);\n        }\n    }, {\n        key: 'drawAxisY',\n        value: function drawAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.y;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')));\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.y.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + plot.height / 2 + \")rotate(-90)\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: 'drawBoxPlots',\n        value: function drawBoxPlots() {\n            var self = this,\n                plot = self.plot,\n                config = self.config,\n                boxplotClass = self.prefixClass(\"boxplot-item\");\n\n            var boxplots = self.svgG.selectAll('.' + boxplotClass).data(plot.data);\n            var boxplotEnter = boxplots.enter().append('g').attr('class', boxplotClass).style('stroke-opacity', 1e-6).style('fill-opacity', 1e-6);\n\n            var boxplotsMerge = boxplotEnter.merge(boxplots);\n            var duration = 1000;\n            var boxplotsT = boxplotsMerge;\n            if (self.transitionEnabled()) {\n                boxplotsT = boxplotsMerge.transition();\n                boxplotsT.delay(function (d, i) {\n                    return i * duration / plot.data.length;\n                });\n            }\n\n            boxplotsT.style('fill', plot.color).style('stroke-opacity', 1).style('fill-opacity', 0.75).attr('transform', function (d, i) {\n                return 'translate(' + (plot.x.map(d, i) + plot.x.scale.bandwidth() * 0.05) + ', 0)';\n            });\n            boxplots.exit().remove();\n\n            var boxWidth = !config.maxBoxWidth ? plot.x.scale.bandwidth() * 0.9 : Math.min(config.maxBoxWidth, Math.max(config.minBoxWidth, plot.x.scale.bandwidth() * 0.9));\n            var boxLeft = plot.x.scale.bandwidth() * 0.45 - boxWidth / 2;\n            var boxRight = plot.x.scale.bandwidth() * 0.45 + boxWidth / 2;\n\n            var boxClass = self.prefixClass(\"box\");\n\n            boxplotEnter.append('rect').attr('class', boxClass)\n            // tooltip events\n            .on('mouseover', function (d, i) {\n                d3.select(this).classed('hover', true);\n                var html = 'Q3: ' + config.Q3(d, i) + '<br/>Q2: ' + config.Q2(d, i) + '<br/>Q1: ' + config.Q1(d, i);\n                self.showTooltip(html);\n            }).on('mouseout', function (d, i) {\n                d3.select(this).classed('hover', false);\n                self.hideTooltip();\n            });\n\n            var boxRects = boxplotsMerge.select('rect.' + boxClass);\n\n            var boxRectsT = boxRects;\n            if (self.config.transition) {\n                boxRectsT = boxRects.transition();\n            }\n\n            boxRectsT.attr('y', function (d, i) {\n                return plot.y.scale(config.Q3(d));\n            }).attr('width', boxWidth).attr('x', boxLeft).attr('height', function (d, i) {\n                return Math.abs(plot.y.scale(config.Q3(d)) - plot.y.scale(config.Q1(d))) || 1;\n            }).style('stroke', plot.color);\n\n            // median line\n            var medianClass = self.prefixClass('median');\n            boxplotEnter.append('line').attr('class', medianClass);\n\n            var medianLine = boxplotsMerge.select('line.' + medianClass);\n            if (self.config.transition) {\n                medianLine = medianLine.transition();\n            }\n            medianLine.attr('x1', boxLeft).attr('y1', function (d, i) {\n                return plot.y.scale(config.Q2(d));\n            }).attr('x2', boxRight).attr('y2', function (d, i) {\n                return plot.y.scale(config.Q2(d));\n            });\n\n            //whiskers\n\n            var whiskerClass = self.prefixClass(\"whisker\"),\n                tickClass = self.prefixClass(\"boxplot-tick\");\n\n            var whiskers = [{ key: 'low', value: config.Wl }, { key: 'high', value: config.Wh }];\n\n            boxplotEnter.each(function (d, i) {\n                var box = d3.select(this);\n\n                whiskers.forEach(function (f) {\n                    if (f.value(d)) {\n                        box.append('line').style('stroke', plot.color(d, i)).attr('class', whiskerClass + ' ' + boxplotClass + '-' + f.key);\n                        box.append('line').style('stroke', plot.color(d, i)).attr('class', tickClass + ' ' + boxplotClass + '-' + f.key);\n                    }\n                });\n            });\n\n            whiskers.forEach(function (f) {\n                var endpoint = f.key === 'low' ? config.Q1 : config.Q3;\n\n                var whisker = boxplotsMerge.select('.' + whiskerClass + '.' + boxplotClass + '-' + f.key);\n                var tick = boxplotsMerge.select('.' + tickClass + '.' + boxplotClass + '-' + f.key);\n                if (self.config.transition) {\n                    whisker = whisker.transition();\n                    tick = tick.transition();\n                }\n                whisker.attr('x1', plot.x.scale.bandwidth() * 0.45).attr('y1', function (d, i) {\n                    return plot.y.scale(f.value(d));\n                }).attr('x2', plot.x.scale.bandwidth() * 0.45).attr('y2', function (d, i) {\n                    return plot.y.scale(endpoint(d));\n                });\n\n                tick.attr('x1', boxLeft).attr('y1', function (d, i) {\n                    return plot.y.scale(f.value(d));\n                }).attr('x2', boxRight).attr('y2', function (d, i) {\n                    return plot.y.scale(f.value(d));\n                });\n\n                boxplotEnter.selectAll('.' + boxplotClass + '-' + f.key).on('mouseover', function (d, i, j) {\n                    d3.select(this).classed('hover', true);\n                    self.showTooltip(f.value(d));\n                }).on('mouseout', function (d, i, j) {\n                    d3.select(this).classed('hover', false);\n                    self.hideTooltip();\n                });\n            });\n\n            // outliers\n            var outlierClass = self.prefixClass(\"outlier\");\n            var outliers = boxplotsMerge.selectAll('.' + outlierClass).data(function (d, i) {\n                return config.outliers(d, i) || [];\n            });\n\n            var outlierEnterCircle = outliers.enter().append('circle').attr('class', outlierClass).style('z-index', 9000);\n\n            outlierEnterCircle.on('mouseover', function (d, i, j) {\n                d3.select(this).classed('hover', true);\n                self.showTooltip(config.outlierLabel(d, i));\n            }).on('mouseout', function (d, i, j) {\n                d3.select(this).classed('hover', false);\n                self.hideTooltip();\n            });\n\n            var outliersMerge = outlierEnterCircle.merge(outliers);\n            var outliersT = outliersMerge;\n            if (self.config.transition) {\n                outliersT = outliersMerge.transition();\n            }\n            outliersT.attr('cx', plot.x.scale.bandwidth() * 0.45).attr('cy', function (d, i) {\n                return plot.y.scale(config.outlierValue(d, i));\n            }).attr('r', '3');\n            outliers.exit().remove();\n        }\n    }, {\n        key: 'update',\n        value: function update(newData) {\n            _get(BoxPlotBase.prototype.__proto__ || Object.getPrototypeOf(BoxPlotBase.prototype), 'update', this).call(this, newData);\n            this.drawAxisX();\n            this.drawAxisY();\n            this.drawBoxPlots();\n            return this;\n        }\n    }, {\n        key: 'setupColor',\n        value: function setupColor() {\n            var _this4 = this;\n\n            var self = this;\n            var conf = this.config;\n\n            if (conf.d3ColorCategory) {\n                var colorSchemeCategory = 'scheme' + _utils.Utils.capitalizeFirstLetter(conf.d3ColorCategory);\n                this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\n            }\n            var colorValue = conf.color;\n            if (colorValue && typeof colorValue === 'string' || colorValue instanceof String) {\n                this.plot.color = colorValue;\n            } else if (this.plot.colorCategory) {\n                self.plot.colorValue = colorValue;\n                this.plot.color = function (d) {\n                    return self.plot.colorCategory(_this4.plot.x.value(d));\n                };\n            }\n        }\n    }]);\n\n    return BoxPlotBase;\n}(_chart.Chart);\n\n},{\"./chart\":34,\"./utils\":47}],32:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.BoxPlot = exports.BoxPlotConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _boxPlotBase = require('./box-plot-base');\n\nvar _utils = require('./utils');\n\nvar _statisticsUtils = require('./statistics-utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar BoxPlotConfig = exports.BoxPlotConfig = function (_BoxPlotBaseConfig) {\n    _inherits(BoxPlotConfig, _BoxPlotBaseConfig);\n\n    function BoxPlotConfig(custom) {\n        _classCallCheck(this, BoxPlotConfig);\n\n        var _this = _possibleConstructorReturn(this, (BoxPlotConfig.__proto__ || Object.getPrototypeOf(BoxPlotConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'box-plot';\n        _this.showLegend = true;\n        _this.showTooltip = true;\n        _this.y = { // Y axis config\n            key: undefined,\n            value: function value(d) {\n                return this.y.key === undefined ? d : d[this.y.key];\n            }, // y value accessor\n            scale: \"linear\",\n            orient: 'left',\n            domainMargin: 0.1,\n            guides: true //show axis guides\n        };\n        _this.series = false;\n        _this.groups = {\n            key: undefined,\n            value: function value(d) {\n                return this.groups.key === undefined ? '' : d[this.groups.key];\n            }, // grouping value accessor,\n            label: \"\",\n            displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\n        };\n        _this.tukey = false;\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n        return _this;\n    }\n\n    return BoxPlotConfig;\n}(_boxPlotBase.BoxPlotBaseConfig);\n\nvar BoxPlot = exports.BoxPlot = function (_BoxPlotBase) {\n    _inherits(BoxPlot, _BoxPlotBase);\n\n    function BoxPlot(placeholderSelector, data, config) {\n        _classCallCheck(this, BoxPlot);\n\n        return _possibleConstructorReturn(this, (BoxPlot.__proto__ || Object.getPrototypeOf(BoxPlot)).call(this, placeholderSelector, data, new BoxPlotConfig(config)));\n    }\n\n    _createClass(BoxPlot, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            return _get(BoxPlot.prototype.__proto__ || Object.getPrototypeOf(BoxPlot.prototype), 'setConfig', this).call(this, new BoxPlotConfig(config));\n        }\n    }, {\n        key: 'getDataToPlot',\n        value: function getDataToPlot() {\n            var self = this;\n            var conf = self.config;\n            self.plot.groupingEnabled = this.isGroupingEnabled();\n\n            var data = this.data;\n            if (!self.plot.groupingEnabled) {\n                self.plot.groupedData = [{\n                    key: '',\n                    values: data\n                }];\n                self.plot.dataLength = data.length;\n            } else {\n                if (self.config.series) {\n                    self.plot.groupedData = data.map(function (s) {\n                        return {\n                            key: s.label || s.key || '',\n                            values: s.values\n                        };\n                    });\n                } else {\n                    self.plot.groupValue = function (d) {\n                        return conf.groups.value.call(conf, d);\n                    };\n                    self.plot.groupedData = d3.nest().key(this.plot.groupValue).entries(data);\n\n                    var getDisplayValue = function getDisplayValue(k) {\n                        return k;\n                    };\n                    if (self.config.groups.displayValue) {\n                        if (_utils.Utils.isFunction(self.config.groups.displayValue)) {\n                            getDisplayValue = function getDisplayValue(k) {\n                                return self.config.groups.displayValue(k) || k;\n                            };\n                        } else if (_utils.Utils.isObject(self.config.groups.displayValue)) {\n                            getDisplayValue = function getDisplayValue(k) {\n                                return self.config.groups.displayValue[k] || k;\n                            };\n                        }\n                    }\n                    self.plot.groupedData.forEach(function (g) {\n                        g.key = getDisplayValue(g.key);\n                    });\n                }\n\n                self.plot.dataLength = d3.sum(this.plot.groupedData, function (s) {\n                    return s.values.length;\n                });\n            }\n\n            self.plot.groupedData.forEach(function (s) {\n                if (!Array.isArray(s.values)) {\n                    return;\n                }\n\n                var values = s.values.map(function (d) {\n                    return parseFloat(self.config.y.value.call(self.config, d));\n                });\n                s.values.Q1 = _statisticsUtils.StatisticsUtils.quantile(values, 0.25);\n                s.values.Q2 = _statisticsUtils.StatisticsUtils.quantile(values, 0.5);\n                s.values.Q3 = _statisticsUtils.StatisticsUtils.quantile(values, 0.75);\n                var IQR = s.values.Q3 - s.values.Q1;\n\n                if (!self.config.tukey) {\n                    s.values.whiskerLow = d3.min(values);\n                    s.values.whiskerHigh = d3.max(values);\n                } else {\n                    s.values.whiskerLow = s.values.Q1 - 1.5 * IQR;\n                    s.values.whiskerHigh = s.values.Q3 + 1.5 * IQR;\n                    s.values.outliers = values.filter(function (d) {\n                        return d < s.values.whiskerLow || d > s.values.whiskerHigh;\n                    });\n                }\n            });\n\n            return self.plot.groupedData;\n        }\n    }, {\n        key: 'isGroupingEnabled',\n        value: function isGroupingEnabled() {\n            return this.config.series || !!(this.config.groups && this.config.groups.value);\n        }\n    }]);\n\n    return BoxPlot;\n}(_boxPlotBase.BoxPlotBase);\n\n},{\"./box-plot-base\":31,\"./statistics-utils\":46,\"./utils\":47}],33:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ChartWithColorGroups = exports.ChartWithColorGroupsConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require(\"./chart\");\n\nvar _utils = require(\"./utils\");\n\nvar _legend = require(\"./legend\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ChartWithColorGroupsConfig = exports.ChartWithColorGroupsConfig = function (_ChartConfig) {\n    _inherits(ChartWithColorGroupsConfig, _ChartConfig);\n\n    function ChartWithColorGroupsConfig(custom) {\n        _classCallCheck(this, ChartWithColorGroupsConfig);\n\n        var _this = _possibleConstructorReturn(this, (ChartWithColorGroupsConfig.__proto__ || Object.getPrototypeOf(ChartWithColorGroupsConfig)).call(this));\n\n        _this.showLegend = true;\n        _this.legend = {\n            width: 80,\n            margin: 10,\n            shapeWidth: 20\n        };\n        _this.groups = {\n            key: 2,\n            value: function value(d) {\n                return d[this.groups.key];\n            }, // grouping value accessor,\n            label: \"\",\n            displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\n        };\n        _this.series = false;\n        _this.color = undefined;\n        _this.d3ColorCategory = 'category10';\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    } // string or function returning color's value for color scale\n\n\n    return ChartWithColorGroupsConfig;\n}(_chart.ChartConfig);\n\nvar ChartWithColorGroups = exports.ChartWithColorGroups = function (_Chart) {\n    _inherits(ChartWithColorGroups, _Chart);\n\n    function ChartWithColorGroups(placeholderSelector, data, config) {\n        _classCallCheck(this, ChartWithColorGroups);\n\n        return _possibleConstructorReturn(this, (ChartWithColorGroups.__proto__ || Object.getPrototypeOf(ChartWithColorGroups)).call(this, placeholderSelector, data, new ChartWithColorGroupsConfig(config)));\n    }\n\n    _createClass(ChartWithColorGroups, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(ChartWithColorGroups.prototype.__proto__ || Object.getPrototypeOf(ChartWithColorGroups.prototype), \"setConfig\", this).call(this, new ChartWithColorGroupsConfig(config));\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(ChartWithColorGroups.prototype.__proto__ || Object.getPrototypeOf(ChartWithColorGroups.prototype), \"initPlot\", this).call(this);\n            var self = this;\n\n            var conf = this.config;\n\n            this.plot.showLegend = conf.showLegend;\n            this.setupGroups();\n            this.plot.data = this.getDataToPlot();\n            this.groupData();\n\n            if (this.plot.showLegend) {\n                var scale = this.plot.colorCategory;\n                if (!scale.domain() || scale.domain().length < 2) {\n                    this.plot.showLegend = false;\n                } else {\n                    this.plot.margin.right = conf.margin.right + conf.legend.width + conf.legend.margin * 2;\n                }\n            }\n            return this;\n        }\n    }, {\n        key: \"isGroupingEnabled\",\n        value: function isGroupingEnabled() {\n            return this.config.series || !!(this.config.groups && this.config.groups.value);\n        }\n    }, {\n        key: \"computeGroupColorDomain\",\n        value: function computeGroupColorDomain() {\n            var _this3 = this;\n\n            var map = d3.set(this.data, function (d) {\n                return _this3.plot.groupValue(d);\n            });\n            return Object.getOwnPropertyNames(map).map(function (d) {\n                return map[d];\n            });\n        }\n    }, {\n        key: \"setupGroups\",\n        value: function setupGroups() {\n            var _this4 = this;\n\n            var self = this;\n            var conf = this.config;\n\n            this.plot.groupingEnabled = this.isGroupingEnabled();\n            var domain = [];\n            if (this.plot.groupingEnabled) {\n                self.plot.groupToLabel = {};\n                if (this.config.series) {\n                    this.plot.groupValue = function (s) {\n                        return s.key;\n                    };\n                    domain = this.computeGroupColorDomain();\n\n                    this.data.forEach(function (s) {\n                        self.plot.groupToLabel[s.key] = s.label || s.key;\n                    });\n                } else {\n                    this.plot.groupValue = function (d) {\n                        return conf.groups.value.call(conf, d);\n                    };\n                    domain = this.computeGroupColorDomain();\n                    var getLabel = function getLabel(k) {\n                        return k;\n                    };\n                    if (self.config.groups.displayValue) {\n                        if (_utils.Utils.isFunction(self.config.groups.displayValue)) {\n                            getLabel = function getLabel(k) {\n                                return self.config.groups.displayValue(k) || k;\n                            };\n                        } else if (_utils.Utils.isObject(self.config.groups.displayValue)) {\n                            getLabel = function getLabel(k) {\n                                return self.config.groups.displayValue[k] || k;\n                            };\n                        }\n                    }\n                    domain.forEach(function (k) {\n                        self.plot.groupToLabel[k] = getLabel(k);\n                    });\n                }\n            } else {\n                this.plot.groupValue = function (d) {\n                    return null;\n                };\n            }\n            if (conf.d3ColorCategory) {\n                var colorSchemeCategory = 'scheme' + _utils.Utils.capitalizeFirstLetter(conf.d3ColorCategory);\n                this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\n            }\n            var colorValue = conf.color;\n            if (colorValue && typeof colorValue === 'string' || colorValue instanceof String) {\n                this.plot.color = colorValue;\n                this.plot.seriesColor = this.plot.color;\n            } else if (this.plot.colorCategory) {\n                self.plot.colorValue = colorValue;\n                self.plot.colorCategory.domain(domain);\n\n                this.plot.seriesColor = function (s) {\n                    return self.plot.colorCategory(s.key);\n                };\n                this.plot.color = function (d) {\n                    return self.plot.colorCategory(_this4.plot.groupValue(d));\n                };\n            } else {\n                this.plot.color = this.plot.seriesColor = function (s) {\n                    return 'black';\n                };\n            }\n        }\n    }, {\n        key: \"groupData\",\n        value: function groupData() {\n            var self = this;\n            var data = this.plot.data;\n            if (!self.plot.groupingEnabled) {\n                self.plot.groupedData = [{\n                    key: null,\n                    label: '',\n                    values: data\n                }];\n                self.plot.dataLength = data.length;\n            } else {\n\n                if (self.config.series) {\n                    self.plot.groupedData = data.map(function (s) {\n                        return {\n                            key: s.key,\n                            label: s.label,\n                            values: s.values\n                        };\n                    });\n                } else {\n                    self.plot.groupedData = d3.nest().key(this.plot.groupValue).entries(data);\n                    self.plot.groupedData.forEach(function (g) {\n                        g.label = self.plot.groupToLabel[g.key];\n                    });\n                }\n\n                self.plot.dataLength = d3.sum(this.plot.groupedData, function (s) {\n                    return s.values.length;\n                });\n            }\n\n            // this.plot.seriesColor\n        }\n    }, {\n        key: \"getDataToPlot\",\n        value: function getDataToPlot() {\n            var _this5 = this;\n\n            if (!this.plot.groupingEnabled || !this.enabledGroups) {\n                return this.data;\n            }\n            return this.data.filter(function (d) {\n                return _this5.enabledGroups.indexOf(_this5.plot.groupValue(d)) > -1;\n            });\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(ChartWithColorGroups.prototype.__proto__ || Object.getPrototypeOf(ChartWithColorGroups.prototype), \"update\", this).call(this, newData);\n            this.updateLegend();\n\n            return this;\n        }\n    }, {\n        key: \"updateLegend\",\n        value: function updateLegend() {\n\n            var self = this;\n            var plot = this.plot;\n\n            var scale = plot.colorCategory;\n\n            if (!scale.domain() || scale.domain().length < 2) {\n                plot.showLegend = false;\n            }\n\n            if (!plot.showLegend) {\n                if (plot.legend && plot.legend.container) {\n                    plot.legend.container.remove();\n                }\n                return;\n            }\n\n            var legendX = this.plot.width + this.config.legend.margin;\n            var legendY = this.config.legend.margin;\n\n            plot.legend = new _legend.Legend(this.svg, this.svgG, scale, legendX, legendY);\n\n            plot.legendColor = plot.legend.color().shapeWidth(this.config.legend.shapeWidth).orient('vertical').scale(scale).labels(scale.domain().map(function (v) {\n                return plot.groupToLabel[v];\n            }));\n\n            plot.legendColor.on('cellclick', function (c) {\n                return self.onLegendCellClick(c);\n            });\n\n            plot.legend.container.call(plot.legendColor);\n\n            this.updateLegendCellStatuses();\n        }\n    }, {\n        key: \"onLegendCellClick\",\n        value: function onLegendCellClick(cellValue) {\n            this.updateEnabledGroups(cellValue);\n            this.init();\n        }\n    }, {\n        key: \"updateLegendCellStatuses\",\n        value: function updateLegendCellStatuses() {\n            var self = this;\n            this.plot.legend.container.selectAll(\"g.cell\").each(function (cell) {\n                var isDisabled = self.enabledGroups && self.enabledGroups.indexOf(cell) < 0;\n                d3.select(this).classed(\"odc-disabled\", isDisabled);\n            });\n        }\n    }, {\n        key: \"updateEnabledGroups\",\n        value: function updateEnabledGroups(cellValue) {\n            if (!this.enabledGroups) {\n                this.enabledGroups = this.plot.colorCategory.domain().slice();\n            }\n            var index = this.enabledGroups.indexOf(cellValue);\n\n            if (index < 0) {\n                this.enabledGroups.push(cellValue);\n            } else {\n                this.enabledGroups.splice(index, 1);\n            }\n\n            if (!this.enabledGroups.length) {\n                this.enabledGroups = this.plot.colorCategory.domain().slice();\n            }\n        }\n    }, {\n        key: \"setData\",\n        value: function setData(data) {\n            _get(ChartWithColorGroups.prototype.__proto__ || Object.getPrototypeOf(ChartWithColorGroups.prototype), \"setData\", this).call(this, data);\n            this.enabledGroups = null;\n            return this;\n        }\n    }]);\n\n    return ChartWithColorGroups;\n}(_chart.Chart);\n\n},{\"./chart\":34,\"./legend\":41,\"./utils\":47}],34:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Chart = exports.ChartConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ChartConfig = exports.ChartConfig = function ChartConfig(custom) {\n    _classCallCheck(this, ChartConfig);\n\n    this.cssClassPrefix = \"odc-\";\n    this.svgClass = this.cssClassPrefix + 'mw-d3-chart';\n    this.width = undefined;\n    this.height = undefined;\n    this.margin = {\n        left: 50,\n        right: 30,\n        top: 30,\n        bottom: 50\n    };\n    this.showTooltip = false;\n    this.transition = true;\n    this.title = undefined;\n    this.titleSize = 20;\n    this.titleMargin = {\n        left: 0,\n        right: 0,\n        top: 15,\n        bottom: 20\n    };\n    this.subtitle = undefined;\n    this.subtitleSize = 14;\n    this.subtitleMargin = {\n        left: 0,\n        right: 0,\n        top: 10,\n        bottom: 20\n    };\n\n    if (custom) {\n        _utils.Utils.deepExtend(this, custom);\n    }\n};\n\nvar Chart = exports.Chart = function () {\n    function Chart(base, data, config) {\n        _classCallCheck(this, Chart);\n\n        this.utils = _utils.Utils;\n        this.plot = {\n            margin: {}\n        };\n        this._attached = {};\n        this._layers = {};\n        this._events = {};\n        this._isInitialized = false;\n\n        this._id = _utils.Utils.guid();\n        this._isAttached = base instanceof Chart;\n\n        this.baseContainer = base;\n\n        this.setConfig(config);\n\n        if (data) {\n            this.setData(data);\n        }\n        this.init();\n        this.postInit();\n    }\n\n    _createClass(Chart, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            if (!config) {\n                this.config = new ChartConfig();\n            } else {\n                this.config = config;\n            }\n            this.initConfigAccessors();\n            return this;\n        }\n    }, {\n        key: 'setData',\n        value: function setData(data) {\n            this.data = data;\n            return this;\n        }\n    }, {\n        key: 'init',\n        value: function init() {\n            var self = this;\n            self.initPlot();\n            self.initSvg();\n\n            if (!this._isInitialized) {\n                self.initTooltip();\n            }\n            self.draw();\n            this._isInitialized = true;\n            return this;\n        }\n    }, {\n        key: 'redraw',\n        value: function redraw() {\n            this.initConfigAccessors(true);\n            return this.init();\n        }\n    }, {\n        key: 'postInit',\n        value: function postInit() {}\n    }, {\n        key: 'initSvg',\n        value: function initSvg() {\n            var self = this;\n            var config = this.config;\n\n            var margin = self.plot.margin;\n            var width = self.svgWidth = self.plot.width + margin.left + margin.right;\n            var height = self.svgHeight = self.plot.height + margin.top + margin.bottom;\n            var aspect = width / height;\n            if (!self._isAttached) {\n                if (!this._isInitialized) {\n                    d3.select(self.baseContainer).select(\"svg\").remove();\n                }\n                self.svg = d3.select(self.baseContainer).selectOrAppend(\"svg\");\n\n                self.svg.attr(\"width\", width).attr(\"height\", height).attr(\"viewBox\", \"0 0 \" + \" \" + width + \" \" + height).attr(\"preserveAspectRatio\", \"xMidYMid meet\").attr(\"class\", config.svgClass);\n                self.svgG = self.svg.selectOrAppend(\"g.main-group\");\n            } else {\n                void 0;\n                self.svg = self.baseContainer.svg;\n                self.svgG = self.svg.selectOrAppend(\"g.main-group.\" + config.svgClass);\n            }\n\n            self.svgG.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n            if (!config.width || config.height) {\n                d3.select(window).on(\"resize.\" + self._id, function () {\n                    void 0;\n                    var transition = self.config.transition;\n                    self.config.transition = false;\n                    self.init();\n                    self.config.transition = transition;\n                });\n            }\n        }\n    }, {\n        key: 'initTooltip',\n        value: function initTooltip() {\n            var self = this;\n            if (self.config.showTooltip) {\n                if (!self._isAttached) {\n                    self.plot.tooltip = d3.select(\"body\").selectOrAppend('div.' + self.config.cssClassPrefix + 'tooltip').style(\"opacity\", 0);\n                } else {\n                    self.plot.tooltip = self.baseContainer.plot.tooltip;\n                }\n            } else {\n                self.plot.tooltip = null;\n            }\n        }\n    }, {\n        key: 'initPlot',\n        value: function initPlot() {\n            var margin = this.config.margin;\n            this.plot = this.plot || {};\n            this.plot.margin = {\n                top: margin.top,\n                bottom: margin.bottom,\n                left: margin.left,\n                right: margin.right\n            };\n\n            var titleMarginSize = 0;\n            if (this.config.title) {\n                titleMarginSize = this.config.titleSize + this.config.titleMargin.top;\n                if (!this.config.subtitle) {\n                    titleMarginSize += this.config.titleMargin.bottom;\n                }\n\n                this.plot.margin.top = Math.max(this.plot.margin.top, titleMarginSize);\n            }\n\n            if (this.config.subtitle) {\n\n                this.plot.margin.top = Math.max(this.plot.margin.top, titleMarginSize + this.config.subtitleMargin.top + this.config.subtitleSize + this.config.subtitleMargin.bottom);\n            }\n        }\n    }, {\n        key: 'update',\n        value: function update(data) {\n            if (data) {\n                this.setData(data);\n            }\n            this.updateTitle();\n            this.updateSubtitle();\n\n            var layerName, attachmentData;\n            for (var attachmentName in this._attached) {\n\n                attachmentData = data;\n\n                this._attached[attachmentName].update(attachmentData);\n            }\n            return this;\n        }\n    }, {\n        key: 'updateTitle',\n        value: function updateTitle() {\n            var titleClass = this.prefixClass('plot-title');\n            if (!this.config.title) {\n                this.svg.select(\"text.\" + titleClass).remove();\n                return;\n            }\n\n            this.svg.selectOrAppend(\"text.\" + titleClass).attr(\"transform\", \"translate(\" + this.svgWidth / 2 + \",\" + this.config.titleMargin.top + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"0.5em\").style(\"text-anchor\", \"middle\").style(\"dominant-baseline\", \"central\").style(\"font-size\", this.config.titleSize + \"px\").text(this.config.title);\n        }\n    }, {\n        key: 'updateSubtitle',\n        value: function updateSubtitle() {\n            var subtitleClass = this.prefixClass('plot-subtitle');\n            if (!this.config.subtitle) {\n                this.svg.select(\"text.\" + subtitleClass).remove();\n                return;\n            }\n\n            var y = this.config.subtitleMargin.top;\n            if (this.config.title) {\n                y += this.config.titleMargin.top + this.config.titleSize;\n            }\n\n            this.svg.selectOrAppend(\"text.\" + subtitleClass).attr(\"transform\", \"translate(\" + this.svgWidth / 2 + \",\" + y + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"0.5em\").style(\"text-anchor\", \"middle\").style(\"dominant-baseline\", \"central\").style(\"font-size\", this.config.subtitleSize + \"px\").text(this.config.subtitle);\n        }\n    }, {\n        key: 'draw',\n        value: function draw(data) {\n            this.update(data);\n\n            return this;\n        }\n\n        //Borrowed from d3.chart\n        /**\r\n         * Register or retrieve an \"attachment\" Chart. The \"attachment\" chart's `draw`\r\n         * method will be invoked whenever the containing chart's `draw` method is\r\n         * invoked.\r\n         *\r\n         * @externalExample chart-attach\r\n         *\r\n         * @param {String} attachmentName Name of the attachment\r\n         * @param {Chart} [chart] Chart to register as a mix in of this chart. When\r\n         *        unspecified, this method will return the attachment previously\r\n         *        registered with the specified `attachmentName` (if any).\r\n         *\r\n         * @returns {Chart} Reference to this chart (chainable).\r\n         */\n\n    }, {\n        key: 'attach',\n        value: function attach(attachmentName, chart) {\n            if (arguments.length === 1) {\n                return this._attached[attachmentName];\n            }\n\n            this._attached[attachmentName] = chart;\n            return chart;\n        }\n    }, {\n        key: 'on',\n\n\n        //Borrowed from d3.chart\n        /**\r\n         * Subscribe a callback function to an event triggered on the chart. See {@link\r\n            * Chart#once} to subscribe a callback function to an event for one occurence.\r\n         *\r\n         * @externalExample {runnable} chart-on\r\n         *\r\n         * @param {String} name Name of the event\r\n         * @param {ChartEventHandler} callback Function to be invoked when the event\r\n         *        occurs\r\n         * @param {Object} [context] Value to set as `this` when invoking the\r\n         *        `callback`. Defaults to the chart instance.\r\n         *\r\n         * @returns {Chart} A reference to this chart (chainable).\r\n         */\n        value: function on(name, callback, context) {\n            var events = this._events[name] || (this._events[name] = []);\n            events.push({\n                callback: callback,\n                context: context || this,\n                _chart: this\n            });\n            return this;\n        }\n\n        //Borrowed from d3.chart\n        /**\r\n         *\r\n         * Subscribe a callback function to an event triggered on the chart. This\r\n         * function will be invoked at the next occurance of the event and immediately\r\n         * unsubscribed. See {@link Chart#on} to subscribe a callback function to an\r\n         * event indefinitely.\r\n         *\r\n         * @externalExample {runnable} chart-once\r\n         *\r\n         * @param {String} name Name of the event\r\n         * @param {ChartEventHandler} callback Function to be invoked when the event\r\n         *        occurs\r\n         * @param {Object} [context] Value to set as `this` when invoking the\r\n         *        `callback`. Defaults to the chart instance\r\n         *\r\n         * @returns {Chart} A reference to this chart (chainable)\r\n         */\n\n    }, {\n        key: 'once',\n        value: function once(name, callback, context) {\n            var self = this;\n            var once = function once() {\n                self.off(name, once);\n                callback.apply(this, arguments);\n            };\n            return this.on(name, once, context);\n        }\n\n        //Borrowed from d3.chart\n        /**\r\n         * Unsubscribe one or more callback functions from an event triggered on the\r\n         * chart. When no arguments are specified, *all* handlers will be unsubscribed.\r\n         * When only a `name` is specified, all handlers subscribed to that event will\r\n         * be unsubscribed. When a `name` and `callback` are specified, only that\r\n         * function will be unsubscribed from that event. When a `name` and `context`\r\n         * are specified (but `callback` is omitted), all events bound to the given\r\n         * event with the given context will be unsubscribed.\r\n         *\r\n         * @externalExample {runnable} chart-off\r\n         *\r\n         * @param {String} [name] Name of the event to be unsubscribed\r\n         * @param {ChartEventHandler} [callback] Function to be unsubscribed\r\n         * @param {Object} [context] Contexts to be unsubscribe\r\n         *\r\n         * @returns {Chart} A reference to this chart (chainable).\r\n         */\n\n    }, {\n        key: 'off',\n        value: function off(name, callback, context) {\n            var names, n, events, event, i, j;\n\n            // remove all events\n            if (arguments.length === 0) {\n                for (name in this._events) {\n                    this._events[name].length = 0;\n                }\n                return this;\n            }\n\n            // remove all events for a specific name\n            if (arguments.length === 1) {\n                events = this._events[name];\n                if (events) {\n                    events.length = 0;\n                }\n                return this;\n            }\n\n            // remove all events that match whatever combination of name, context\n            // and callback.\n            names = name ? [name] : Object.keys(this._events);\n            for (i = 0; i < names.length; i++) {\n                n = names[i];\n                events = this._events[n];\n                j = events.length;\n                while (j--) {\n                    event = events[j];\n                    if (callback && callback === event.callback || context && context === event.context) {\n                        events.splice(j, 1);\n                    }\n                }\n            }\n\n            return this;\n        }\n    }, {\n        key: 'trigger',\n\n\n        //Borrowed from d3.chart\n        /**\r\n         * Publish an event on this chart with the given `name`.\r\n         *\r\n         * @externalExample {runnable} chart-trigger\r\n         *\r\n         * @param {String} name Name of the event to publish\r\n         * @param {...*} arguments Values with which to invoke the registered\r\n         *        callbacks.\r\n         *\r\n         * @returns {Chart} A reference to this chart (chainable).\r\n         */\n        value: function trigger(name) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            var events = this._events[name];\n            var i, ev;\n\n            if (events !== undefined) {\n                for (i = 0; i < events.length; i++) {\n                    ev = events[i];\n                    ev.callback.apply(ev.context, args);\n                }\n            }\n\n            return this;\n        }\n    }, {\n        key: 'getBaseContainer',\n        value: function getBaseContainer() {\n            if (this._isAttached) {\n                return this.baseContainer.svg;\n            }\n            return d3.select(this.baseContainer);\n        }\n    }, {\n        key: 'getBaseContainerNode',\n        value: function getBaseContainerNode() {\n\n            return this.getBaseContainer().node();\n        }\n    }, {\n        key: 'prefixClass',\n        value: function prefixClass(clazz, addDot) {\n            return addDot ? '.' : '' + this.config.cssClassPrefix + clazz;\n        }\n    }, {\n        key: 'computePlotSize',\n        value: function computePlotSize() {\n            this.plot.width = _utils.Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\n            this.plot.height = _utils.Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\n        }\n    }, {\n        key: 'transitionEnabled',\n        value: function transitionEnabled() {\n            return this._isInitialized && this.config.transition;\n        }\n    }, {\n        key: 'showTooltip',\n        value: function showTooltip(html) {\n            if (!this.plot.tooltip) {\n                return;\n            }\n            this.plot.tooltip.transition().duration(200).style(\"opacity\", .9);\n            this.plot.tooltip.html(html).style(\"left\", d3.event.pageX + 5 + \"px\").style(\"top\", d3.event.pageY - 28 + \"px\");\n        }\n    }, {\n        key: 'hideTooltip',\n        value: function hideTooltip() {\n            if (!this.plot.tooltip) {\n                return;\n            }\n            this.plot.tooltip.transition().duration(500).style(\"opacity\", 0);\n        }\n    }, {\n        key: 'initConfigAccessors',\n        value: function initConfigAccessors(clean) {\n            if (clean) {\n                this.removePropertyAccessors(this, this, this.config, \"$\");\n            }\n            this.initPropertyAccessors(this, this, this.config, \"$\", true);\n        }\n    }, {\n        key: 'removePropertyAccessors',\n        value: function removePropertyAccessors(bindTo, returnObj, source, prefix) {\n            var self = this;\n            for (var i in source) {\n                if (!source.hasOwnProperty(i)) {\n                    continue;\n                }\n\n                delete bindTo[prefix + i];\n            }\n        }\n    }, {\n        key: 'initPropertyAccessors',\n        value: function initPropertyAccessors(bindTo, returnObj, source, prefix, recursive) {\n            var self = this;\n            for (var i in source) {\n                if (!source.hasOwnProperty(i)) {\n                    continue;\n                }\n\n                var accessor = self.initPropertyAccessor(bindTo, returnObj, source, i, prefix);\n\n                if (recursive && _utils.Utils.isObjectNotArray(source[i])) {\n                    self.initPropertyAccessors(accessor, bindTo, source[i], prefix, recursive);\n                }\n            }\n        }\n    }, {\n        key: 'initPropertyAccessor',\n        value: function initPropertyAccessor(bindTo, returnObj, source, propertyKey, prefix) {\n            return bindTo[prefix + propertyKey] = function (_) {\n                if (!arguments.length) {\n                    return source[propertyKey];\n                }\n                source[propertyKey] = _;\n                return returnObj;\n            };\n        }\n    }]);\n\n    return Chart;\n}();\n\n},{\"./utils\":47}],35:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CorrelationMatrix = exports.CorrelationMatrixConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require('./chart');\n\nvar _utils = require('./utils');\n\nvar _statisticsUtils = require('./statistics-utils');\n\nvar _legend = require('./legend');\n\nvar _scatterplot = require('./scatterplot');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CorrelationMatrixConfig = exports.CorrelationMatrixConfig = function (_ChartConfig) {\n    _inherits(CorrelationMatrixConfig, _ChartConfig);\n\n    //show axis guides\n    function CorrelationMatrixConfig(custom) {\n        _classCallCheck(this, CorrelationMatrixConfig);\n\n        var _this = _possibleConstructorReturn(this, (CorrelationMatrixConfig.__proto__ || Object.getPrototypeOf(CorrelationMatrixConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'correlation-matrix';\n        _this.guides = false;\n        _this.showTooltip = true;\n        _this.showLegend = true;\n        _this.highlightLabels = true;\n        _this.rotateLabelsX = true;\n        _this.rotateLabelsY = true;\n        _this.variables = {\n            labels: undefined,\n            keys: [], //optional array of variable keys\n            value: function value(d, variableKey) {\n                return d[variableKey];\n            }, // variable value accessor\n            scale: \"ordinal\"\n        };\n        _this.correlation = {\n            scale: \"linear\",\n            domain: [-1, -0.75, -0.5, 0, 0.5, 0.75, 1],\n            range: [\"darkblue\", \"blue\", \"lightskyblue\", \"white\", \"orangered\", \"crimson\", \"darkred\"],\n            value: function value(xValues, yValues) {\n                return _statisticsUtils.StatisticsUtils.sampleCorrelation(xValues, yValues);\n            }\n\n        };\n        _this.cell = {\n            shape: \"ellipse\", //possible values: rect, circle, ellipse\n            size: undefined,\n            sizeMin: 15,\n            sizeMax: 250,\n            padding: 1\n        };\n        _this.margin = {\n            left: 60,\n            right: 50,\n            top: 30,\n            bottom: 60\n        };\n        _this.groups = {\n            key: null\n        };\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n        return _this;\n    } //show tooltip on dot hover\n\n\n    return CorrelationMatrixConfig;\n}(_chart.ChartConfig);\n\nvar CorrelationMatrix = exports.CorrelationMatrix = function (_Chart) {\n    _inherits(CorrelationMatrix, _Chart);\n\n    function CorrelationMatrix(placeholderSelector, data, config) {\n        _classCallCheck(this, CorrelationMatrix);\n\n        return _possibleConstructorReturn(this, (CorrelationMatrix.__proto__ || Object.getPrototypeOf(CorrelationMatrix)).call(this, placeholderSelector, data, new CorrelationMatrixConfig(config)));\n    }\n\n    _createClass(CorrelationMatrix, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            return _get(CorrelationMatrix.prototype.__proto__ || Object.getPrototypeOf(CorrelationMatrix.prototype), 'setConfig', this).call(this, new CorrelationMatrixConfig(config));\n        }\n    }, {\n        key: 'initPlot',\n        value: function initPlot() {\n            _get(CorrelationMatrix.prototype.__proto__ || Object.getPrototypeOf(CorrelationMatrix.prototype), 'initPlot', this).call(this);\n            var self = this;\n            var margin = this.config.margin;\n            var conf = this.config;\n\n            this.plot.x = {};\n            this.plot.correlation = {\n                matrix: undefined,\n                cells: undefined,\n                color: {},\n                shape: {}\n            };\n\n            this.setupVariables();\n            var width = conf.width;\n            var placeholderNode = this.getBaseContainerNode();\n            this.plot.placeholderNode = placeholderNode;\n\n            var parentWidth = placeholderNode.getBoundingClientRect().width;\n            if (width) {\n\n                if (!this.plot.cellSize) {\n                    this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (width - margin.left - margin.right) / this.plot.variables.length));\n                }\n            } else {\n                this.plot.cellSize = this.config.cell.size;\n\n                if (!this.plot.cellSize) {\n                    this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (parentWidth - margin.left - margin.right) / this.plot.variables.length));\n                }\n\n                width = this.plot.cellSize * this.plot.variables.length + margin.left + margin.right;\n            }\n\n            var height = width;\n            if (!height) {\n                height = placeholderNode.getBoundingClientRect().height;\n            }\n\n            this.plot.width = width - margin.left - margin.right;\n            this.plot.height = this.plot.width;\n\n            this.setupVariablesScales();\n            this.setupCorrelationScales();\n            this.setupCorrelationMatrix();\n\n            return this;\n        }\n    }, {\n        key: 'setupVariablesScales',\n        value: function setupVariablesScales() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config.variables;\n\n            /* *\r\n             * value accessor - returns the value to encode for a given data object.\r\n             * scale - maps value to a visual display encoding, such as a pixel position.\r\n             * map function - maps from data value to display value\r\n             * axis - sets up axis\r\n             **/\n            x.value = conf.value;\n            x.scale = d3.scaleBand().range([plot.width, 0]);\n            x.map = function (d) {\n                return x.scale(x.value(d));\n            };\n        }\n    }, {\n        key: 'setupCorrelationScales',\n        value: function setupCorrelationScales() {\n            var plot = this.plot;\n            var corrConf = this.config.correlation;\n\n            plot.correlation.color.scale = _utils.Utils.createScale(corrConf.scale).domain(corrConf.domain).range(corrConf.range);\n            var shape = plot.correlation.shape = {};\n\n            var cellConf = this.config.cell;\n            shape.type = cellConf.shape;\n\n            var shapeSize = plot.cellSize - cellConf.padding * 2;\n            if (shape.type == 'circle') {\n                var radiusMax = shapeSize / 2;\n                shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([2, radiusMax]);\n                shape.radius = function (c) {\n                    return shape.radiusScale(Math.abs(c.value));\n                };\n            } else if (shape.type == 'ellipse') {\n                var radiusMax = shapeSize / 2;\n                shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([radiusMax, 2]);\n                shape.radiusX = function (c) {\n                    return shape.radiusScale(Math.abs(c.value));\n                };\n                shape.radiusY = radiusMax;\n\n                shape.rotateVal = function (v) {\n                    if (v == 0) return \"0\";\n                    if (v < 0) return \"-45\";\n                    return \"45\";\n                };\n            } else if (shape.type == 'rect') {\n                shape.size = shapeSize;\n            }\n        }\n    }, {\n        key: 'setupVariables',\n        value: function setupVariables() {\n\n            var variablesConf = this.config.variables;\n\n            var data = this.data;\n            var plot = this.plot;\n            plot.domainByVariable = {};\n            plot.variables = variablesConf.keys;\n            if (!plot.variables || !plot.variables.length) {\n                plot.variables = _utils.Utils.inferVariables(data, this.config.groups.key, this.config.includeInPlot);\n            }\n\n            plot.labels = [];\n            plot.labelByVariable = {};\n            plot.variables.forEach(function (variableKey, index) {\n                plot.domainByVariable[variableKey] = d3.extent(data, function (d) {\n                    return variablesConf.value(d, variableKey);\n                });\n                var label = variableKey;\n                if (variablesConf.labels && variablesConf.labels.length > index) {\n\n                    label = variablesConf.labels[index];\n                }\n                plot.labels.push(label);\n                plot.labelByVariable[variableKey] = label;\n            });\n\n            void 0;\n        }\n    }, {\n        key: 'setupCorrelationMatrix',\n        value: function setupCorrelationMatrix() {\n            var self = this;\n            var data = this.data;\n            var matrix = this.plot.correlation.matrix = [];\n            var matrixCells = this.plot.correlation.matrix.cells = [];\n            var plot = this.plot;\n\n            var variableToValues = {};\n            plot.variables.forEach(function (v, i) {\n\n                variableToValues[v] = data.map(function (d) {\n                    return plot.x.value(d, v);\n                });\n            });\n\n            plot.variables.forEach(function (v1, i) {\n                var row = [];\n                matrix.push(row);\n\n                plot.variables.forEach(function (v2, j) {\n                    var corr = 1;\n                    if (v1 != v2) {\n                        corr = self.config.correlation.value(variableToValues[v1], variableToValues[v2]);\n                    }\n                    var cell = {\n                        rowVar: v1,\n                        colVar: v2,\n                        row: i,\n                        col: j,\n                        value: corr\n                    };\n                    row.push(cell);\n\n                    matrixCells.push(cell);\n                });\n            });\n        }\n    }, {\n        key: 'update',\n        value: function update(newData) {\n            _get(CorrelationMatrix.prototype.__proto__ || Object.getPrototypeOf(CorrelationMatrix.prototype), 'update', this).call(this, newData);\n            // this.update\n            this.updateCells();\n            this.updateVariableLabels();\n\n            if (this.config.showLegend) {\n                this.updateLegend();\n            }\n        }\n    }, {\n        key: 'updateVariableLabels',\n        value: function updateVariableLabels() {\n            this.plot.labelClass = this.prefixClass(\"label\");\n            this.updateAxisX();\n            this.updateAxisY();\n        }\n    }, {\n        key: 'updateAxisX',\n        value: function updateAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var labelClass = plot.labelClass;\n            var labelXClass = labelClass + \"-x\";\n\n            var labels = self.svgG.selectAll(\"text.\" + labelXClass).data(plot.variables, function (d, i) {\n                return i;\n            });\n\n            var labelsMerge = labels.enter().append(\"text\").attr(\"class\", function (d, i) {\n                return labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i;\n            }).merge(labels);\n\n            labelsMerge.attr(\"x\", function (d, i) {\n                return i * plot.cellSize + plot.cellSize / 2;\n            }).attr(\"y\", plot.height).attr(\"dx\", -2).attr(\"dy\", 5).attr(\"text-anchor\", \"end\")\n\n            // .attr(\"dominant-baseline\", \"hanging\")\n            .text(function (v) {\n                return plot.labelByVariable[v];\n            });\n\n            if (this.config.rotateLabelsX) {\n                labelsMerge.attr(\"transform\", function (d, i) {\n                    return \"rotate(-45, \" + (i * plot.cellSize + plot.cellSize / 2) + \", \" + plot.height + \")\";\n                });\n            }\n\n            var maxWidth = self.computeXAxisLabelsWidth();\n            labelsMerge.each(function (label) {\n                _utils.Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\n            });\n\n            labels.exit().remove();\n        }\n    }, {\n        key: 'updateAxisY',\n        value: function updateAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var labelClass = plot.labelClass;\n            var labelYClass = plot.labelClass + \"-y\";\n            var labels = self.svgG.selectAll(\"text.\" + labelYClass).data(plot.variables);\n\n            var labelsMerge = labels.enter().append(\"text\").merge(labels);\n\n            labelsMerge.attr(\"x\", 0).attr(\"y\", function (d, i) {\n                return i * plot.cellSize + plot.cellSize / 2;\n            }).attr(\"dx\", -2).attr(\"text-anchor\", \"end\").attr(\"class\", function (d, i) {\n                return labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i;\n            })\n            // .attr(\"dominant-baseline\", \"hanging\")\n            .text(function (v) {\n                return plot.labelByVariable[v];\n            });\n\n            if (this.config.rotateLabelsY) {\n                labelsMerge.attr(\"transform\", function (d, i) {\n                    return \"rotate(-45, \" + 0 + \", \" + (i * plot.cellSize + plot.cellSize / 2) + \")\";\n                }).attr(\"text-anchor\", \"end\");\n            }\n\n            var maxWidth = self.computeYAxisLabelsWidth();\n            labelsMerge.each(function (label) {\n                _utils.Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\n            });\n\n            labels.exit().remove();\n        }\n    }, {\n        key: 'computeYAxisLabelsWidth',\n        value: function computeYAxisLabelsWidth() {\n            var maxWidth = this.plot.margin.left;\n            if (!this.config.rotateLabelsY) {\n                return maxWidth;\n            }\n\n            maxWidth *= _utils.Utils.SQRT_2;\n            var fontSize = 11; //todo check actual font size\n            maxWidth -= fontSize / 2;\n\n            return maxWidth;\n        }\n    }, {\n        key: 'computeXAxisLabelsWidth',\n        value: function computeXAxisLabelsWidth(offset) {\n            if (!this.config.rotateLabelsX) {\n                return this.plot.cellSize - 2;\n            }\n            var size = this.plot.margin.bottom;\n            size *= _utils.Utils.SQRT_2;\n            var fontSize = 11; //todo check actual font size\n            size -= fontSize / 2;\n            return size;\n        }\n    }, {\n        key: 'updateCells',\n        value: function updateCells() {\n\n            var self = this;\n            var plot = self.plot;\n            var cellClass = self.prefixClass(\"cell\");\n            var cellShape = plot.correlation.shape.type;\n\n            var cells = self.svgG.selectAll(\"g.\" + cellClass).data(plot.correlation.matrix.cells);\n\n            var cellsEnter = cells.enter().append(\"g\").classed(cellClass, true);\n            var cellsMerge = cellsEnter.merge(cells);\n            cellsMerge.attr(\"transform\", function (c) {\n                return \"translate(\" + (plot.cellSize * c.col + plot.cellSize / 2) + \",\" + (plot.cellSize * c.row + plot.cellSize / 2) + \")\";\n            });\n\n            cellsMerge.classed(self.config.cssClassPrefix + \"selectable\", !!self.scatterPlot);\n\n            var selector = \"*:not(.cell-shape-\" + cellShape + \")\";\n\n            var wrongShapes = cells.selectAll(selector);\n            wrongShapes.remove();\n\n            var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\n\n            if (plot.correlation.shape.type == 'circle') {\n\n                shapes.attr(\"r\", plot.correlation.shape.radius).attr(\"cx\", 0).attr(\"cy\", 0);\n            }\n\n            if (plot.correlation.shape.type == 'ellipse') {\n                // cells.attr(\"transform\", c=> \"translate(300,150) rotate(\"+plot.correlation.shape.rotateVal(c.value)+\")\");\n                shapes.attr(\"rx\", plot.correlation.shape.radiusX).attr(\"ry\", plot.correlation.shape.radiusY).attr(\"cx\", 0).attr(\"cy\", 0).attr(\"transform\", function (c) {\n                    return \"rotate(\" + plot.correlation.shape.rotateVal(c.value) + \")\";\n                });\n            }\n\n            if (plot.correlation.shape.type == 'rect') {\n                shapes.attr(\"width\", plot.correlation.shape.size).attr(\"height\", plot.correlation.shape.size).attr(\"x\", -plot.cellSize / 2).attr(\"y\", -plot.cellSize / 2);\n            }\n            shapes.style(\"fill\", function (c) {\n                return plot.correlation.color.scale(c.value);\n            });\n\n            var mouseoverCallbacks = [];\n            var mouseoutCallbacks = [];\n\n            if (plot.tooltip) {\n\n                mouseoverCallbacks.push(function (c) {\n                    var html = c.value;\n                    self.showTooltip(html);\n                });\n\n                mouseoutCallbacks.push(function (c) {\n                    self.hideTooltip();\n                });\n            }\n\n            if (self.config.highlightLabels) {\n                var highlightClass = self.config.cssClassPrefix + \"highlight\";\n                var xLabelClass = function xLabelClass(c) {\n                    return plot.labelClass + \"-x-\" + c.col;\n                };\n                var yLabelClass = function yLabelClass(c) {\n                    return plot.labelClass + \"-y-\" + c.row;\n                };\n\n                mouseoverCallbacks.push(function (c) {\n\n                    self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\n                    self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\n                });\n                mouseoutCallbacks.push(function (c) {\n                    self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\n                    self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\n                });\n            }\n\n            cellsMerge.on(\"mouseover\", function (c) {\n                mouseoverCallbacks.forEach(function (callback) {\n                    return callback(c);\n                });\n            }).on(\"mouseout\", function (c) {\n                mouseoutCallbacks.forEach(function (callback) {\n                    return callback(c);\n                });\n            });\n\n            cellsMerge.on(\"click\", function (c) {\n                self.trigger(\"cell-selected\", c);\n            });\n\n            cells.exit().remove();\n        }\n    }, {\n        key: 'updateLegend',\n        value: function updateLegend() {\n\n            var plot = this.plot;\n            var legendX = this.plot.width + 10;\n            var legendY = 0;\n            var barWidth = 10;\n            var barHeight = this.plot.height - 2;\n            var scale = plot.correlation.color.scale;\n\n            plot.legend = new _legend.Legend(this.svg, this.svgG, scale, legendX, legendY).linearGradientBar(barWidth, barHeight);\n        }\n    }, {\n        key: 'attachScatterPlot',\n        value: function attachScatterPlot(containerSelector, config) {\n            var _this3 = this;\n\n            var self = this;\n\n            config = config || {};\n\n            var scatterPlotConfig = {\n                height: self.plot.height + self.config.margin.top + self.config.margin.bottom,\n                width: self.plot.height + self.config.margin.top + self.config.margin.bottom,\n                groups: {\n                    key: self.config.groups.key,\n                    label: self.config.groups.label\n                },\n                guides: true,\n                showLegend: false\n            };\n\n            self.scatterPlot = true;\n\n            scatterPlotConfig = _utils.Utils.deepExtend(scatterPlotConfig, config);\n            this.update();\n\n            this.on(\"cell-selected\", function (c) {\n\n                scatterPlotConfig.x = {\n                    key: c.rowVar,\n                    label: self.plot.labelByVariable[c.rowVar]\n                };\n                scatterPlotConfig.y = {\n                    key: c.colVar,\n                    label: self.plot.labelByVariable[c.colVar]\n                };\n                if (self.scatterPlot && self.scatterPlot !== true) {\n                    self.scatterPlot.setConfig(scatterPlotConfig).init();\n                } else {\n                    self.scatterPlot = new _scatterplot.ScatterPlot(containerSelector, self.data, scatterPlotConfig);\n                    _this3.attach(\"ScatterPlot\", self.scatterPlot);\n                }\n            });\n        }\n    }]);\n\n    return CorrelationMatrix;\n}(_chart.Chart);\n\n},{\"./chart\":34,\"./legend\":41,\"./scatterplot\":44,\"./statistics-utils\":46,\"./utils\":47}],36:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.D3Extensions = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar D3Extensions = exports.D3Extensions = function () {\n    function D3Extensions() {\n        _classCallCheck(this, D3Extensions);\n    }\n\n    _createClass(D3Extensions, null, [{\n        key: 'extend',\n        value: function extend() {\n\n            d3.selection.prototype.enter.prototype.insertSelector = d3.selection.prototype.insertSelector = function (selector, before) {\n                return _utils.Utils.insertSelector(this, selector, before);\n            };\n\n            d3.selection.prototype.enter.prototype.appendSelector = d3.selection.prototype.appendSelector = function (selector) {\n                return _utils.Utils.appendSelector(this, selector);\n            };\n\n            d3.selection.prototype.enter.prototype.selectOrAppend = d3.selection.prototype.selectOrAppend = function (selector) {\n                return _utils.Utils.selectOrAppend(this, selector);\n            };\n\n            d3.selection.prototype.enter.prototype.selectOrInsert = d3.selection.prototype.selectOrInsert = function (selector, before) {\n                return _utils.Utils.selectOrInsert(this, selector, before);\n            };\n        }\n    }]);\n\n    return D3Extensions;\n}();\n\n},{\"./utils\":47}],37:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.HeatmapTimeSeries = exports.HeatmapTimeSeriesConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require(\"./chart\");\n\nvar _heatmap = require(\"./heatmap\");\n\nvar _utils = require(\"./utils\");\n\nvar _statisticsUtils = require(\"./statistics-utils\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HeatmapTimeSeriesConfig = exports.HeatmapTimeSeriesConfig = function (_HeatmapConfig) {\n    _inherits(HeatmapTimeSeriesConfig, _HeatmapConfig);\n\n    function HeatmapTimeSeriesConfig(custom) {\n        _classCallCheck(this, HeatmapTimeSeriesConfig);\n\n        var _this = _possibleConstructorReturn(this, (HeatmapTimeSeriesConfig.__proto__ || Object.getPrototypeOf(HeatmapTimeSeriesConfig)).call(this));\n\n        _this.x = {\n            fillMissing: false, // fill missing values using interval and intervalStep\n            interval: undefined, //used in filling missing ticks\n            intervalStep: 1,\n            format: undefined, //input data d3 time format\n            displayFormat: undefined, //d3 time format for display\n            intervalToFormats: [//used to guess interval and format\n            {\n                name: 'year',\n                formats: [\"%Y\"]\n            }, {\n                name: 'month',\n                formats: [\"%Y-%m\"]\n            }, {\n                name: 'day',\n                formats: [\"%Y-%m-%d\"]\n            }, {\n                name: 'hour',\n                formats: ['%H', '%Y-%m-%d %H']\n            }, {\n                name: 'minute',\n                formats: ['%H:%M', '%Y-%m-%d %H:%M']\n            }, {\n                name: 'second',\n                formats: ['%H:%M:%S', '%Y-%m-%d %H:%M:%S']\n            }],\n\n            sortComparator: function sortComparator(a, b) {\n                return _utils.Utils.isString(a) ? a.localeCompare(b) : a - b;\n            },\n            formatter: undefined\n        };\n        _this.z = {\n            fillMissing: true // fiill missing values with nearest previous value\n        };\n        _this.legend = {\n            formatter: function formatter(v) {\n                var suffix = \"\";\n                if (v / 1000000 >= 1) {\n                    suffix = \" M\";\n                    v = Number(v / 1000000).toFixed(3);\n                }\n                var nf = Intl.NumberFormat();\n                return nf.format(v) + suffix;\n            }\n        };\n\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n        return _this;\n    }\n\n    return HeatmapTimeSeriesConfig;\n}(_heatmap.HeatmapConfig);\n\nvar HeatmapTimeSeries = exports.HeatmapTimeSeries = function (_Heatmap) {\n    _inherits(HeatmapTimeSeries, _Heatmap);\n\n    function HeatmapTimeSeries(placeholderSelector, data, config) {\n        _classCallCheck(this, HeatmapTimeSeries);\n\n        return _possibleConstructorReturn(this, (HeatmapTimeSeries.__proto__ || Object.getPrototypeOf(HeatmapTimeSeries)).call(this, placeholderSelector, data, new HeatmapTimeSeriesConfig(config)));\n    }\n\n    _createClass(HeatmapTimeSeries, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(HeatmapTimeSeries.prototype.__proto__ || Object.getPrototypeOf(HeatmapTimeSeries.prototype), \"setConfig\", this).call(this, new HeatmapTimeSeriesConfig(config));\n        }\n    }, {\n        key: \"setupValuesBeforeGroupsSort\",\n        value: function setupValuesBeforeGroupsSort() {\n            var _this3 = this;\n\n            this.plot.x.timeFormat = this.config.x.format;\n            if (this.config.x.displayFormat && !this.plot.x.timeFormat) {\n                this.guessTimeFormat();\n            }\n\n            _get(HeatmapTimeSeries.prototype.__proto__ || Object.getPrototypeOf(HeatmapTimeSeries.prototype), \"setupValuesBeforeGroupsSort\", this).call(this);\n            if (!this.config.x.fillMissing) {\n                return;\n            }\n\n            var self = this;\n\n            this.initTimeFormatAndInterval();\n\n            this.plot.x.intervalStep = this.config.x.intervalStep || 1;\n\n            this.plot.x.timeParser = this.getTimeParser();\n\n            this.plot.x.uniqueValues.sort(this.config.x.sortComparator);\n\n            var prev = null;\n\n            this.plot.x.uniqueValues.forEach(function (x, i) {\n                var current = _this3.parseTime(x);\n                if (prev === null) {\n                    prev = current;\n                    return;\n                }\n\n                var next = self.nextTimeTickValue(prev);\n                var missing = [];\n                var iteration = 0;\n                while (self.compareTimeValues(next, current) <= 0) {\n                    iteration++;\n                    if (iteration > 100) {\n                        break;\n                    }\n                    var d = {};\n                    var timeString = self.formatTime(next);\n                    d[_this3.config.x.key] = timeString;\n\n                    self.updateGroups(d, timeString, self.plot.x.groups, self.config.x.groups);\n                    missing.push(next);\n                    next = self.nextTimeTickValue(next);\n                }\n                prev = current;\n            });\n        }\n    }, {\n        key: \"parseTime\",\n        value: function parseTime(x) {\n            var parser = this.getTimeParser();\n            return parser(x);\n        }\n    }, {\n        key: \"formatTime\",\n        value: function formatTime(date) {\n            var formatter = this.getTimeFormatter();\n            return formatter(date);\n        }\n    }, {\n        key: \"formatValueX\",\n        value: function formatValueX(value) {\n            //used only for display\n            if (this.config.x.formatter) return this.config.x.formatter.call(this.config, value);\n\n            if (this.config.x.displayFormat) {\n                var date = this.parseTime(value);\n                return d3.timeFormat(this.config.x.displayFormat)(date);\n            }\n\n            if (!this.plot.x.timeFormat) return value;\n\n            if (_utils.Utils.isDate(value)) {\n                return this.formatTime(value);\n            }\n\n            return value;\n        }\n    }, {\n        key: \"compareTimeValues\",\n        value: function compareTimeValues(a, b) {\n            return a - b;\n        }\n    }, {\n        key: \"timeValuesEqual\",\n        value: function timeValuesEqual(a, b) {\n            var parser = this.plot.x.timeParser;\n            return parser(a) === parser(b);\n        }\n    }, {\n        key: \"nextTimeTickValue\",\n        value: function nextTimeTickValue(t) {\n            var interval = 'time' + _utils.Utils.capitalizeFirstLetter(this.plot.x.interval);\n\n            return d3[interval].offset(t, this.plot.x.intervalStep);\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(HeatmapTimeSeries.prototype.__proto__ || Object.getPrototypeOf(HeatmapTimeSeries.prototype), \"initPlot\", this).call(this);\n\n            if (this.config.z.fillMissing) {\n                this.plot.matrix.forEach(function (row, rowIndex) {\n                    var prevRowValue = undefined;\n                    row.forEach(function (cell, colIndex) {\n                        if (cell.value === undefined && prevRowValue !== undefined) {\n                            cell.value = prevRowValue;\n                            cell.missing = true;\n                        }\n                        prevRowValue = cell.value;\n                    });\n                });\n            }\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(HeatmapTimeSeries.prototype.__proto__ || Object.getPrototypeOf(HeatmapTimeSeries.prototype), \"update\", this).call(this, newData);\n        }\n    }, {\n        key: \"initTimeFormatAndInterval\",\n        value: function initTimeFormatAndInterval() {\n\n            this.plot.x.interval = this.config.x.interval;\n\n            if (!this.plot.x.timeFormat) {\n                this.guessTimeFormat();\n            }\n\n            if (!this.plot.x.interval && this.plot.x.timeFormat) {\n                this.guessInterval();\n            }\n        }\n    }, {\n        key: \"guessTimeFormat\",\n        value: function guessTimeFormat() {\n            var self = this;\n            for (var i = 0; i < self.config.x.intervalToFormats.length; i++) {\n                var intervalFormat = self.config.x.intervalToFormats[i];\n                var format = null;\n                var formatMatch = intervalFormat.formats.some(function (f) {\n                    format = f;\n                    var parser = d3.timeParse(f);\n                    return self.plot.x.uniqueValues.every(function (x) {\n                        return parser(x) !== null;\n                    });\n                });\n                if (formatMatch) {\n                    self.plot.x.timeFormat = format;\n                    void 0;\n                    if (!self.plot.x.interval) {\n                        self.plot.x.interval = intervalFormat.name;\n                        void 0;\n                    }\n                    return;\n                }\n            }\n        }\n    }, {\n        key: \"guessInterval\",\n        value: function guessInterval() {\n            var self = this;\n            for (var i = 0; i < self.config.x.intervalToFormats.length; i++) {\n                var intervalFormat = self.config.x.intervalToFormats[i];\n\n                if (intervalFormat.formats.indexOf(self.plot.x.timeFormat) >= 0) {\n                    self.plot.x.interval = intervalFormat.name;\n                    void 0;\n                    return;\n                }\n            }\n        }\n    }, {\n        key: \"getTimeFormatter\",\n        value: function getTimeFormatter() {\n            if (!this.plot.x.timeFormatter) {\n                this.plot.x.timeFormatter = d3.timeFormat(this.plot.x.timeFormat);\n            }\n            return this.plot.x.timeFormatter;\n        }\n    }, {\n        key: \"getTimeParser\",\n        value: function getTimeParser() {\n            if (!this.plot.x.timeParser) {\n                this.plot.x.timeParser = d3.timeParse(this.plot.x.timeFormat);\n            }\n            return this.plot.x.timeParser;\n        }\n    }]);\n\n    return HeatmapTimeSeries;\n}(_heatmap.Heatmap);\n\n},{\"./chart\":34,\"./heatmap\":38,\"./statistics-utils\":46,\"./utils\":47}],38:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Heatmap = exports.HeatmapConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require('./chart');\n\nvar _utils = require('./utils');\n\nvar _legend = require('./legend');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HeatmapConfig = exports.HeatmapConfig = function (_ChartConfig) {\n    _inherits(HeatmapConfig, _ChartConfig);\n\n    //show tooltip on dot hover\n    function HeatmapConfig(custom) {\n        _classCallCheck(this, HeatmapConfig);\n\n        var _this = _possibleConstructorReturn(this, (HeatmapConfig.__proto__ || Object.getPrototypeOf(HeatmapConfig)).call(this));\n\n        _this.svgClass = 'odc-heatmap';\n        _this.showTooltip = true;\n        _this.tooltip = {\n            noDataText: \"N/A\"\n        };\n        _this.showLegend = true;\n        _this.legend = {\n            width: 30,\n            rotateLabels: false,\n            decimalPlaces: undefined,\n            formatter: function formatter(v) {\n                return _this.legend.decimalPlaces === undefined ? v : Number(v).toFixed(_this.legend.decimalPlaces);\n            }\n        };\n        _this.highlightLabels = true;\n        _this.x = { // X axis config\n            title: '', // axis title\n            key: 0,\n            value: function value(d) {\n                return d[_this.x.key];\n            }, // x value accessor\n            rotateLabels: true,\n            sortLabels: false,\n            sortComparator: function sortComparator(a, b) {\n                return _utils.Utils.isNumber(a) ? a - b : a.localeCompare(b);\n            },\n            groups: {\n                keys: [],\n                labels: [],\n                value: function value(d, key) {\n                    return d[key];\n                },\n                overlap: {\n                    top: 20,\n                    bottom: 20\n                }\n            },\n            formatter: undefined // value formatter function\n\n        };\n        _this.y = { // Y axis config\n            title: '', // axis title,\n            rotateLabels: true,\n            key: 1,\n            value: function value(d) {\n                return d[_this.y.key];\n            }, // y value accessor\n            sortLabels: false,\n            sortComparator: function sortComparator(a, b) {\n                return _utils.Utils.isNumber(b) ? b - a : b.localeCompare(a);\n            },\n            groups: {\n                keys: [],\n                labels: [],\n                value: function value(d, key) {\n                    return d[key];\n                },\n                overlap: {\n                    left: 20,\n                    right: 20\n                }\n            },\n            formatter: undefined // value formatter function\n        };\n        _this.z = {\n            key: 2,\n            value: function value(d) {\n                return d[_this.z.key];\n            },\n            notAvailableValue: function notAvailableValue(v) {\n                return v === null || v === undefined;\n            },\n\n            decimalPlaces: undefined,\n            formatter: function formatter(v) {\n                return _this.z.decimalPlaces === undefined ? v : Number(v).toFixed(_this.z.decimalPlaces);\n            } // value formatter function\n\n        };\n        _this.color = {\n            noDataColor: \"white\",\n            scale: \"linear\",\n            reverseScale: false,\n            range: [\"darkblue\", \"lightskyblue\", \"orange\", \"crimson\", \"darkred\"]\n        };\n        _this.cell = {\n            width: undefined,\n            height: undefined,\n            sizeMin: 15,\n            sizeMax: 250,\n            padding: 0\n        };\n        _this.margin = {\n            left: 60,\n            right: 50,\n            top: 30,\n            bottom: 80\n        };\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n        return _this;\n    }\n\n    return HeatmapConfig;\n}(_chart.ChartConfig);\n\n//TODO refactor\n\n\nvar Heatmap = exports.Heatmap = function (_Chart) {\n    _inherits(Heatmap, _Chart);\n\n    function Heatmap(placeholderSelector, data, config) {\n        _classCallCheck(this, Heatmap);\n\n        return _possibleConstructorReturn(this, (Heatmap.__proto__ || Object.getPrototypeOf(Heatmap)).call(this, placeholderSelector, data, new HeatmapConfig(config)));\n    }\n\n    _createClass(Heatmap, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            return _get(Heatmap.prototype.__proto__ || Object.getPrototypeOf(Heatmap.prototype), 'setConfig', this).call(this, new HeatmapConfig(config));\n        }\n    }, {\n        key: 'initPlot',\n        value: function initPlot() {\n            _get(Heatmap.prototype.__proto__ || Object.getPrototypeOf(Heatmap.prototype), 'initPlot', this).call(this);\n            var self = this;\n            var margin = this.config.margin;\n            var conf = this.config;\n\n            this.plot.x = {};\n            this.plot.y = {};\n            this.plot.z = {\n                matrixes: undefined,\n                cells: undefined,\n                color: {},\n                shape: {}\n            };\n\n            this.setupValues();\n            this.buildCells();\n\n            var titleRectWidth = 6;\n            this.plot.x.overlap = {\n                top: 0,\n                bottom: 0\n            };\n            if (this.plot.groupByX) {\n                var depth = self.config.x.groups.keys.length;\n                var allTitlesWidth = depth * titleRectWidth;\n\n                this.plot.x.overlap.bottom = self.config.x.groups.overlap.bottom;\n                this.plot.x.overlap.top = self.config.x.groups.overlap.top + allTitlesWidth;\n                this.plot.margin.top = this.plot.margin.top + conf.x.groups.overlap.top;\n                this.plot.margin.bottom = this.plot.margin.bottom + conf.x.groups.overlap.bottom;\n            }\n\n            this.plot.y.overlap = {\n                left: 0,\n                right: 0\n            };\n\n            if (this.plot.groupByY) {\n                var _depth = self.config.y.groups.keys.length;\n                var _allTitlesWidth = _depth * titleRectWidth;\n                this.plot.y.overlap.right = self.config.y.groups.overlap.left + _allTitlesWidth;\n                this.plot.y.overlap.left = self.config.y.groups.overlap.left;\n                this.plot.margin.left = this.plot.margin.left + this.plot.y.overlap.left;\n                this.plot.margin.right = this.plot.margin.right + this.plot.y.overlap.right;\n            }\n            this.plot.showLegend = conf.showLegend;\n            if (this.plot.showLegend) {\n                this.plot.margin.right += conf.legend.width;\n            }\n            this.computePlotSize();\n            this.setupZScale();\n\n            return this;\n        }\n    }, {\n        key: 'setupValues',\n        value: function setupValues() {\n            var _this3 = this;\n\n            var self = this;\n            var config = self.config;\n            var x = self.plot.x;\n            var y = self.plot.y;\n            var z = self.plot.z;\n\n            x.value = function (d) {\n                return config.x.value.call(config, d);\n            };\n            y.value = function (d) {\n                return config.y.value.call(config, d);\n            };\n            z.value = function (d) {\n                return config.z.value.call(config, d);\n            };\n\n            x.uniqueValues = [];\n            y.uniqueValues = [];\n\n            self.plot.groupByY = !!config.y.groups.keys.length;\n            self.plot.groupByX = !!config.x.groups.keys.length;\n\n            y.groups = {\n                key: undefined,\n                label: '',\n                values: [],\n                children: null,\n                level: 0,\n                index: 0,\n                lastIndex: 0\n            };\n            x.groups = {\n                key: undefined,\n                label: '',\n                values: [],\n                children: null,\n                level: 0,\n                index: 0,\n                lastIndex: 0\n            };\n\n            var valueMap = {};\n            var minZ = undefined;\n            var maxZ = undefined;\n            this.data.forEach(function (d) {\n\n                var xVal = x.value(d);\n                var yVal = y.value(d);\n                var zValRaw = z.value(d);\n                var zVal = config.z.notAvailableValue(zValRaw) ? undefined : parseFloat(zValRaw);\n\n                if (x.uniqueValues.indexOf(xVal) === -1) {\n                    x.uniqueValues.push(xVal);\n                }\n\n                if (y.uniqueValues.indexOf(yVal) === -1) {\n                    y.uniqueValues.push(yVal);\n                }\n\n                var groupY = y.groups;\n                if (self.plot.groupByY) {\n                    groupY = _this3.updateGroups(d, yVal, y.groups, config.y.groups);\n                }\n                var groupX = x.groups;\n                if (self.plot.groupByX) {\n\n                    groupX = _this3.updateGroups(d, xVal, x.groups, config.x.groups);\n                }\n\n                if (!valueMap[groupY.index]) {\n                    valueMap[groupY.index] = {};\n                }\n\n                if (!valueMap[groupY.index][groupX.index]) {\n                    valueMap[groupY.index][groupX.index] = {};\n                }\n                if (!valueMap[groupY.index][groupX.index][yVal]) {\n                    valueMap[groupY.index][groupX.index][yVal] = {};\n                }\n                valueMap[groupY.index][groupX.index][yVal][xVal] = zVal;\n\n                if (minZ === undefined || zVal < minZ) {\n                    minZ = zVal;\n                }\n                if (maxZ === undefined || zVal > maxZ) {\n                    maxZ = zVal;\n                }\n            });\n            self.plot.valueMap = valueMap;\n\n            if (!self.plot.groupByX) {\n                x.groups.values = x.uniqueValues;\n            }\n\n            if (!self.plot.groupByY) {\n                y.groups.values = y.uniqueValues;\n            }\n\n            this.setupValuesBeforeGroupsSort();\n\n            x.gaps = [];\n            x.totalValuesCount = 0;\n            x.allValuesList = [];\n            this.sortGroups(x, x.groups, config.x);\n\n            y.gaps = [];\n            y.totalValuesCount = 0;\n            y.allValuesList = [];\n            this.sortGroups(y, y.groups, config.y);\n\n            z.min = minZ;\n            z.max = maxZ;\n        }\n    }, {\n        key: 'setupValuesBeforeGroupsSort',\n        value: function setupValuesBeforeGroupsSort() {}\n    }, {\n        key: 'buildCells',\n        value: function buildCells() {\n            var self = this;\n            var x = self.plot.x;\n            var y = self.plot.y;\n            var z = self.plot.z;\n            var valueMap = self.plot.valueMap;\n\n            var matrixCells = self.plot.cells = [];\n            var matrix = self.plot.matrix = [];\n\n            y.allValuesList.forEach(function (v1, i) {\n                var row = [];\n                matrix.push(row);\n\n                x.allValuesList.forEach(function (v2, j) {\n                    var zVal = undefined;\n                    try {\n                        zVal = valueMap[v1.group.index][v2.group.index][v1.val][v2.val];\n                    } catch (e) {}\n\n                    var cell = {\n                        rowVar: v1,\n                        colVar: v2,\n                        row: i,\n                        col: j,\n                        value: zVal\n                    };\n                    row.push(cell);\n\n                    matrixCells.push(cell);\n                });\n            });\n        }\n    }, {\n        key: 'updateGroups',\n        value: function updateGroups(d, axisVal, rootGroup, axisGroupsConfig) {\n\n            var config = this.config;\n            var currentGroup = rootGroup;\n            axisGroupsConfig.keys.forEach(function (groupKey, groupKeyIndex) {\n                currentGroup.key = groupKey;\n\n                if (!currentGroup.children) {\n                    currentGroup.children = {};\n                }\n\n                var groupingValue = axisGroupsConfig.value.call(config, d, groupKey);\n\n                if (!currentGroup.children.hasOwnProperty(groupingValue)) {\n                    rootGroup.lastIndex++;\n                    currentGroup.children[groupingValue] = {\n                        values: [],\n                        children: null,\n                        groupingValue: groupingValue,\n                        level: currentGroup.level + 1,\n                        index: rootGroup.lastIndex,\n                        key: groupKey\n                    };\n                }\n\n                currentGroup = currentGroup.children[groupingValue];\n            });\n\n            if (currentGroup.values.indexOf(axisVal) === -1) {\n                currentGroup.values.push(axisVal);\n            }\n\n            return currentGroup;\n        }\n    }, {\n        key: 'sortGroups',\n        value: function sortGroups(axis, group, axisConfig, gaps) {\n            if (axisConfig.groups.labels && axisConfig.groups.labels.length > group.level) {\n                group.label = axisConfig.groups.labels[group.level];\n            } else {\n                group.label = group.key;\n            }\n\n            if (!gaps) {\n                gaps = [0];\n            }\n            if (gaps.length <= group.level) {\n                gaps.push(0);\n            }\n\n            group.allValuesCount = group.allValuesCount || 0;\n            group.allValuesBeforeCount = group.allValuesBeforeCount || 0;\n\n            group.gaps = gaps.slice();\n            group.gapsBefore = gaps.slice();\n\n            group.gapsSize = Heatmap.computeGapsSize(group.gaps);\n            group.gapsBeforeSize = group.gapsSize;\n            if (group.values) {\n                if (axisConfig.sortLabels) {\n                    group.values.sort(axisConfig.sortComparator);\n                }\n                group.values.forEach(function (v) {\n                    return axis.allValuesList.push({ val: v, group: group });\n                });\n                group.allValuesBeforeCount = axis.totalValuesCount;\n                axis.totalValuesCount += group.values.length;\n                group.allValuesCount += group.values.length;\n            }\n\n            group.childrenList = [];\n            if (group.children) {\n                var childrenCount = 0;\n\n                for (var childProp in group.children) {\n                    if (group.children.hasOwnProperty(childProp)) {\n                        var child = group.children[childProp];\n                        group.childrenList.push(child);\n                        childrenCount++;\n\n                        this.sortGroups(axis, child, axisConfig, gaps);\n                        group.allValuesCount += child.allValuesCount;\n                        gaps[group.level] += 1;\n                    }\n                }\n\n                if (gaps && childrenCount > 1) {\n                    gaps[group.level] -= 1;\n                }\n\n                group.gapsInside = [];\n                gaps.forEach(function (d, i) {\n                    group.gapsInside.push(d - (group.gapsBefore[i] || 0));\n                });\n                group.gapsInsideSize = Heatmap.computeGapsSize(group.gapsInside);\n\n                if (axis.gaps.length < gaps.length) {\n                    axis.gaps = gaps;\n                }\n            }\n        }\n    }, {\n        key: 'computeYAxisLabelsWidth',\n        value: function computeYAxisLabelsWidth(offset) {\n            var maxWidth = this.plot.margin.left;\n            if (this.config.y.title) {\n                maxWidth -= 15;\n            }\n            if (offset && offset.x) {\n                maxWidth += offset.x;\n            }\n\n            if (this.config.y.rotateLabels) {\n                maxWidth *= _utils.Utils.SQRT_2;\n                var fontSize = 11; //todo check actual font size\n                maxWidth -= fontSize / 2;\n            }\n\n            return maxWidth;\n        }\n    }, {\n        key: 'computeXAxisLabelsWidth',\n        value: function computeXAxisLabelsWidth(offset) {\n            if (!this.config.x.rotateLabels) {\n                return this.plot.cellWidth - 2;\n            }\n            var size = this.plot.margin.bottom;\n            if (this.config.x.title) {\n                size -= 15;\n            }\n            if (offset && offset.y) {\n                size -= offset.y;\n            }\n\n            size *= _utils.Utils.SQRT_2;\n\n            var fontSize = 11; //todo check actual font size\n            size -= fontSize / 2;\n\n            return size;\n        }\n    }, {\n        key: 'computePlotSize',\n        value: function computePlotSize() {\n\n            var plot = this.plot;\n            var conf = this.config;\n            var margin = plot.margin;\n            var availableWidth = _utils.Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\n            var availableHeight = _utils.Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\n            var width = availableWidth;\n            var height = availableHeight;\n\n            var xGapsSize = Heatmap.computeGapsSize(plot.x.gaps);\n\n            var computedCellWidth = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableWidth - xGapsSize) / this.plot.x.totalValuesCount));\n            if (this.config.width) {\n\n                if (!this.config.cell.width) {\n                    this.plot.cellWidth = computedCellWidth;\n                }\n            } else {\n                this.plot.cellWidth = this.config.cell.width;\n\n                if (!this.plot.cellWidth) {\n                    this.plot.cellWidth = computedCellWidth;\n                }\n            }\n            width = this.plot.cellWidth * this.plot.x.totalValuesCount + margin.left + margin.right + xGapsSize;\n\n            var yGapsSize = Heatmap.computeGapsSize(plot.y.gaps);\n            var computedCellHeight = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableHeight - yGapsSize) / this.plot.y.totalValuesCount));\n            if (this.config.height) {\n                if (!this.config.cell.height) {\n                    this.plot.cellHeight = computedCellHeight;\n                }\n            } else {\n                this.plot.cellHeight = this.config.cell.height;\n\n                if (!this.plot.cellHeight) {\n                    this.plot.cellHeight = computedCellHeight;\n                }\n            }\n\n            height = this.plot.cellHeight * this.plot.y.totalValuesCount + margin.top + margin.bottom + yGapsSize;\n\n            this.plot.width = width - margin.left - margin.right;\n            this.plot.height = height - margin.top - margin.bottom;\n        }\n    }, {\n        key: 'setupZScale',\n        value: function setupZScale() {\n\n            var self = this;\n            var config = self.config;\n            var z = self.plot.z;\n            var range = config.color.range;\n            var extent = z.max - z.min;\n            var scale;\n            z.domain = [];\n            if (config.color.scale == \"pow\") {\n                var exponent = 10;\n                range.forEach(function (c, i) {\n                    var v = z.max - extent / Math.pow(10, i);\n                    z.domain.push(v);\n                });\n                scale = d3.scalePow().exponent(exponent);\n            } else if (config.color.scale == \"log\") {\n\n                range.forEach(function (c, i) {\n                    var v = z.min + extent / Math.pow(10, i);\n                    z.domain.unshift(v);\n                });\n\n                scale = d3.scaleLog();\n            } else {\n                range.forEach(function (c, i) {\n                    var v = z.min + extent * (i / (range.length - 1));\n                    z.domain.push(v);\n                });\n                scale = _utils.Utils.createScale(config.color.scale);\n            }\n\n            z.domain[0] = z.min; //removing unnecessary floating points\n            z.domain[z.domain.length - 1] = z.max; //removing unnecessary floating points\n            void 0;\n\n            if (config.color.reverseScale) {\n                z.domain.reverse();\n            }\n\n            var plot = this.plot;\n\n            void 0;\n\n            plot.z.color.scale = scale.domain(z.domain).range(range);\n            var shape = plot.z.shape = {};\n\n            var cellConf = this.config.cell;\n            shape.type = \"rect\";\n\n            plot.z.shape.width = plot.cellWidth - cellConf.padding * 2;\n            plot.z.shape.height = plot.cellHeight - cellConf.padding * 2;\n        }\n    }, {\n        key: 'update',\n        value: function update(newData) {\n            _get(Heatmap.prototype.__proto__ || Object.getPrototypeOf(Heatmap.prototype), 'update', this).call(this, newData);\n            if (this.plot.groupByY) {\n                this.drawGroupsY(this.plot.y.groups, this.svgG);\n            }\n            if (this.plot.groupByX) {\n                this.drawGroupsX(this.plot.x.groups, this.svgG);\n            }\n\n            this.updateCells();\n\n            // this.updateVariableLabels();\n\n            this.updateAxisX();\n            this.updateAxisY();\n\n            if (this.config.showLegend) {\n                this.updateLegend();\n            }\n\n            this.updateAxisTitles();\n        }\n    }, {\n        key: 'updateAxisTitles',\n        value: function updateAxisTitles() {\n            var self = this;\n            var plot = self.plot;\n        }\n    }, {\n        key: 'updateAxisX',\n        value: function updateAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var labelClass = self.prefixClass(\"label\");\n            var labelXClass = labelClass + \"-x\";\n            var labelYClass = labelClass + \"-y\";\n            plot.labelClass = labelClass;\n\n            var offsetX = {\n                x: 0,\n                y: 0\n            };\n            var gapSize = Heatmap.computeGapSize(0);\n            if (plot.groupByX) {\n                var overlap = self.config.x.groups.overlap;\n\n                offsetX.x = gapSize / 2;\n                offsetX.y = overlap.bottom + gapSize / 2 + 6;\n            } else if (plot.groupByY) {\n                offsetX.y = gapSize;\n            }\n\n            var labels = self.svgG.selectAll(\"text.\" + labelXClass).data(plot.x.allValuesList, function (d, i) {\n                return i;\n            });\n\n            var labelsMerge = labels.enter().append(\"text\").attr(\"class\", function (d, i) {\n                return labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i;\n            }).merge(labels);\n\n            labelsMerge.attr(\"x\", function (d, i) {\n                return i * plot.cellWidth + plot.cellWidth / 2 + d.group.gapsSize + offsetX.x;\n            }).attr(\"y\", plot.height + offsetX.y).attr(\"dy\", 10).attr(\"text-anchor\", \"middle\").text(function (d) {\n                return self.formatValueX(d.val);\n            });\n\n            var maxWidth = self.computeXAxisLabelsWidth(offsetX);\n\n            labelsMerge.each(function (label) {\n                var elem = d3.select(this),\n                    text = self.formatValueX(label.val);\n                _utils.Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\n            });\n\n            if (self.config.x.rotateLabels) {\n                labelsMerge.attr(\"transform\", function (d, i) {\n                    return \"rotate(-45, \" + (i * plot.cellWidth + plot.cellWidth / 2 + d.group.gapsSize + offsetX.x) + \", \" + (plot.height + offsetX.y) + \")\";\n                }).attr(\"dx\", -2).attr(\"dy\", 8).attr(\"text-anchor\", \"end\");\n            }\n\n            labels.exit().remove();\n\n            self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x')).attr(\"transform\", \"translate(\" + plot.width / 2 + \",\" + (plot.height + plot.margin.bottom) + \")\").selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"dy\", \"-0.5em\").style(\"text-anchor\", \"middle\").text(self.config.x.title);\n        }\n    }, {\n        key: 'updateAxisY',\n        value: function updateAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var labelClass = self.prefixClass(\"label\");\n            var labelYClass = labelClass + \"-y\";\n            plot.labelClass = labelClass;\n\n            var labels = self.svgG.selectAll(\"text.\" + labelYClass).data(plot.y.allValuesList);\n\n            var labelsEnter = labels.enter().append(\"text\");\n            var labelsMerge = labelsEnter.merge(labels);\n\n            var offsetY = {\n                x: 0,\n                y: 0\n            };\n            if (plot.groupByY) {\n                var overlap = self.config.y.groups.overlap;\n                var gapSize = Heatmap.computeGapSize(0);\n                offsetY.x = -overlap.left;\n\n                offsetY.y = gapSize / 2;\n            }\n            labelsMerge.attr(\"x\", offsetY.x).attr(\"y\", function (d, i) {\n                return i * plot.cellHeight + plot.cellHeight / 2 + d.group.gapsSize + offsetY.y;\n            }).attr(\"dx\", -2).attr(\"text-anchor\", \"end\").attr(\"class\", function (d, i) {\n                return labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i;\n            }).text(function (d) {\n                var formatted = self.formatValueY(d.val);\n                return formatted;\n            });\n\n            var maxWidth = self.computeYAxisLabelsWidth(offsetY);\n\n            labelsMerge.each(function (label) {\n                var elem = d3.select(this),\n                    text = self.formatValueY(label.val);\n                _utils.Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\n            });\n\n            if (self.config.y.rotateLabels) {\n                labelsMerge.attr(\"transform\", function (d, i) {\n                    return \"rotate(-45, \" + offsetY.x + \", \" + (d.group.gapsSize + (i * plot.cellHeight + plot.cellHeight / 2) + offsetY.y) + \")\";\n                }).attr(\"text-anchor\", \"end\");\n                // .attr(\"dx\", -7);\n            } else {\n                labelsMerge.attr(\"dominant-baseline\", \"middle\");\n            }\n\n            labels.exit().remove();\n\n            self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y')).selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + plot.height / 2 + \")rotate(-90)\").attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(self.config.y.title);\n        }\n    }, {\n        key: 'drawGroupsY',\n        value: function drawGroupsY(parentGroup, container, availableWidth) {\n\n            var self = this;\n            var plot = self.plot;\n\n            var groupClass = self.prefixClass(\"group\");\n            var groupYClass = groupClass + \"-y\";\n            var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupYClass).data(parentGroup.childrenList);\n\n            var valuesBeforeCount = 0;\n            var gapsBeforeSize = 0;\n\n            var groupsEnter = groups.enter().append(\"g\");\n            groupsEnter.classed(groupClass, true).classed(groupYClass, true).append(\"rect\").classed(\"group-rect\", true);\n\n            var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\n            titleGroupEnter.append(\"rect\");\n            titleGroupEnter.append(\"text\");\n\n            var gapSize = Heatmap.computeGapSize(parentGroup.level);\n            var padding = gapSize / 4;\n\n            var titleRectWidth = Heatmap.groupTitleRectHeight;\n            var depth = self.config.y.groups.keys.length - parentGroup.level;\n            var overlap = {\n                left: 0,\n                right: 0\n            };\n\n            if (!availableWidth) {\n                overlap.right = plot.y.overlap.left;\n                overlap.left = plot.y.overlap.left;\n                availableWidth = plot.width + gapSize + overlap.left + overlap.right;\n            }\n\n            var groupsMerge = groupsEnter.merge(groups);\n\n            groupsMerge.attr(\"transform\", function (d, i) {\n                var translate = \"translate(\" + (padding - overlap.left) + \",\" + (plot.cellHeight * valuesBeforeCount + i * gapSize + gapsBeforeSize + padding) + \")\";\n                gapsBeforeSize += d.gapsInsideSize || 0;\n                valuesBeforeCount += d.allValuesCount || 0;\n                return translate;\n            });\n\n            var groupWidth = availableWidth - padding * 2;\n\n            var titleGroups = groupsMerge.selectAll(\"g.title\").attr(\"transform\", function (d, i) {\n                return \"translate(\" + (groupWidth - titleRectWidth) + \", 0)\";\n            });\n\n            var tileRects = titleGroups.selectAll(\"rect\").attr(\"width\", titleRectWidth).attr(\"height\", function (d) {\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2;\n            }).attr(\"x\", 0).attr(\"y\", 0)\n            // .attr(\"fill\", \"lightgrey\")\n            .attr(\"stroke-width\", 0);\n\n            this.setGroupMouseCallbacks(parentGroup, tileRects);\n\n            groupsMerge.selectAll(\"rect.group-rect\").attr(\"class\", function (d) {\n                return \"group-rect group-rect-\" + d.index;\n            }).attr(\"width\", groupWidth).attr(\"height\", function (d) {\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2;\n            }).attr(\"x\", 0).attr(\"y\", 0).attr(\"fill\", \"white\").attr(\"fill-opacity\", 0).attr(\"stroke-width\", 0.5).attr(\"stroke\", \"black\");\n\n            groupsMerge.each(function (group) {\n\n                self.drawGroupsY.call(self, group, d3.select(this), groupWidth - titleRectWidth);\n            });\n\n            groups.exit().remove();\n        }\n    }, {\n        key: 'drawGroupsX',\n        value: function drawGroupsX(parentGroup, container, availableHeight) {\n\n            var self = this;\n            var plot = self.plot;\n\n            var groupClass = self.prefixClass(\"group\");\n            var groupXClass = groupClass + \"-x\";\n            var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupXClass).data(parentGroup.childrenList);\n\n            var valuesBeforeCount = 0;\n            var gapsBeforeSize = 0;\n\n            var groupsEnter = groups.enter().append(\"g\");\n            groupsEnter.classed(groupClass, true).classed(groupXClass, true).append(\"rect\").classed(\"group-rect\", true);\n\n            var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\n            titleGroupEnter.append(\"rect\");\n            titleGroupEnter.append(\"text\");\n\n            var gapSize = Heatmap.computeGapSize(parentGroup.level);\n            var padding = gapSize / 4;\n            var titleRectHeight = Heatmap.groupTitleRectHeight;\n\n            var depth = self.config.x.groups.keys.length - parentGroup.level;\n\n            var overlap = {\n                top: 0,\n                bottom: 0\n            };\n\n            if (!availableHeight) {\n                overlap.bottom = plot.x.overlap.bottom;\n                overlap.top = plot.x.overlap.top;\n                availableHeight = plot.height + gapSize + overlap.top + overlap.bottom;\n            } else {\n                overlap.top = -titleRectHeight;\n            }\n            // console.log('parentGroup',parentGroup, 'gapSize', gapSize, plot.x.overlap);\n\n            var groupsMerge = groupsEnter.merge(groups);\n\n            groupsMerge.attr(\"transform\", function (d, i) {\n                var translate = \"translate(\" + (plot.cellWidth * valuesBeforeCount + i * gapSize + gapsBeforeSize + padding) + \", \" + (padding - overlap.top) + \")\";\n                gapsBeforeSize += d.gapsInsideSize || 0;\n                valuesBeforeCount += d.allValuesCount || 0;\n                return translate;\n            });\n\n            var groupHeight = availableHeight - padding * 2;\n\n            var titleGroups = groupsMerge.selectAll(\"g.title\").attr(\"transform\", function (d, i) {\n                return \"translate(0, \" + 0 + \")\";\n            });\n\n            var tileRects = titleGroups.selectAll(\"rect\").attr(\"height\", titleRectHeight).attr(\"width\", function (d) {\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2;\n            }).attr(\"x\", 0).attr(\"y\", 0)\n            // .attr(\"fill\", \"lightgrey\")\n            .attr(\"stroke-width\", 0);\n\n            this.setGroupMouseCallbacks(parentGroup, tileRects);\n\n            groupsMerge.selectAll(\"rect.group-rect\").attr(\"class\", function (d) {\n                return \"group-rect group-rect-\" + d.index;\n            }).attr(\"height\", groupHeight).attr(\"width\", function (d) {\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2;\n            }).attr(\"x\", 0).attr(\"y\", 0).attr(\"fill\", \"white\").attr(\"fill-opacity\", 0).attr(\"stroke-width\", 0.5).attr(\"stroke\", \"black\");\n\n            groupsMerge.each(function (group) {\n                self.drawGroupsX.call(self, group, d3.select(this), groupHeight - titleRectHeight);\n            });\n\n            groups.exit().remove();\n        }\n    }, {\n        key: 'setGroupMouseCallbacks',\n        value: function setGroupMouseCallbacks(parentGroup, tileRects) {\n            var plot = this.plot;\n            var self = this;\n            var mouseoverCallbacks = [];\n            mouseoverCallbacks.push(function (d) {\n                d3.select(this).classed('highlighted', true);\n                d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', true);\n            });\n\n            var mouseoutCallbacks = [];\n            mouseoutCallbacks.push(function (d) {\n                d3.select(this).classed('highlighted', false);\n                d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', false);\n            });\n            if (plot.tooltip) {\n\n                mouseoverCallbacks.push(function (d) {\n                    var html = parentGroup.label + \": \" + d.groupingValue;\n                    self.showTooltip(html);\n                });\n\n                mouseoutCallbacks.push(function (d) {\n                    self.hideTooltip();\n                });\n            }\n            tileRects.on(\"mouseover\", function (d) {\n                var self = this;\n                mouseoverCallbacks.forEach(function (callback) {\n                    callback.call(self, d);\n                });\n            });\n            tileRects.on(\"mouseout\", function (d) {\n                var self = this;\n                mouseoutCallbacks.forEach(function (callback) {\n                    callback.call(self, d);\n                });\n            });\n        }\n    }, {\n        key: 'updateCells',\n        value: function updateCells() {\n\n            var self = this;\n            var plot = self.plot;\n            var cellContainerClass = self.prefixClass(\"cells\");\n            var gapSize = Heatmap.computeGapSize(0);\n            var paddingX = plot.x.groups.childrenList.length ? gapSize / 2 : 0;\n            var paddingY = plot.y.groups.childrenList.length ? gapSize / 2 : 0;\n            var cellContainer = self.svgG.selectOrAppend(\"g.\" + cellContainerClass);\n            cellContainer.attr(\"transform\", \"translate(\" + paddingX + \", \" + paddingY + \")\");\n\n            var cellClass = self.prefixClass(\"cell\");\n            var cellShape = plot.z.shape.type;\n\n            var cells = cellContainer.selectAll(\"g.\" + cellClass).data(self.plot.cells);\n\n            var cellEnter = cells.enter().append(\"g\").classed(cellClass, true);\n\n            var cellsMerge = cellEnter.merge(cells);\n            cellsMerge.attr(\"transform\", function (c) {\n                return \"translate(\" + (plot.cellWidth * c.col + plot.cellWidth / 2 + c.colVar.group.gapsSize) + \",\" + (plot.cellHeight * c.row + plot.cellHeight / 2 + c.rowVar.group.gapsSize) + \")\";\n            });\n\n            var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\n\n            shapes.attr(\"width\", plot.z.shape.width).attr(\"height\", plot.z.shape.height).attr(\"x\", -plot.cellWidth / 2).attr(\"y\", -plot.cellHeight / 2);\n\n            shapes.style(\"fill\", function (c) {\n                return c.value === undefined ? self.config.color.noDataColor : plot.z.color.scale(c.value);\n            });\n            shapes.attr(\"fill-opacity\", function (d) {\n                return d.value === undefined ? 0 : 1;\n            });\n\n            var mouseoverCallbacks = [];\n            var mouseoutCallbacks = [];\n\n            if (plot.tooltip) {\n\n                mouseoverCallbacks.push(function (c) {\n                    var html = c.value === undefined ? self.config.tooltip.noDataText : self.formatValueZ(c.value);\n                    self.showTooltip(html);\n                });\n\n                mouseoutCallbacks.push(function (c) {\n                    self.hideTooltip();\n                });\n            }\n\n            if (self.config.highlightLabels) {\n                var highlightClass = self.config.cssClassPrefix + \"highlight\";\n                var xLabelClass = function xLabelClass(c) {\n                    return plot.labelClass + \"-x-\" + c.col;\n                };\n                var yLabelClass = function yLabelClass(c) {\n                    return plot.labelClass + \"-y-\" + c.row;\n                };\n\n                mouseoverCallbacks.push(function (c) {\n\n                    self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\n                    self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\n                });\n                mouseoutCallbacks.push(function (c) {\n                    self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\n                    self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\n                });\n            }\n\n            cellsMerge.on(\"mouseover\", function (c) {\n                mouseoverCallbacks.forEach(function (callback) {\n                    return callback(c);\n                });\n            }).on(\"mouseout\", function (c) {\n                mouseoutCallbacks.forEach(function (callback) {\n                    return callback(c);\n                });\n            });\n\n            cellsMerge.on(\"click\", function (c) {\n                self.trigger(\"cell-selected\", c);\n            });\n\n            cells.exit().remove();\n        }\n    }, {\n        key: 'formatValueX',\n        value: function formatValueX(value) {\n            if (!this.config.x.formatter) return value;\n\n            return this.config.x.formatter.call(this.config, value);\n        }\n    }, {\n        key: 'formatValueY',\n        value: function formatValueY(value) {\n            if (!this.config.y.formatter) return value;\n\n            return this.config.y.formatter.call(this.config, value);\n        }\n    }, {\n        key: 'formatValueZ',\n        value: function formatValueZ(value) {\n            if (!this.config.z.formatter) return value;\n\n            return this.config.z.formatter.call(this.config, value);\n        }\n    }, {\n        key: 'formatLegendValue',\n        value: function formatLegendValue(value) {\n            if (!this.config.legend.formatter) return value;\n\n            return this.config.legend.formatter.call(this.config, value);\n        }\n    }, {\n        key: 'updateLegend',\n        value: function updateLegend() {\n            var self = this;\n            var plot = this.plot;\n            var legendX = this.plot.width + 10;\n            var gapSize = Heatmap.computeGapSize(0);\n            if (this.plot.groupByY) {\n                legendX += gapSize / 2 + plot.y.overlap.right;\n            } else if (this.plot.groupByX) {\n                legendX += gapSize;\n            }\n            var legendY = 0;\n            if (this.plot.groupByX || this.plot.groupByY) {\n                legendY += gapSize / 2;\n            }\n\n            var barWidth = 10;\n            var barHeight = this.plot.height - 2;\n            var scale = plot.z.color.scale;\n\n            plot.legend = new _legend.Legend(this.svg, this.svgG, scale, legendX, legendY, function (v) {\n                return self.formatLegendValue(v);\n            }).setRotateLabels(self.config.legend.rotateLabels).linearGradientBar(barWidth, barHeight);\n        }\n    }], [{\n        key: 'computeGapSize',\n        value: function computeGapSize(gapLevel) {\n            return Heatmap.maxGroupGapSize / (gapLevel + 1);\n        }\n    }, {\n        key: 'computeGapsSize',\n        value: function computeGapsSize(gaps) {\n            var gapsSize = 0;\n            gaps.forEach(function (gapsNumber, gapsLevel) {\n                return gapsSize += gapsNumber * Heatmap.computeGapSize(gapsLevel);\n            });\n            return gapsSize;\n        }\n    }]);\n\n    return Heatmap;\n}(_chart.Chart);\n\nHeatmap.maxGroupGapSize = 24;\nHeatmap.groupTitleRectHeight = 6;\n\n},{\"./chart\":34,\"./legend\":41,\"./utils\":47}],39:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Histogram = exports.HistogramConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chartWithColorGroups = require('./chart-with-color-groups');\n\nvar _utils = require('./utils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HistogramConfig = exports.HistogramConfig = function (_ChartWithColorGroups) {\n    _inherits(HistogramConfig, _ChartWithColorGroups);\n\n    function HistogramConfig(custom) {\n        _classCallCheck(this, HistogramConfig);\n\n        var _this = _possibleConstructorReturn(this, (HistogramConfig.__proto__ || Object.getPrototypeOf(HistogramConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'histogram';\n        _this.showLegend = true;\n        _this.showTooltip = true;\n        _this.x = { // X axis config\n            title: '', // axis label\n            key: 0,\n            value: function value(d, key) {\n                return _utils.Utils.isNumber(d) ? d : parseFloat(d[key]);\n            }, // x value accessor\n            scale: \"linear\",\n            orient: \"bottom\",\n            ticks: undefined\n        };\n        _this.y = { // Y axis config\n            title: '', // axis label,\n            orient: \"left\",\n            scale: \"linear\"\n        };\n        _this.frequency = true;\n        _this.groups = {\n            key: 1\n        };\n        _this.transition = true;\n\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    }\n\n    return HistogramConfig;\n}(_chartWithColorGroups.ChartWithColorGroupsConfig);\n\nvar Histogram = exports.Histogram = function (_ChartWithColorGroups2) {\n    _inherits(Histogram, _ChartWithColorGroups2);\n\n    function Histogram(placeholderSelector, data, config) {\n        _classCallCheck(this, Histogram);\n\n        return _possibleConstructorReturn(this, (Histogram.__proto__ || Object.getPrototypeOf(Histogram)).call(this, placeholderSelector, data, new HistogramConfig(config)));\n    }\n\n    _createClass(Histogram, [{\n        key: 'setConfig',\n        value: function setConfig(config) {\n            return _get(Histogram.prototype.__proto__ || Object.getPrototypeOf(Histogram.prototype), 'setConfig', this).call(this, new HistogramConfig(config));\n        }\n    }, {\n        key: 'initPlot',\n        value: function initPlot() {\n            _get(Histogram.prototype.__proto__ || Object.getPrototypeOf(Histogram.prototype), 'initPlot', this).call(this);\n            var self = this;\n\n            var conf = this.config;\n\n            this.plot.x = {};\n            this.plot.y = {};\n            this.plot.bar = {\n                color: null //color scale mapping function\n            };\n\n            this.computePlotSize();\n\n            this.setupX();\n            this.setupHistogram();\n            this.setupGroupStacks();\n            this.setupY();\n            return this;\n        }\n    }, {\n        key: 'setupX',\n        value: function setupX() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config.x;\n\n            /* *\r\n             * value accessor - returns the value to encode for a given data object.\r\n             * scale - maps value to a visual display encoding, such as a pixel position.\r\n             * map function - maps from data value to display value\r\n             * axis - sets up axis\r\n             **/\n            x.value = function (d) {\n                return conf.value(d, conf.key);\n            };\n            x.scale = _utils.Utils.createScale(conf.scale).range([0, plot.width]);\n            x.map = function (d) {\n                return x.scale(x.value(d));\n            };\n\n            x.axis = _utils.Utils.createAxis(conf.orient, x.scale);\n\n            if (conf.ticks) {\n                x.axis.ticks(conf.ticks);\n            }\n            var data = this.plot.groupedData;\n            plot.x.scale.domain([d3.min(data, function (s) {\n                return d3.min(s.values, plot.x.value);\n            }), d3.max(data, function (s) {\n                return d3.max(s.values, plot.x.value);\n            })]);\n        }\n    }, {\n        key: 'setupY',\n        value: function setupY() {\n\n            var plot = this.plot;\n            var y = plot.y;\n            var conf = this.config.y;\n            y.scale = _utils.Utils.createScale(conf.scale).range([plot.height, 0]);\n\n            y.axis = _utils.Utils.createAxis(conf.orient, y.scale);\n            var data = this.plot.data;\n            var yStackMax = d3.max(plot.stackedHistograms, function (layer) {\n                return d3.max(layer.histogramBins, function (d) {\n                    return d.y0 + d.y;\n                });\n            });\n            plot.y.scale.domain([0, yStackMax]);\n        }\n    }, {\n        key: 'setupHistogram',\n        value: function setupHistogram() {\n            var plot = this.plot;\n            var x = plot.x;\n            var y = plot.y;\n            var ticks = this.config.x.ticks ? x.scale.ticks(this.config.x.ticks) : x.scale.ticks();\n\n            plot.histogram = d3.histogram().domain(x.scale.domain()).value(x.value).thresholds(ticks);\n        }\n    }, {\n        key: 'setupGroupStacks',\n        value: function setupGroupStacks() {\n            var _this3 = this;\n\n            var self = this;\n            var y0s = [];\n            this.plot.groupedData.forEach(function (d) {\n                d.histogramBins = _this3.plot.histogram(d.values);\n\n                d.histogramBins.forEach(function (b, i) {\n                    b.x = b.x0;\n                    b.dx = b.x1 - b.x0;\n                    b.y = b.length;\n                    var prevY0 = y0s[i];\n                    if (!prevY0) prevY0 = 0;\n                    b.y0 = prevY0;\n\n                    if (!_this3.config.frequency) {\n                        b.y /= _this3.plot.dataLength;\n                    }\n                    y0s[i] = b.y + prevY0;\n                });\n            });\n            var keys = this.plot.groupedData.map(function (d) {\n                return d.key;\n            });\n            // console.log(this.plot.groupedData);\n\n            this.plot.stack = d3.stack().keys(keys).value(function (d) {\n                return d.histogramBins;\n            });\n            this.plot.stackedHistograms = this.plot.groupedData;\n        }\n    }, {\n        key: 'drawAxisX',\n        value: function drawAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.x;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides'))).attr(\"transform\", \"translate(0,\" + plot.height + \")\");\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.x.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + plot.width / 2 + \",\" + plot.margin.bottom + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"-1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: 'drawAxisY',\n        value: function drawAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.y;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\n\n            var axisT = axis;\n            if (self.config.transition) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.y.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + plot.height / 2 + \")rotate(-90)\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: 'drawHistogram',\n        value: function drawHistogram() {\n            var self = this;\n            var plot = self.plot;\n\n            var layerClass = this.prefixClass(\"layer\");\n\n            var barClass = this.prefixClass(\"bar\");\n            var layer = self.svgG.selectAll(\".\" + layerClass).data(plot.stackedHistograms);\n\n            var layerMerge = layer.enter().append(\"g\").attr(\"class\", layerClass).merge(layer);\n\n            var bar = layerMerge.selectAll(\".\" + barClass).data(function (d) {\n                return d.histogramBins;\n            });\n\n            var barEnter = bar.enter().append(\"g\");\n            barEnter.attr(\"class\", barClass).append(\"rect\").attr(\"x\", 1);\n\n            var barMerge = barEnter.merge(bar);\n            var barRect = barMerge.select(\"rect\");\n\n            var barRectT = barRect;\n            var barT = barMerge;\n            var layerT = layerMerge;\n            if (this.transitionEnabled()) {\n                barRectT = barRect.transition();\n                barT = barMerge.transition();\n                layerT = layerMerge.transition();\n            }\n\n            barT.attr(\"transform\", function (d) {\n                return \"translate(\" + plot.x.scale(d.x) + \",\" + plot.y.scale(d.y0 + d.y) + \")\";\n            });\n            var rectWidth = plot.stackedHistograms.length ? plot.stackedHistograms[0].histogramBins.length ? plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x1) - plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x0) - 1 : 0 : 0;\n\n            barRectT.attr(\"width\", function (d) {\n                return Math.max(0, plot.x.scale(d.x1) - plot.x.scale(d.x0) - 1);\n            }).attr(\"height\", function (d) {\n                return plot.height - plot.y.scale(d.y);\n            });\n\n            if (this.plot.color) {\n                layerT.attr(\"fill\", this.plot.seriesColor);\n            }\n\n            if (plot.tooltip) {\n                barMerge.on(\"mouseover\", function (d) {\n                    self.showTooltip(d.y);\n                }).on(\"mouseout\", function (d) {\n                    self.hideTooltip();\n                });\n            }\n            layer.exit().remove();\n            bar.exit().remove();\n        }\n    }, {\n        key: 'update',\n        value: function update(newData) {\n            _get(Histogram.prototype.__proto__ || Object.getPrototypeOf(Histogram.prototype), 'update', this).call(this, newData);\n            this.drawAxisX();\n            this.drawAxisY();\n\n            this.drawHistogram();\n            return this;\n        }\n    }]);\n\n    return Histogram;\n}(_chartWithColorGroups.ChartWithColorGroups);\n\n},{\"./chart-with-color-groups\":33,\"./utils\":47}],40:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Legend = exports.Utils = exports.StatisticsUtils = exports.BoxPlotConfig = exports.BoxPlot = exports.BoxPlotBaseConfig = exports.BoxPlotBase = exports.BarChartConfig = exports.BarChart = exports.HistogramConfig = exports.Histogram = exports.HeatmapTimeSeriesConfig = exports.HeatmapTimeSeries = exports.HeatmapConfig = exports.Heatmap = exports.CorrelationMatrixConfig = exports.CorrelationMatrix = exports.RegressionConfig = exports.Regression = exports.ScatterPlotMatrixConfig = exports.ScatterPlotMatrix = exports.ScatterPlotConfig = exports.ScatterPlot = undefined;\n\nvar _scatterplot = require(\"./scatterplot\");\n\nObject.defineProperty(exports, \"ScatterPlot\", {\n  enumerable: true,\n  get: function get() {\n    return _scatterplot.ScatterPlot;\n  }\n});\nObject.defineProperty(exports, \"ScatterPlotConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _scatterplot.ScatterPlotConfig;\n  }\n});\n\nvar _scatterplotMatrix = require(\"./scatterplot-matrix\");\n\nObject.defineProperty(exports, \"ScatterPlotMatrix\", {\n  enumerable: true,\n  get: function get() {\n    return _scatterplotMatrix.ScatterPlotMatrix;\n  }\n});\nObject.defineProperty(exports, \"ScatterPlotMatrixConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _scatterplotMatrix.ScatterPlotMatrixConfig;\n  }\n});\n\nvar _regression = require(\"./regression\");\n\nObject.defineProperty(exports, \"Regression\", {\n  enumerable: true,\n  get: function get() {\n    return _regression.Regression;\n  }\n});\nObject.defineProperty(exports, \"RegressionConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _regression.RegressionConfig;\n  }\n});\n\nvar _correlationMatrix = require(\"./correlation-matrix\");\n\nObject.defineProperty(exports, \"CorrelationMatrix\", {\n  enumerable: true,\n  get: function get() {\n    return _correlationMatrix.CorrelationMatrix;\n  }\n});\nObject.defineProperty(exports, \"CorrelationMatrixConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _correlationMatrix.CorrelationMatrixConfig;\n  }\n});\n\nvar _heatmap = require(\"./heatmap\");\n\nObject.defineProperty(exports, \"Heatmap\", {\n  enumerable: true,\n  get: function get() {\n    return _heatmap.Heatmap;\n  }\n});\nObject.defineProperty(exports, \"HeatmapConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _heatmap.HeatmapConfig;\n  }\n});\n\nvar _heatmapTimeseries = require(\"./heatmap-timeseries\");\n\nObject.defineProperty(exports, \"HeatmapTimeSeries\", {\n  enumerable: true,\n  get: function get() {\n    return _heatmapTimeseries.HeatmapTimeSeries;\n  }\n});\nObject.defineProperty(exports, \"HeatmapTimeSeriesConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _heatmapTimeseries.HeatmapTimeSeriesConfig;\n  }\n});\n\nvar _histogram = require(\"./histogram\");\n\nObject.defineProperty(exports, \"Histogram\", {\n  enumerable: true,\n  get: function get() {\n    return _histogram.Histogram;\n  }\n});\nObject.defineProperty(exports, \"HistogramConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _histogram.HistogramConfig;\n  }\n});\n\nvar _barChart = require(\"./bar-chart\");\n\nObject.defineProperty(exports, \"BarChart\", {\n  enumerable: true,\n  get: function get() {\n    return _barChart.BarChart;\n  }\n});\nObject.defineProperty(exports, \"BarChartConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _barChart.BarChartConfig;\n  }\n});\n\nvar _boxPlotBase = require(\"./box-plot-base\");\n\nObject.defineProperty(exports, \"BoxPlotBase\", {\n  enumerable: true,\n  get: function get() {\n    return _boxPlotBase.BoxPlotBase;\n  }\n});\nObject.defineProperty(exports, \"BoxPlotBaseConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _boxPlotBase.BoxPlotBaseConfig;\n  }\n});\n\nvar _boxPlot = require(\"./box-plot\");\n\nObject.defineProperty(exports, \"BoxPlot\", {\n  enumerable: true,\n  get: function get() {\n    return _boxPlot.BoxPlot;\n  }\n});\nObject.defineProperty(exports, \"BoxPlotConfig\", {\n  enumerable: true,\n  get: function get() {\n    return _boxPlot.BoxPlotConfig;\n  }\n});\n\nvar _statisticsUtils = require(\"./statistics-utils\");\n\nObject.defineProperty(exports, \"StatisticsUtils\", {\n  enumerable: true,\n  get: function get() {\n    return _statisticsUtils.StatisticsUtils;\n  }\n});\n\nvar _utils = require(\"./utils\");\n\nObject.defineProperty(exports, \"Utils\", {\n  enumerable: true,\n  get: function get() {\n    return _utils.Utils;\n  }\n});\n\nvar _legend = require(\"./legend\");\n\nObject.defineProperty(exports, \"Legend\", {\n  enumerable: true,\n  get: function get() {\n    return _legend.Legend;\n  }\n});\n\nvar _d3Extensions = require(\"./d3-extensions\");\n\n_d3Extensions.D3Extensions.extend();\n\n},{\"./bar-chart\":30,\"./box-plot\":32,\"./box-plot-base\":31,\"./correlation-matrix\":35,\"./d3-extensions\":36,\"./heatmap\":38,\"./heatmap-timeseries\":37,\"./histogram\":39,\"./legend\":41,\"./regression\":42,\"./scatterplot\":44,\"./scatterplot-matrix\":43,\"./statistics-utils\":46,\"./utils\":47}],41:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Legend = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _utils = require('./utils');\n\nvar _color = require('../bower_components/d3-legend/src/color');\n\nvar _color2 = _interopRequireDefault(_color);\n\nvar _size = require('../bower_components/d3-legend/src/size');\n\nvar _size2 = _interopRequireDefault(_size);\n\nvar _symbol = require('../bower_components/d3-legend/src/symbol');\n\nvar _symbol2 = _interopRequireDefault(_symbol);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*var d3 = require('../bower_components/d3');\r\n*/\n// var legend = require('../bower_components/d3-legend/no-extend');\n//\n// module.exports.legend = legend;\n\nvar Legend = exports.Legend = function () {\n    function Legend(svg, legendParent, scale, legendX, legendY, labelFormat) {\n        _classCallCheck(this, Legend);\n\n        this.cssClassPrefix = \"odc-\";\n        this.legendClass = this.cssClassPrefix + \"legend\";\n        this.color = _color2.default;\n        this.size = _size2.default;\n        this.symbol = _symbol2.default;\n        this.labelFormat = undefined;\n\n        this.scale = scale;\n        this.svg = svg;\n        this.guid = _utils.Utils.guid();\n        this.container = _utils.Utils.selectOrAppend(legendParent, \"g.\" + this.legendClass, \"g\").attr(\"transform\", \"translate(\" + legendX + \",\" + legendY + \")\").classed(this.legendClass, true);\n\n        this.labelFormat = labelFormat;\n    }\n\n    _createClass(Legend, [{\n        key: 'linearGradientBar',\n        value: function linearGradientBar(barWidth, barHeight, title) {\n            var gradientId = this.cssClassPrefix + \"linear-gradient\" + \"-\" + this.guid;\n            var scale = this.scale;\n            var self = this;\n\n            this.linearGradient = _utils.Utils.linearGradient(this.svg, gradientId, this.scale.range(), 0, 100, 0, 0);\n\n            this.container.selectOrAppend(\"rect\").attr(\"width\", barWidth).attr(\"height\", barHeight).attr(\"x\", 0).attr(\"y\", 0).style(\"fill\", \"url(#\" + gradientId + \")\");\n\n            var ticks = this.container.selectAll(\"text\").data(scale.domain());\n            var ticksNumber = scale.domain().length - 1;\n            var ticksMerge = ticks.enter().append(\"text\").merge(ticks);\n\n            ticksMerge.attr(\"x\", barWidth).attr(\"y\", function (d, i) {\n                return barHeight - i * barHeight / ticksNumber;\n            }).attr(\"dx\", 3)\n            // .attr(\"dy\", 1)\n            .attr(\"alignment-baseline\", \"middle\").text(function (d) {\n                return self.labelFormat ? self.labelFormat(d) : d;\n            });\n            ticksMerge.attr(\"dominant-baseline\", \"middle\");\n            if (this.rotateLabels) {\n                ticksMerge.attr(\"transform\", function (d, i) {\n                    return \"rotate(-45, \" + barWidth + \", \" + (barHeight - i * barHeight / ticksNumber) + \")\";\n                }).attr(\"text-anchor\", \"start\").attr(\"dx\", 5).attr(\"dy\", 5);\n            } else {}\n\n            ticks.exit().remove();\n\n            return this;\n        }\n    }, {\n        key: 'setRotateLabels',\n        value: function setRotateLabels(rotateLabels) {\n            this.rotateLabels = rotateLabels;\n            return this;\n        }\n    }]);\n\n    return Legend;\n}();\n\n},{\"../bower_components/d3-legend/src/color\":1,\"../bower_components/d3-legend/src/size\":3,\"../bower_components/d3-legend/src/symbol\":4,\"./utils\":47}],42:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Regression = exports.RegressionConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chart = require(\"./chart\");\n\nvar _scatterplot = require(\"./scatterplot\");\n\nvar _utils = require(\"./utils\");\n\nvar _statisticsUtils = require(\"./statistics-utils\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RegressionConfig = exports.RegressionConfig = function (_ScatterPlotConfig) {\n    _inherits(RegressionConfig, _ScatterPlotConfig);\n\n    function RegressionConfig(custom) {\n        _classCallCheck(this, RegressionConfig);\n\n        var _this = _possibleConstructorReturn(this, (RegressionConfig.__proto__ || Object.getPrototypeOf(RegressionConfig)).call(this));\n\n        _this.mainRegression = true;\n        _this.groupRegression = true;\n        _this.confidence = {\n            level: 0.95,\n            criticalValue: function criticalValue(degreesOfFreedom, criticalProbability) {\n                return _statisticsUtils.StatisticsUtils.tValue(degreesOfFreedom, criticalProbability);\n            },\n            marginOfError: undefined, //custom  margin Of Error function (x, points)\n            areaCurve: d3.curveNatural\n        };\n\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    }\n\n    return RegressionConfig;\n}(_scatterplot.ScatterPlotConfig);\n\nvar Regression = exports.Regression = function (_ScatterPlot) {\n    _inherits(Regression, _ScatterPlot);\n\n    function Regression(placeholderSelector, data, config) {\n        _classCallCheck(this, Regression);\n\n        return _possibleConstructorReturn(this, (Regression.__proto__ || Object.getPrototypeOf(Regression)).call(this, placeholderSelector, data, new RegressionConfig(config)));\n    }\n\n    _createClass(Regression, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(Regression.prototype.__proto__ || Object.getPrototypeOf(Regression.prototype), \"setConfig\", this).call(this, new RegressionConfig(config));\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(Regression.prototype.__proto__ || Object.getPrototypeOf(Regression.prototype), \"initPlot\", this).call(this);\n            this.initRegressionLines();\n        }\n    }, {\n        key: \"initRegressionLines\",\n        value: function initRegressionLines() {\n\n            var self = this;\n            var groupsAvailable = self.plot.groupingEnabled;\n\n            self.plot.regressions = [];\n\n            if (groupsAvailable && self.config.mainRegression) {\n                var regression = this.initRegression(this.plot.data, false);\n                self.plot.regressions.push(regression);\n            }\n\n            if (self.config.groupRegression) {\n                this.initGroupRegression();\n            }\n        }\n    }, {\n        key: \"initGroupRegression\",\n        value: function initGroupRegression() {\n            var _this3 = this;\n\n            var self = this;\n\n            self.plot.groupedData.forEach(function (group) {\n                if (group.values.length < 2) {\n                    return;\n                }\n\n                var regression = _this3.initRegression(group.values, group.key);\n                self.plot.regressions.push(regression);\n            });\n        }\n    }, {\n        key: \"initRegression\",\n        value: function initRegression(values, groupVal) {\n            var self = this;\n\n            var points = values.map(function (d) {\n                return [parseFloat(self.plot.x.value(d)), parseFloat(self.plot.y.value(d))];\n            });\n\n            // points.sort((a,b) => a[0]-b[0]);\n\n            var linearRegression = _statisticsUtils.StatisticsUtils.linearRegression(points);\n            var linearRegressionLine = _statisticsUtils.StatisticsUtils.linearRegressionLine(linearRegression);\n\n            var extentX = d3.extent(points, function (d) {\n                return d[0];\n            });\n\n            var linePoints = [{\n                x: extentX[0],\n                y: linearRegressionLine(extentX[0])\n            }, {\n                x: extentX[1],\n                y: linearRegressionLine(extentX[1])\n            }];\n\n            var line = d3.line().curve(d3.curveBasis).x(function (d) {\n                return self.plot.x.scale(d.x);\n            }).y(function (d) {\n                return self.plot.y.scale(d.y);\n            });\n\n            var color = self.plot.color;\n\n            var defaultColor = \"black\";\n            if (_utils.Utils.isFunction(color)) {\n                if (values.length && groupVal !== false) {\n                    if (self.config.series) {\n                        color = self.plot.colorCategory(groupVal);\n                    } else {\n                        color = color(values[0]);\n                    }\n                } else {\n                    color = defaultColor;\n                }\n            } else if (!color && groupVal === false) {\n                color = defaultColor;\n            }\n\n            var confidence = this.computeConfidence(points, extentX, linearRegression, linearRegressionLine);\n            return {\n                group: groupVal || false,\n                line: line,\n                linePoints: linePoints,\n                color: color,\n                confidence: confidence\n            };\n        }\n    }, {\n        key: \"computeConfidence\",\n        value: function computeConfidence(points, extentX, linearRegression, linearRegressionLine) {\n            var self = this;\n            var slope = linearRegression.m;\n            var n = points.length;\n            var degreesOfFreedom = Math.max(0, n - 2);\n\n            var alpha = 1 - self.config.confidence.level;\n            var criticalProbability = 1 - alpha / 2;\n            var criticalValue = self.config.confidence.criticalValue(degreesOfFreedom, criticalProbability);\n\n            var xValues = points.map(function (d) {\n                return d[0];\n            });\n            var meanX = _statisticsUtils.StatisticsUtils.mean(xValues);\n            var xMySum = 0;\n            var xSum = 0;\n            var xPowSum = 0;\n            var ySum = 0;\n            var yPowSum = 0;\n            points.forEach(function (p) {\n                var x = p[0];\n                var y = p[1];\n\n                xMySum += x * y;\n                xSum += x;\n                ySum += y;\n                xPowSum += x * x;\n                yPowSum += y * y;\n            });\n            var a = linearRegression.m;\n            var b = linearRegression.b;\n\n            var Sa2 = n / (n + 2) * ((yPowSum - a * xMySum - b * ySum) / (n * xPowSum - xSum * xSum)); //Wariancja wspczynnika kierunkowego regresji liniowej a\n            var Sy2 = (yPowSum - a * xMySum - b * ySum) / (n * (n - 2)); //Sa2 //Mean y value variance\n\n            var errorFn = function errorFn(x) {\n                return Math.sqrt(Sy2 + Math.pow(x - meanX, 2) * Sa2);\n            }; //pierwiastek kwadratowy z wariancji dowolnego punktu prostej\n            var marginOfError = function marginOfError(x) {\n                return criticalValue * errorFn(x);\n            };\n\n            // console.log('n', n, 'degreesOfFreedom', degreesOfFreedom, 'criticalProbability',criticalProbability);\n            // var confidenceDown = x => linearRegressionLine(x) -  marginOfError(x);\n            // var confidenceUp = x => linearRegressionLine(x) +  marginOfError(x);\n\n\n            var computeConfidenceAreaPoint = function computeConfidenceAreaPoint(x) {\n                var linearRegression = linearRegressionLine(x);\n                var moe = marginOfError(x);\n                var confDown = linearRegression - moe;\n                var confUp = linearRegression + moe;\n                return {\n                    x: x,\n                    y0: confDown,\n                    y1: confUp\n                };\n            };\n\n            var centerX = (extentX[1] + extentX[0]) / 2;\n\n            // var confidenceAreaPoints = [extentX[0], centerX,  extentX[1]].map(computeConfidenceAreaPoint);\n            var confidenceAreaPoints = [extentX[0], centerX, extentX[1]].map(computeConfidenceAreaPoint);\n\n            var fitInPlot = function fitInPlot(y) {\n                return y;\n            };\n\n            var confidenceArea = d3.area().curve(self.config.confidence.areaCurve).x(function (d) {\n                return self.plot.x.scale(d.x);\n            }).y0(function (d) {\n                return fitInPlot(self.plot.y.scale(d.y0));\n            }).y1(function (d) {\n                return fitInPlot(self.plot.y.scale(d.y1));\n            });\n\n            return {\n                area: confidenceArea,\n                points: confidenceAreaPoints\n            };\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(Regression.prototype.__proto__ || Object.getPrototypeOf(Regression.prototype), \"update\", this).call(this, newData);\n            this.updateRegressionLines();\n        }\n    }, {\n        key: \"updateRegressionLines\",\n        value: function updateRegressionLines() {\n            var self = this;\n            var regressionContainerClass = this.prefixClass(\"regression-container\");\n            var regressionContainerSelector = \"g.\" + regressionContainerClass;\n\n            var clipPathId = self.prefixClass(\"clip\");\n\n            var regressionContainer = self.svgG.selectOrInsert(regressionContainerSelector, \".\" + self.dotsContainerClass);\n            var regressionContainerClip = regressionContainer.selectOrAppend(\"clipPath\").attr(\"id\", clipPathId);\n\n            regressionContainerClip.selectOrAppend('rect').attr('width', self.plot.width).attr('height', self.plot.height).attr('x', 0).attr('y', 0);\n\n            regressionContainer.attr(\"clip-path\", function (d, i) {\n                return \"url(#\" + clipPathId + \")\";\n            });\n\n            var regressionClass = this.prefixClass(\"regression\");\n            var confidenceAreaClass = self.prefixClass(\"confidence\");\n            var regressionSelector = \"g.\" + regressionClass;\n            var regression = regressionContainer.selectAll(regressionSelector).data(self.plot.regressions, function (d, i) {\n                return d.group;\n            });\n\n            var regressionEnter = regression.enter().appendSelector(regressionSelector);\n            var regressionMerge = regressionEnter.merge(regression);\n            var lineClass = self.prefixClass(\"line\");\n            regressionEnter.append(\"path\").attr(\"class\", lineClass).attr(\"shape-rendering\", \"optimizeQuality\");\n\n            var line = regressionMerge.select(\"path.\" + lineClass).style(\"stroke\", function (r) {\n                return r.color;\n            });\n\n            var lineT = line;\n            if (self.transitionEnabled()) {\n                lineT = line.transition();\n            }\n\n            lineT.attr(\"d\", function (r) {\n                return r.line(r.linePoints);\n            });\n\n            regressionEnter.append(\"path\").attr(\"class\", confidenceAreaClass).attr(\"shape-rendering\", \"optimizeQuality\").style(\"opacity\", \"0.4\");\n\n            var area = regressionMerge.select(\"path.\" + confidenceAreaClass);\n\n            var areaT = area;\n            if (self.transitionEnabled()) {\n                areaT = area.transition();\n            }\n            areaT.attr(\"d\", function (r) {\n                return r.confidence.area(r.confidence.points);\n            });\n            areaT.style(\"fill\", function (r) {\n                return r.color;\n            });\n            regression.exit().remove();\n        }\n    }]);\n\n    return Regression;\n}(_scatterplot.ScatterPlot);\n\n},{\"./chart\":34,\"./scatterplot\":44,\"./statistics-utils\":46,\"./utils\":47}],43:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ScatterPlotMatrix = exports.ScatterPlotMatrixConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chartWithColorGroups = require(\"./chart-with-color-groups\");\n\nvar _scatterplot = require(\"./scatterplot\");\n\nvar _utils = require(\"./utils\");\n\nvar _legend = require(\"./legend\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ScatterPlotMatrixConfig = exports.ScatterPlotMatrixConfig = function (_ScatterPlotConfig) {\n    _inherits(ScatterPlotMatrixConfig, _ScatterPlotConfig);\n\n    //ticks number, (default: computed using cell size)\n    //show axis guides\n    //scatter plot cell padding\n    function ScatterPlotMatrixConfig(custom) {\n        _classCallCheck(this, ScatterPlotMatrixConfig);\n\n        var _this = _possibleConstructorReturn(this, (ScatterPlotMatrixConfig.__proto__ || Object.getPrototypeOf(ScatterPlotMatrixConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'scatterplot-matrix';\n        _this.size = undefined;\n        _this.minCellSize = 50;\n        _this.maxCellSize = 1000;\n        _this.padding = 20;\n        _this.brush = true;\n        _this.guides = true;\n        _this.showTooltip = true;\n        _this.ticks = undefined;\n        _this.x = { // X axis config\n            orient: \"bottom\",\n            scale: \"linear\"\n        };\n        _this.y = { // Y axis config\n            orient: \"left\",\n            scale: \"linear\"\n        };\n        _this.groups = {\n            key: undefined, //object property name or array index with grouping variable\n            includeInPlot: false };\n        _this.variables = {\n            labels: [], //optional array of variable labels (for the diagonal of the plot).\n            keys: [], //optional array of variable keys\n            value: function value(d, variableKey) {\n                return d[variableKey];\n            } // variable value accessor\n        };\n\n        _utils.Utils.deepExtend(_this, custom);\n        return _this;\n    } //show tooltip on dot hover\n    //scatter plot cell size\n\n\n    return ScatterPlotMatrixConfig;\n}(_scatterplot.ScatterPlotConfig);\n\nvar ScatterPlotMatrix = exports.ScatterPlotMatrix = function (_ChartWithColorGroups) {\n    _inherits(ScatterPlotMatrix, _ChartWithColorGroups);\n\n    function ScatterPlotMatrix(placeholderSelector, data, config) {\n        _classCallCheck(this, ScatterPlotMatrix);\n\n        return _possibleConstructorReturn(this, (ScatterPlotMatrix.__proto__ || Object.getPrototypeOf(ScatterPlotMatrix)).call(this, placeholderSelector, data, new ScatterPlotMatrixConfig(config)));\n    }\n\n    _createClass(ScatterPlotMatrix, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(ScatterPlotMatrix.prototype.__proto__ || Object.getPrototypeOf(ScatterPlotMatrix.prototype), \"setConfig\", this).call(this, new ScatterPlotMatrixConfig(config));\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(ScatterPlotMatrix.prototype.__proto__ || Object.getPrototypeOf(ScatterPlotMatrix.prototype), \"initPlot\", this).call(this);\n\n            var self = this;\n            var margin = this.plot.margin;\n            var conf = this.config;\n            this.plot.x = {};\n            this.plot.y = {};\n            this.plot.dot = {\n                color: null //color scale mapping function\n            };\n\n            this.setupVariables();\n\n            this.plot.size = conf.size;\n\n            var width = conf.width;\n            var availableWidth = _utils.Utils.availableWidth(this.config.width, this.getBaseContainer(), margin);\n            var availableHeight = _utils.Utils.availableHeight(this.config.height, this.getBaseContainer(), margin);\n            if (!width) {\n                if (!this.plot.size) {\n                    this.plot.size = Math.min(conf.maxCellSize, Math.max(conf.minCellSize, availableWidth / this.plot.variables.length));\n                }\n                width = margin.left + margin.right + this.plot.variables.length * this.plot.size;\n            }\n            if (!this.plot.size) {\n                this.plot.size = (width - (margin.left + margin.right)) / this.plot.variables.length;\n            }\n\n            var height = width;\n            if (!height) {\n                height = availableHeight;\n            }\n\n            this.plot.width = width - margin.left - margin.right;\n            this.plot.height = height - margin.top - margin.bottom;\n\n            this.plot.ticks = conf.ticks;\n\n            if (this.plot.ticks === undefined) {\n                this.plot.ticks = this.plot.size / 40;\n            }\n\n            this.setupX();\n            this.setupY();\n\n            return this;\n        }\n    }, {\n        key: \"setupVariables\",\n        value: function setupVariables() {\n            var variablesConf = this.config.variables;\n\n            var data = this.plot.groupedData;\n            var plot = this.plot;\n            plot.domainByVariable = {};\n            plot.variables = variablesConf.keys;\n            if (!plot.variables || !plot.variables.length) {\n\n                plot.variables = data.length ? _utils.Utils.inferVariables(data[0].values, this.config.groups.key, this.config.includeInPlot) : [];\n            }\n\n            plot.labels = [];\n            plot.labelByVariable = {};\n            plot.variables.forEach(function (variableKey, index) {\n                var min = d3.min(data, function (s) {\n                    return d3.min(s.values, function (d) {\n                        return variablesConf.value(d, variableKey);\n                    });\n                });\n                var max = d3.max(data, function (s) {\n                    return d3.max(s.values, function (d) {\n                        return variablesConf.value(d, variableKey);\n                    });\n                });\n                plot.domainByVariable[variableKey] = [min, max];\n                var label = variableKey;\n                if (variablesConf.labels && variablesConf.labels.length > index) {\n\n                    label = variablesConf.labels[index];\n                }\n                plot.labels.push(label);\n                plot.labelByVariable[variableKey] = label;\n            });\n\n            plot.subplots = [];\n        }\n    }, {\n        key: \"setupX\",\n        value: function setupX() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config;\n\n            x.value = conf.variables.value;\n            x.scale = _utils.Utils.createScale(conf.x.scale).range([conf.padding / 2, plot.size - conf.padding / 2]);\n            x.map = function (d, variable) {\n                return x.scale(x.value(d, variable));\n            };\n\n            x.axis = _utils.Utils.createAxis(conf.x.orient, x.scale).ticks(plot.ticks);\n            x.axis.tickSize(plot.size * plot.variables.length);\n        }\n    }, {\n        key: \"setupY\",\n        value: function setupY() {\n\n            var plot = this.plot;\n            var y = plot.y;\n            var conf = this.config;\n\n            y.value = conf.variables.value;\n            y.scale = _utils.Utils.createScale(conf.y.scale).range([plot.size - conf.padding / 2, conf.padding / 2]);\n\n            y.map = function (d, variable) {\n                return y.scale(y.value(d, variable));\n            };\n            y.axis = _utils.Utils.createAxis(conf.y.orient, y.scale).ticks(plot.ticks);\n            y.axis.tickSize(-plot.size * plot.variables.length);\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(ScatterPlotMatrix.prototype.__proto__ || Object.getPrototypeOf(ScatterPlotMatrix.prototype), \"update\", this).call(this, newData);\n\n            var self = this;\n            var n = self.plot.variables.length;\n            var conf = this.config;\n\n            var axisClass = self.prefixClass(\"axis\");\n            var axisXClass = axisClass + \"-x\";\n            var axisYClass = axisClass + \"-y\";\n\n            var xAxisSelector = \"g.\" + axisXClass + \".\" + axisClass;\n            var yAxisSelector = \"g.\" + axisYClass + \".\" + axisClass;\n\n            var noGuidesClass = self.prefixClass(\"no-guides\");\n            var xAxis = self.svgG.selectAll(xAxisSelector).data(self.plot.variables);\n\n            var xAxisMerge = xAxis.enter().appendSelector(xAxisSelector).classed(noGuidesClass, !conf.guides).merge(xAxis);\n\n            xAxisMerge.attr(\"transform\", function (d, i) {\n                return \"translate(\" + (n - i - 1) * self.plot.size + \",0)\";\n            }).each(function (d) {\n                self.plot.x.scale.domain(self.plot.domainByVariable[d]);\n                var axis = d3.select(this);\n                if (self.transitionEnabled()) {\n                    axis = axis.transition();\n                }\n                axis.call(self.plot.x.axis);\n            });\n\n            xAxis.exit().remove();\n\n            var yAxis = self.svgG.selectAll(yAxisSelector).data(self.plot.variables);\n            var yAxisMerge = yAxis.enter().appendSelector(yAxisSelector).merge(yAxis);\n            yAxisMerge.classed(noGuidesClass, !conf.guides).attr(\"transform\", function (d, i) {\n                return \"translate(0,\" + i * self.plot.size + \")\";\n            });\n            yAxisMerge.each(function (d) {\n                self.plot.y.scale.domain(self.plot.domainByVariable[d]);\n                var axis = d3.select(this);\n                if (self.transitionEnabled()) {\n                    axis = axis.transition();\n                }\n                axis.call(self.plot.y.axis);\n            });\n\n            yAxis.exit().remove();\n\n            var cellClass = self.prefixClass(\"cell\");\n            var cell = self.svgG.selectAll(\".\" + cellClass).data(self.utils.cross(self.plot.variables, self.plot.variables));\n\n            var cellEnter = cell.enter().appendSelector(\"g.\" + cellClass);\n            cellEnter.filter(function (d) {\n                return d.i === d.j;\n            }).append(\"text\");\n\n            var cellMerge = cellEnter.merge(cell);\n            cellMerge.attr(\"transform\", function (d) {\n                return \"translate(\" + (n - d.i - 1) * self.plot.size + \",\" + d.j * self.plot.size + \")\";\n            });\n\n            if (conf.brush) {\n                this.drawBrush(cellMerge);\n            }\n\n            cellMerge.each(plotSubplot);\n\n            //Labels\n            cellMerge.select(\"text\").attr(\"x\", conf.padding).attr(\"y\", conf.padding).attr(\"dy\", \".71em\").text(function (d) {\n                return self.plot.labelByVariable[d.x];\n            });\n\n            cell.exit().remove();\n\n            function plotSubplot(p) {\n                var plot = self.plot;\n                plot.subplots.push(p);\n                var cell = d3.select(this);\n\n                plot.x.scale.domain(plot.domainByVariable[p.x]);\n                plot.y.scale.domain(plot.domainByVariable[p.y]);\n\n                var frameClass = self.prefixClass(\"frame\");\n                cell.selectOrAppend(\"rect.\" + frameClass).attr(\"class\", frameClass).attr(\"x\", conf.padding / 2).attr(\"y\", conf.padding / 2).attr(\"width\", plot.size - conf.padding).attr(\"height\", plot.size - conf.padding);\n\n                p.update = function () {\n\n                    var subplot = this;\n                    var layerClass = self.prefixClass('layer');\n\n                    var layer = cell.selectAll(\"g.\" + layerClass).data(self.plot.groupedData);\n\n                    var layerMerge = layer.enter().appendSelector(\"g.\" + layerClass).merge(layer);\n\n                    var dots = layerMerge.selectAll(\"circle\").data(function (d) {\n                        return d.values;\n                    });\n\n                    var dotsMerge = dots.enter().append(\"circle\").merge(dots);\n\n                    var dotsT = dotsMerge;\n                    if (self.transitionEnabled()) {\n                        dotsT = dotsMerge.transition();\n                    }\n\n                    dotsT.attr(\"cx\", function (d) {\n                        return plot.x.map(d, subplot.x);\n                    }).attr(\"cy\", function (d) {\n                        return plot.y.map(d, subplot.y);\n                    }).attr(\"r\", self.config.dotRadius);\n\n                    if (plot.seriesColor) {\n                        layerMerge.style(\"fill\", plot.seriesColor);\n                    } else if (plot.color) {\n                        dotsMerge.style(\"fill\", plot.color);\n                    }\n\n                    if (plot.tooltip) {\n                        dotsMerge.on(\"mouseover\", function (d) {\n\n                            var html = \"(\" + plot.x.value(d, subplot.x) + \", \" + plot.y.value(d, subplot.y) + \")\";\n                            var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\n                            if (group || group === 0) {\n                                group = plot.groupToLabel[group];\n                                html += \"<br/>\";\n                                var label = self.config.groups.label;\n                                if (label) {\n                                    html += label + \": \";\n                                }\n                                html += group;\n                            }\n                            self.showTooltip(html);\n                        }).on(\"mouseout\", function (d) {\n                            self.hideTooltip();\n                        });\n                    }\n\n                    dots.exit().remove();\n                    layer.exit().remove();\n                };\n                p.update();\n            }\n        }\n    }, {\n        key: \"drawBrush\",\n        value: function drawBrush(cell) {\n            var self = this;\n            var hiddenClass = self.plot.hiddenClass = self.prefixClass(\"hidden\");\n            var brush = d3.brush()\n            // .x(self.plot.x.scale)\n            // .y(self.plot.y.scale)\n            .on(\"start\", brushstart).on(\"brush\", brushmove).on(\"end\", brushend);\n\n            brush.extent([[0, 0], [self.plot.size, self.plot.size]]);\n            cell.selectOrAppend(\"g.brush-container\").call(brush);\n\n            self.clearBrush();\n\n            // Clear the previously-active brush, if any.\n            function brushstart(p) {\n                if (self.plot.brushCell !== this) {\n                    self.clearBrush();\n                    self.plot.x.scale.domain(self.plot.domainByVariable[p.x]);\n                    self.plot.y.scale.domain(self.plot.domainByVariable[p.y]);\n                    self.plot.brushCell = this;\n                    self.plot.brush = brush;\n                }\n            }\n\n            // Highlight the selected circles.\n            function brushmove(p) {\n                var s = d3.event.selection;\n                if (!s) return;\n                var e = s.map(function (_) {\n                    return [self.plot.x.scale.invert(_[0]), self.plot.y.scale.invert(_[1])];\n                });\n                // console.log(e);\n\n                self.svgG.selectAll(\"circle\").classed(hiddenClass, function (d) {\n                    var x = parseFloat(d[p.x]),\n                        y = parseFloat(d[p.y]);\n\n                    return e[0][0] > x || x > e[1][0] || e[1][1] > y || y > e[0][1];\n                });\n            }\n            // If the brush is empty, select all circles.\n            function brushend() {\n                if (!d3.event.selection) self.svgG.selectAll(\".\" + hiddenClass).classed(hiddenClass, false);\n            }\n        }\n    }, {\n        key: \"clearBrush\",\n        value: function clearBrush() {\n            var self = this;\n            if (!self.plot.brushCell) {\n                return;\n            }\n\n            self.plot.brush.move(d3.select(self.plot.brushCell), null);\n            self.svgG.selectAll(\".\" + self.plot.hiddenClass).classed(self.plot.hiddenClass, false);\n            self.plot.brushCell = null;\n        }\n    }]);\n\n    return ScatterPlotMatrix;\n}(_chartWithColorGroups.ChartWithColorGroups);\n\n},{\"./chart-with-color-groups\":33,\"./legend\":41,\"./scatterplot\":44,\"./utils\":47}],44:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ScatterPlot = exports.ScatterPlotConfig = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _chartWithColorGroups = require(\"./chart-with-color-groups\");\n\nvar _utils = require(\"./utils\");\n\nvar _legend = require(\"./legend\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ScatterPlotConfig = exports.ScatterPlotConfig = function (_ChartWithColorGroups) {\n    _inherits(ScatterPlotConfig, _ChartWithColorGroups);\n\n    //show axis guides\n    function ScatterPlotConfig(custom) {\n        _classCallCheck(this, ScatterPlotConfig);\n\n        var _this = _possibleConstructorReturn(this, (ScatterPlotConfig.__proto__ || Object.getPrototypeOf(ScatterPlotConfig)).call(this));\n\n        _this.svgClass = _this.cssClassPrefix + 'scatterplot';\n        _this.guides = false;\n        _this.showTooltip = true;\n        _this.x = { // X axis config\n            title: '', // axis label\n            key: 0,\n            value: function value(d, key) {\n                return d[key];\n            }, // x value accessor\n            orient: \"bottom\",\n            scale: \"linear\",\n            domainMargin: 0.05\n        };\n        _this.y = { // Y axis config\n            title: '', // axis label,\n            key: 1,\n            value: function value(d, key) {\n                return d[key];\n            }, // y value accessor\n            orient: \"left\",\n            scale: \"linear\",\n            domainMargin: 0.05\n        };\n        _this.groups = {\n            key: 2\n        };\n        _this.dotRadius = 2;\n        _this.transition = true;\n\n\n        if (custom) {\n            _utils.Utils.deepExtend(_this, custom);\n        }\n\n        return _this;\n    } //show tooltip on dot hover\n\n    return ScatterPlotConfig;\n}(_chartWithColorGroups.ChartWithColorGroupsConfig);\n\nvar ScatterPlot = exports.ScatterPlot = function (_ChartWithColorGroups2) {\n    _inherits(ScatterPlot, _ChartWithColorGroups2);\n\n    function ScatterPlot(placeholderSelector, data, config) {\n        _classCallCheck(this, ScatterPlot);\n\n        return _possibleConstructorReturn(this, (ScatterPlot.__proto__ || Object.getPrototypeOf(ScatterPlot)).call(this, placeholderSelector, data, new ScatterPlotConfig(config)));\n    }\n\n    _createClass(ScatterPlot, [{\n        key: \"setConfig\",\n        value: function setConfig(config) {\n            return _get(ScatterPlot.prototype.__proto__ || Object.getPrototypeOf(ScatterPlot.prototype), \"setConfig\", this).call(this, new ScatterPlotConfig(config));\n        }\n    }, {\n        key: \"initPlot\",\n        value: function initPlot() {\n            _get(ScatterPlot.prototype.__proto__ || Object.getPrototypeOf(ScatterPlot.prototype), \"initPlot\", this).call(this);\n            var self = this;\n\n            var conf = this.config;\n\n            this.plot.x = {};\n            this.plot.y = {};\n\n            this.computePlotSize();\n            this.setupX();\n            this.setupY();\n\n            return this;\n        }\n    }, {\n        key: \"setupX\",\n        value: function setupX() {\n\n            var plot = this.plot;\n            var x = plot.x;\n            var conf = this.config.x;\n\n            /* *\r\n             * value accessor - returns the value to encode for a given data object.\r\n             * scale - maps value to a visual display encoding, such as a pixel position.\r\n             * map function - maps from data value to display value\r\n             * axis - sets up axis\r\n             **/\n            x.value = function (d) {\n                return conf.value(d, conf.key);\n            };\n\n            x.scale = _utils.Utils.createScale(conf.scale).range([0, plot.width]);\n            x.map = function (d) {\n                return x.scale(x.value(d));\n            };\n\n            x.axis = _utils.Utils.createAxis(conf.orient, x.scale);\n\n            var data = this.plot.groupedData;\n\n            var domain = [parseFloat(d3.min(data, function (s) {\n                return d3.min(s.values, plot.x.value);\n            })), parseFloat(d3.max(data, function (s) {\n                return d3.max(s.values, plot.x.value);\n            }))];\n            var margin = (domain[1] - domain[0]) * conf.domainMargin;\n            domain[0] -= margin;\n            domain[1] += margin;\n            plot.x.scale.domain(domain);\n            if (this.config.guides) {\n                x.axis.tickSize(-plot.height);\n            }\n        }\n    }, {\n        key: \"setupY\",\n        value: function setupY() {\n\n            var plot = this.plot;\n            var y = plot.y;\n            var conf = this.config.y;\n\n            /*\r\n             * value accessor - returns the value to encode for a given data object.\r\n             * scale - maps value to a visual display encoding, such as a pixel position.\r\n             * map function - maps from data value to display value\r\n             * axis - sets up axis\r\n             */\n            y.value = function (d) {\n                return conf.value(d, conf.key);\n            };\n\n            y.scale = _utils.Utils.createScale(conf.scale).range([plot.height, 0]);\n\n            y.map = function (d) {\n                return y.scale(y.value(d));\n            };\n\n            y.axis = _utils.Utils.createAxis(conf.orient, y.scale);\n\n            if (this.config.guides) {\n                y.axis.tickSize(-plot.width);\n            }\n\n            var data = this.plot.groupedData;\n\n            var domain = [parseFloat(d3.min(data, function (s) {\n                return d3.min(s.values, plot.y.value);\n            })), parseFloat(d3.max(data, function (s) {\n                return d3.max(s.values, plot.y.value);\n            }))];\n            var margin = (domain[1] - domain[0]) * conf.domainMargin;\n            domain[0] -= margin;\n            domain[1] += margin;\n            plot.y.scale.domain(domain);\n            // plot.y.scale.domain([d3.min(data, plot.y.value)-1, d3.max(data, plot.y.value)+1]);\n        }\n    }, {\n        key: \"drawAxisX\",\n        value: function drawAxisX() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.x;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides'))).attr(\"transform\", \"translate(0,\" + plot.height + \")\");\n\n            var axisT = axis;\n            if (self.transitionEnabled()) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.x.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + plot.width / 2 + \",\" + plot.margin.bottom + \")\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"-1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: \"drawAxisY\",\n        value: function drawAxisY() {\n            var self = this;\n            var plot = self.plot;\n            var axisConf = this.config.y;\n            var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\n\n            var axisT = axis;\n            if (self.transitionEnabled()) {\n                axisT = axis.transition().ease(d3.easeSinInOut);\n            }\n\n            axisT.call(plot.y.axis);\n\n            axis.selectOrAppend(\"text.\" + self.prefixClass('label')).attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + plot.height / 2 + \")rotate(-90)\") // text is drawn off the screen top left, move down and out and rotate\n            .attr(\"dy\", \"1em\").style(\"text-anchor\", \"middle\").text(axisConf.title);\n        }\n    }, {\n        key: \"update\",\n        value: function update(newData) {\n            _get(ScatterPlot.prototype.__proto__ || Object.getPrototypeOf(ScatterPlot.prototype), \"update\", this).call(this, newData);\n            this.drawAxisX();\n            this.drawAxisY();\n\n            this.updateDots();\n        }\n    }, {\n        key: \"updateDots\",\n        value: function updateDots() {\n            var self = this;\n            var plot = self.plot;\n            var data = plot.data;\n            var layerClass = self.prefixClass('layer');\n            var dotClass = self.prefixClass('dot');\n            self.dotsContainerClass = self.prefixClass('dots-container');\n\n            var dotsContainer = self.svgG.selectOrAppend(\"g.\" + self.dotsContainerClass);\n\n            var layer = dotsContainer.selectAll(\"g.\" + layerClass).data(plot.groupedData);\n\n            var layerEnter = layer.enter().appendSelector(\"g.\" + layerClass);\n\n            var layerMerge = layerEnter.merge(layer);\n\n            var dots = layerMerge.selectAll('.' + dotClass).data(function (d) {\n                return d.values;\n            });\n\n            var dotsEnter = dots.enter().append(\"circle\").attr(\"class\", dotClass);\n\n            var dotsMerge = dotsEnter.merge(dots);\n\n            var dotsT = dotsMerge;\n            if (self.transitionEnabled()) {\n                dotsT = dotsMerge.transition();\n            }\n\n            dotsT.attr(\"r\", self.config.dotRadius).attr(\"cx\", plot.x.map).attr(\"cy\", plot.y.map);\n\n            if (plot.tooltip) {\n                dotsMerge.on(\"mouseover\", function (d) {\n                    var html = \"(\" + plot.x.value(d) + \", \" + plot.y.value(d) + \")\";\n                    var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\n                    if (group || group === 0) {\n                        group = plot.groupToLabel[group];\n                        html += \"<br/>\";\n                        var label = self.config.groups.label;\n                        if (label) {\n                            html += label + \": \";\n                        }\n                        html += group;\n                    }\n                    self.showTooltip(html);\n                }).on(\"mouseout\", function (d) {\n                    self.hideTooltip();\n                });\n            }\n\n            if (plot.seriesColor) {\n                layerMerge.style(\"fill\", plot.seriesColor);\n            } else if (plot.color) {\n                dotsMerge.style(\"fill\", plot.color);\n            }\n\n            dots.exit().remove();\n            layer.exit().remove();\n        }\n    }]);\n\n    return ScatterPlot;\n}(_chartWithColorGroups.ChartWithColorGroups);\n\n},{\"./chart-with-color-groups\":33,\"./legend\":41,\"./utils\":47}],45:[function(require,module,exports){\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.tdistr = tdistr;\n/*\r\n * https://gist.github.com/benrasmusen/1261977\r\n * NAME\r\n * \r\n * statistics-distributions.js - JavaScript library for calculating\r\n *   critical values and upper probabilities of common statistical\r\n *   distributions\r\n * \r\n * SYNOPSIS\r\n * \r\n * \r\n *   // Chi-squared-crit (2 degrees of freedom, 95th percentile = 0.05 level\r\n *   chisqrdistr(2, .05)\r\n *   \r\n *   // u-crit (95th percentile = 0.05 level)\r\n *   udistr(.05);\r\n *   \r\n *   // t-crit (1 degree of freedom, 99.5th percentile = 0.005 level) \r\n *   tdistr(1,.005);\r\n *   \r\n *   // F-crit (1 degree of freedom in numerator, 3 degrees of freedom \r\n *   //         in denominator, 99th percentile = 0.01 level)\r\n *   fdistr(1,3,.01);\r\n *   \r\n *   // upper probability of the u distribution (u = -0.85): Q(u) = 1-G(u)\r\n *   uprob(-0.85);\r\n *   \r\n *   // upper probability of the chi-square distribution\r\n *   // (3 degrees of freedom, chi-squared = 6.25): Q = 1-G\r\n *   chisqrprob(3,6.25);\r\n *   \r\n *   // upper probability of the t distribution\r\n *   // (3 degrees of freedom, t = 6.251): Q = 1-G\r\n *   tprob(3,6.251);\r\n *   \r\n *   // upper probability of the F distribution\r\n *   // (3 degrees of freedom in numerator, 5 degrees of freedom in\r\n *   //  denominator, F = 6.25): Q = 1-G\r\n *   fprob(3,5,.625);\r\n * \r\n * \r\n *  DESCRIPTION\r\n * \r\n * This library calculates percentage points (5 significant digits) of the u\r\n * (standard normal) distribution, the student's t distribution, the\r\n * chi-square distribution and the F distribution. It can also calculate the\r\n * upper probability (5 significant digits) of the u (standard normal), the\r\n * chi-square, the t and the F distribution.\r\n * \r\n * These critical values are needed to perform statistical tests, like the u\r\n * test, the t test, the F test and the chi-squared test, and to calculate\r\n * confidence intervals.\r\n * \r\n * If you are interested in more precise algorithms you could look at:\r\n *   StatLib: http://lib.stat.cmu.edu/apstat/ ; \r\n *   Applied Statistics Algorithms by Griffiths, P. and Hill, I.D.\r\n *   , Ellis Horwood: Chichester (1985)\r\n * \r\n * BUGS \r\n * \r\n * This port was produced from the Perl module Statistics::Distributions\r\n * that has had no bug reports in several years.  If you find a bug then\r\n * please double-check that JavaScript does not thing the numbers you are\r\n * passing in are strings.  (You can subtract 0 from them as you pass them\r\n * in so that \"5\" is properly understood to be 5.)  If you have passed in a\r\n * number then please contact the author\r\n * \r\n * AUTHOR\r\n * \r\n * Ben Tilly <btilly@gmail.com>\r\n * \r\n * Originl Perl version by Michael Kospach <mike.perl@gmx.at>\r\n * \r\n * Nice formating, simplification and bug repair by Matthias Trautner Kromann\r\n * <mtk@id.cbs.dk>\r\n * \r\n * COPYRIGHT \r\n * \r\n * Copyright 2008 Ben Tilly.\r\n * \r\n * This library is free software; you can redistribute it and/or modify it\r\n * under the same terms as Perl itself.  This means under either the Perl\r\n * Artistic License or the GPL v1 or later.\r\n */\n\nvar SIGNIFICANT = 5; // number of significant digits to be returned\n\nfunction chisqrdistr($n, $p) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\"; /* degree of freedom */\n\t}\n\tif ($p <= 0 || $p > 1) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\treturn precision_string(_subchisqr($n - 0, $p - 0));\n}\n\nfunction udistr($p) {\n\tif ($p > 1 || $p <= 0) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\treturn precision_string(_subu($p - 0));\n}\n\nfunction tdistr($n, $p) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\";\n\t}\n\tif ($p <= 0 || $p >= 1) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\treturn precision_string(_subt($n - 0, $p - 0));\n}\n\nfunction fdistr($n, $m, $p) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\"; /* first degree of freedom */\n\t}\n\tif ($m <= 0 || Math.abs($m) - Math.abs(integer($m)) != 0) {\n\t\tthrow \"Invalid m: $m\\n\"; /* second degree of freedom */\n\t}\n\tif ($p <= 0 || $p > 1) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\treturn precision_string(_subf($n - 0, $m - 0, $p - 0));\n}\n\nfunction uprob($x) {\n\treturn precision_string(_subuprob($x - 0));\n}\n\nfunction chisqrprob($n, $x) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\"; /* degree of freedom */\n\t}\n\treturn precision_string(_subchisqrprob($n - 0, $x - 0));\n}\n\nfunction tprob($n, $x) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\"; /* degree of freedom */\n\t}\n\treturn precision_string(_subtprob($n - 0, $x - 0));\n}\n\nfunction fprob($n, $m, $x) {\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\n\t\tthrow \"Invalid n: $n\\n\"; /* first degree of freedom */\n\t}\n\tif ($m <= 0 || Math.abs($m) - Math.abs(integer($m)) != 0) {\n\t\tthrow \"Invalid m: $m\\n\"; /* second degree of freedom */\n\t}\n\treturn precision_string(_subfprob($n - 0, $m - 0, $x - 0));\n}\n\nfunction _subfprob($n, $m, $x) {\n\tvar $p;\n\n\tif ($x <= 0) {\n\t\t$p = 1;\n\t} else if ($m % 2 == 0) {\n\t\tvar $z = $m / ($m + $n * $x);\n\t\tvar $a = 1;\n\t\tfor (var $i = $m - 2; $i >= 2; $i -= 2) {\n\t\t\t$a = 1 + ($n + $i - 2) / $i * $z * $a;\n\t\t}\n\t\t$p = 1 - Math.pow(1 - $z, $n / 2 * $a);\n\t} else if ($n % 2 == 0) {\n\t\tvar $z = $n * $x / ($m + $n * $x);\n\t\tvar $a = 1;\n\t\tfor (var $i = $n - 2; $i >= 2; $i -= 2) {\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\n\t\t}\n\t\t$p = Math.pow(1 - $z, $m / 2) * $a;\n\t} else {\n\t\tvar $y = Math.atan2(Math.sqrt($n * $x / $m), 1);\n\t\tvar $z = Math.pow(Math.sin($y), 2);\n\t\tvar $a = $n == 1 ? 0 : 1;\n\t\tfor (var $i = $n - 2; $i >= 3; $i -= 2) {\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\n\t\t}\n\t\tvar $b = Math.PI;\n\t\tfor (var $i = 2; $i <= $m - 1; $i += 2) {\n\t\t\t$b *= ($i - 1) / $i;\n\t\t}\n\t\tvar $p1 = 2 / $b * Math.sin($y) * Math.pow(Math.cos($y), $m) * $a;\n\n\t\t$z = Math.pow(Math.cos($y), 2);\n\t\t$a = $m == 1 ? 0 : 1;\n\t\tfor (var $i = $m - 2; $i >= 3; $i -= 2) {\n\t\t\t$a = 1 + ($i - 1) / $i * $z * $a;\n\t\t}\n\t\t$p = max(0, $p1 + 1 - 2 * $y / Math.PI - 2 / Math.PI * Math.sin($y) * Math.cos($y) * $a);\n\t}\n\treturn $p;\n}\n\nfunction _subchisqrprob($n, $x) {\n\tvar $p;\n\n\tif ($x <= 0) {\n\t\t$p = 1;\n\t} else if ($n > 100) {\n\t\t$p = _subuprob((Math.pow($x / $n, 1 / 3) - (1 - 2 / 9 / $n)) / Math.sqrt(2 / 9 / $n));\n\t} else if ($x > 400) {\n\t\t$p = 0;\n\t} else {\n\t\tvar $a;\n\t\tvar $i;\n\t\tvar $i1;\n\t\tif ($n % 2 != 0) {\n\t\t\t$p = 2 * _subuprob(Math.sqrt($x));\n\t\t\t$a = Math.sqrt(2 / Math.PI) * Math.exp(-$x / 2) / Math.sqrt($x);\n\t\t\t$i1 = 1;\n\t\t} else {\n\t\t\t$p = $a = Math.exp(-$x / 2);\n\t\t\t$i1 = 2;\n\t\t}\n\n\t\tfor ($i = $i1; $i <= $n - 2; $i += 2) {\n\t\t\t$a *= $x / $i;\n\t\t\t$p += $a;\n\t\t}\n\t}\n\treturn $p;\n}\n\nfunction _subu($p) {\n\tvar $y = -Math.log(4 * $p * (1 - $p));\n\tvar $x = Math.sqrt($y * (1.570796288 + $y * (.03706987906 + $y * (-.8364353589E-3 + $y * (-.2250947176E-3 + $y * (.6841218299E-5 + $y * (0.5824238515E-5 + $y * (-.104527497E-5 + $y * (.8360937017E-7 + $y * (-.3231081277E-8 + $y * (.3657763036E-10 + $y * .6936233982E-12)))))))))));\n\tif ($p > .5) $x = -$x;\n\treturn $x;\n}\n\nfunction _subuprob($x) {\n\tvar $p = 0; /* if ($absx > 100) */\n\tvar $absx = Math.abs($x);\n\n\tif ($absx < 1.9) {\n\t\t$p = Math.pow(1 + $absx * (.049867347 + $absx * (.0211410061 + $absx * (.0032776263 + $absx * (.0000380036 + $absx * (.0000488906 + $absx * .000005383))))), -16) / 2;\n\t} else if ($absx <= 100) {\n\t\tfor (var $i = 18; $i >= 1; $i--) {\n\t\t\t$p = $i / ($absx + $p);\n\t\t}\n\t\t$p = Math.exp(-.5 * $absx * $absx) / Math.sqrt(2 * Math.PI) / ($absx + $p);\n\t}\n\n\tif ($x < 0) $p = 1 - $p;\n\treturn $p;\n}\n\nfunction _subt($n, $p) {\n\n\tif ($p >= 1 || $p <= 0) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\n\tif ($p == 0.5) {\n\t\treturn 0;\n\t} else if ($p < 0.5) {\n\t\treturn -_subt($n, 1 - $p);\n\t}\n\n\tvar $u = _subu($p);\n\tvar $u2 = Math.pow($u, 2);\n\n\tvar $a = ($u2 + 1) / 4;\n\tvar $b = ((5 * $u2 + 16) * $u2 + 3) / 96;\n\tvar $c = (((3 * $u2 + 19) * $u2 + 17) * $u2 - 15) / 384;\n\tvar $d = ((((79 * $u2 + 776) * $u2 + 1482) * $u2 - 1920) * $u2 - 945) / 92160;\n\tvar $e = (((((27 * $u2 + 339) * $u2 + 930) * $u2 - 1782) * $u2 - 765) * $u2 + 17955) / 368640;\n\n\tvar $x = $u * (1 + ($a + ($b + ($c + ($d + $e / $n) / $n) / $n) / $n) / $n);\n\n\tif ($n <= Math.pow(log10($p), 2) + 3) {\n\t\tvar $round;\n\t\tdo {\n\t\t\tvar $p1 = _subtprob($n, $x);\n\t\t\tvar $n1 = $n + 1;\n\t\t\tvar $delta = ($p1 - $p) / Math.exp(($n1 * Math.log($n1 / ($n + $x * $x)) + Math.log($n / $n1 / 2 / Math.PI) - 1 + (1 / $n1 - 1 / $n) / 6) / 2);\n\t\t\t$x += $delta;\n\t\t\t$round = round_to_precision($delta, Math.abs(integer(log10(Math.abs($x)) - 4)));\n\t\t} while ($x && $round != 0);\n\t}\n\treturn $x;\n}\n\nfunction _subtprob($n, $x) {\n\n\tvar $a;\n\tvar $b;\n\tvar $w = Math.atan2($x / Math.sqrt($n), 1);\n\tvar $z = Math.pow(Math.cos($w), 2);\n\tvar $y = 1;\n\n\tfor (var $i = $n - 2; $i >= 2; $i -= 2) {\n\t\t$y = 1 + ($i - 1) / $i * $z * $y;\n\t}\n\n\tif ($n % 2 == 0) {\n\t\t$a = Math.sin($w) / 2;\n\t\t$b = .5;\n\t} else {\n\t\t$a = $n == 1 ? 0 : Math.sin($w) * Math.cos($w) / Math.PI;\n\t\t$b = .5 + $w / Math.PI;\n\t}\n\treturn max(0, 1 - $b - $a * $y);\n}\n\nfunction _subf($n, $m, $p) {\n\tvar $x;\n\n\tif ($p >= 1 || $p <= 0) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t}\n\n\tif ($p == 1) {\n\t\t$x = 0;\n\t} else if ($m == 1) {\n\t\t$x = 1 / Math.pow(_subt($n, 0.5 - $p / 2), 2);\n\t} else if ($n == 1) {\n\t\t$x = Math.pow(_subt($m, $p / 2), 2);\n\t} else if ($m == 2) {\n\t\tvar $u = _subchisqr($m, 1 - $p);\n\t\tvar $a = $m - 2;\n\t\t$x = 1 / ($u / $m * (1 + (($u - $a) / 2 + (((4 * $u - 11 * $a) * $u + $a * (7 * $m - 10)) / 24 + (((2 * $u - 10 * $a) * $u + $a * (17 * $m - 26)) * $u - $a * $a * (9 * $m - 6)) / 48 / $n) / $n) / $n));\n\t} else if ($n > $m) {\n\t\t$x = 1 / _subf2($m, $n, 1 - $p);\n\t} else {\n\t\t$x = _subf2($n, $m, $p);\n\t}\n\treturn $x;\n}\n\nfunction _subf2($n, $m, $p) {\n\tvar $u = _subchisqr($n, $p);\n\tvar $n2 = $n - 2;\n\tvar $x = $u / $n * (1 + (($u - $n2) / 2 + (((4 * $u - 11 * $n2) * $u + $n2 * (7 * $n - 10)) / 24 + (((2 * $u - 10 * $n2) * $u + $n2 * (17 * $n - 26)) * $u - $n2 * $n2 * (9 * $n - 6)) / 48 / $m) / $m) / $m);\n\tvar $delta;\n\tdo {\n\t\tvar $z = Math.exp((($n + $m) * Math.log(($n + $m) / ($n * $x + $m)) + ($n - 2) * Math.log($x) + Math.log($n * $m / ($n + $m)) - Math.log(4 * Math.PI) - (1 / $n + 1 / $m - 1 / ($n + $m)) / 6) / 2);\n\t\t$delta = (_subfprob($n, $m, $x) - $p) / $z;\n\t\t$x += $delta;\n\t} while (Math.abs($delta) > 3e-4);\n\treturn $x;\n}\n\nfunction _subchisqr($n, $p) {\n\tvar $x;\n\n\tif ($p > 1 || $p <= 0) {\n\t\tthrow \"Invalid p: $p\\n\";\n\t} else if ($p == 1) {\n\t\t$x = 0;\n\t} else if ($n == 1) {\n\t\t$x = Math.pow(_subu($p / 2), 2);\n\t} else if ($n == 2) {\n\t\t$x = -2 * Math.log($p);\n\t} else {\n\t\tvar $u = _subu($p);\n\t\tvar $u2 = $u * $u;\n\n\t\t$x = max(0, $n + Math.sqrt(2 * $n) * $u + 2 / 3 * ($u2 - 1) + $u * ($u2 - 7) / 9 / Math.sqrt(2 * $n) - 2 / 405 / $n * ($u2 * (3 * $u2 + 7) - 16));\n\n\t\tif ($n <= 100) {\n\t\t\tvar $x0;\n\t\t\tvar $p1;\n\t\t\tvar $z;\n\t\t\tdo {\n\t\t\t\t$x0 = $x;\n\t\t\t\tif ($x < 0) {\n\t\t\t\t\t$p1 = 1;\n\t\t\t\t} else if ($n > 100) {\n\t\t\t\t\t$p1 = _subuprob((Math.pow($x / $n, 1 / 3) - (1 - 2 / 9 / $n)) / Math.sqrt(2 / 9 / $n));\n\t\t\t\t} else if ($x > 400) {\n\t\t\t\t\t$p1 = 0;\n\t\t\t\t} else {\n\t\t\t\t\tvar $i0;\n\t\t\t\t\tvar $a;\n\t\t\t\t\tif ($n % 2 != 0) {\n\t\t\t\t\t\t$p1 = 2 * _subuprob(Math.sqrt($x));\n\t\t\t\t\t\t$a = Math.sqrt(2 / Math.PI) * Math.exp(-$x / 2) / Math.sqrt($x);\n\t\t\t\t\t\t$i0 = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$p1 = $a = Math.exp(-$x / 2);\n\t\t\t\t\t\t$i0 = 2;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var $i = $i0; $i <= $n - 2; $i += 2) {\n\t\t\t\t\t\t$a *= $x / $i;\n\t\t\t\t\t\t$p1 += $a;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t$z = Math.exp((($n - 1) * Math.log($x / $n) - Math.log(4 * Math.PI * $x) + $n - $x - 1 / $n / 6) / 2);\n\t\t\t\t$x += ($p1 - $p) / $z;\n\t\t\t\t$x = round_to_precision($x, 5);\n\t\t\t} while ($n < 31 && Math.abs($x0 - $x) > 1e-4);\n\t\t}\n\t}\n\treturn $x;\n}\n\nfunction log10($n) {\n\treturn Math.log($n) / Math.log(10);\n}\n\nfunction max() {\n\tvar $max = arguments[0];\n\tfor (var $i = 0; i < arguments.length; i++) {\n\t\tif ($max < arguments[$i]) $max = arguments[$i];\n\t}\n\treturn $max;\n}\n\nfunction min() {\n\tvar $min = arguments[0];\n\tfor (var $i = 0; i < arguments.length; i++) {\n\t\tif ($min > arguments[$i]) $min = arguments[$i];\n\t}\n\treturn $min;\n}\n\nfunction precision($x) {\n\treturn Math.abs(integer(log10(Math.abs($x)) - SIGNIFICANT));\n}\n\nfunction precision_string($x) {\n\tif ($x) {\n\t\treturn round_to_precision($x, precision($x));\n\t} else {\n\t\treturn \"0\";\n\t}\n}\n\nfunction round_to_precision($x, $p) {\n\t$x = $x * Math.pow(10, $p);\n\t$x = Math.round($x);\n\treturn $x / Math.pow(10, $p);\n}\n\nfunction integer($i) {\n\tif ($i > 0) return Math.floor($i);else return Math.ceil($i);\n}\n\n},{}],46:[function(require,module,exports){\n'use strict';\n\nvar _statisticsDistributions = require('./statistics-distributions');\n\nvar su = module.exports.StatisticsUtils = {};\nsu.sampleCorrelation = require('../bower_components/simple-statistics/src/sample_correlation');\nsu.linearRegression = require('../bower_components/simple-statistics/src/linear_regression');\nsu.linearRegressionLine = require('../bower_components/simple-statistics/src/linear_regression_line');\nsu.errorFunction = require('../bower_components/simple-statistics/src/error_function');\nsu.standardDeviation = require('../bower_components/simple-statistics/src/standard_deviation');\nsu.sampleStandardDeviation = require('../bower_components/simple-statistics/src/sample_standard_deviation');\nsu.variance = require('../bower_components/simple-statistics/src/variance');\nsu.mean = require('../bower_components/simple-statistics/src/mean');\nsu.zScore = require('../bower_components/simple-statistics/src/z_score');\nsu.standardError = function (arr) {\n    return Math.sqrt(su.variance(arr) / (arr.length - 1));\n};\nsu.quantile = require('../bower_components/simple-statistics/src/quantile');\n\nsu.tValue = function (degreesOfFreedom, criticalProbability) {\n    //as in http://stattrek.com/online-calculator/t-distribution.aspx\n    return (0, _statisticsDistributions.tdistr)(degreesOfFreedom, criticalProbability);\n};\n\n},{\"../bower_components/simple-statistics/src/error_function\":5,\"../bower_components/simple-statistics/src/linear_regression\":6,\"../bower_components/simple-statistics/src/linear_regression_line\":7,\"../bower_components/simple-statistics/src/mean\":8,\"../bower_components/simple-statistics/src/quantile\":9,\"../bower_components/simple-statistics/src/sample_correlation\":12,\"../bower_components/simple-statistics/src/sample_standard_deviation\":14,\"../bower_components/simple-statistics/src/standard_deviation\":16,\"../bower_components/simple-statistics/src/variance\":19,\"../bower_components/simple-statistics/src/z_score\":20,\"./statistics-distributions\":45}],47:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Utils = exports.Utils = function () {\n    function Utils() {\n        _classCallCheck(this, Utils);\n    }\n\n    _createClass(Utils, null, [{\n        key: 'deepExtend',\n\n        // usage example deepExtend({}, objA, objB); => should work similar to $.extend(true, {}, objA, objB);\n        value: function deepExtend(out) {\n\n            var utils = this;\n            var emptyOut = {};\n\n            if (!out && arguments.length > 1 && Array.isArray(arguments[1])) {\n                out = [];\n            }\n            out = out || {};\n\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i];\n                if (!source) continue;\n\n                for (var key in source) {\n                    if (!source.hasOwnProperty(key)) {\n                        continue;\n                    }\n                    var isArray = Array.isArray(out[key]);\n                    var isObject = utils.isObject(out[key]);\n                    var srcObj = utils.isObject(source[key]);\n\n                    if (isObject && !isArray && srcObj) {\n                        utils.deepExtend(out[key], source[key]);\n                    } else {\n                        out[key] = source[key];\n                    }\n                }\n            }\n\n            return out;\n        }\n    }, {\n        key: 'mergeDeep',\n        value: function mergeDeep(target, source) {\n            var output = Object.assign({}, target);\n            if (Utils.isObjectNotArray(target) && Utils.isObjectNotArray(source)) {\n                Object.keys(source).forEach(function (key) {\n                    if (Utils.isObjectNotArray(source[key])) {\n                        if (!(key in target)) Object.assign(output, _defineProperty({}, key, source[key]));else output[key] = Utils.mergeDeep(target[key], source[key]);\n                    } else {\n                        Object.assign(output, _defineProperty({}, key, source[key]));\n                    }\n                });\n            }\n            return output;\n        }\n    }, {\n        key: 'cross',\n        value: function cross(a, b) {\n            var c = [],\n                n = a.length,\n                m = b.length,\n                i,\n                j;\n            for (i = -1; ++i < n;) {\n                for (j = -1; ++j < m;) {\n                    c.push({ x: a[i], i: i, y: b[j], j: j });\n                }\n            }return c;\n        }\n    }, {\n        key: 'inferVariables',\n        value: function inferVariables(data, groupKey, includeGroup) {\n            var res = [];\n            if (!data) {\n                return res;\n            }\n\n            if (data.length) {\n                var d = data[0];\n                if (d instanceof Array) {\n                    res = d.map(function (v, i) {\n                        return i;\n                    });\n                } else if ((typeof d === 'undefined' ? 'undefined' : _typeof(d)) === 'object') {\n\n                    for (var prop in d) {\n                        if (!d.hasOwnProperty(prop)) continue;\n\n                        res.push(prop);\n                    }\n                }\n            }\n            if (groupKey !== null && groupKey !== undefined && !includeGroup) {\n                var index = res.indexOf(groupKey);\n                if (index > -1) {\n                    res.splice(index, 1);\n                }\n            }\n            return res;\n        }\n    }, {\n        key: 'isObjectNotArray',\n        value: function isObjectNotArray(item) {\n            return item && (typeof item === 'undefined' ? 'undefined' : _typeof(item)) === 'object' && !Array.isArray(item) && item !== null;\n        }\n    }, {\n        key: 'isArray',\n        value: function isArray(item) {\n            return Array.isArray(item);\n        }\n    }, {\n        key: 'isObject',\n        value: function isObject(a) {\n            return a !== null && (typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object';\n        }\n    }, {\n        key: 'isNumber',\n        value: function isNumber(a) {\n            return !isNaN(a) && typeof a === 'number';\n        }\n    }, {\n        key: 'isFunction',\n        value: function isFunction(a) {\n            return typeof a === 'function';\n        }\n    }, {\n        key: 'isDate',\n        value: function isDate(a) {\n            return Object.prototype.toString.call(a) === '[object Date]';\n        }\n    }, {\n        key: 'isString',\n        value: function isString(a) {\n            return typeof a === 'string' || a instanceof String;\n        }\n    }, {\n        key: 'insertOrAppendSelector',\n        value: function insertOrAppendSelector(parent, selector, operation, before) {\n\n            var selectorParts = selector.split(/([\\.\\#])/);\n            var element = parent[operation](selectorParts.shift(), before); //\":first-child\"\n\n            while (selectorParts.length > 1) {\n                var selectorModifier = selectorParts.shift();\n                var selectorItem = selectorParts.shift();\n                if (selectorModifier === \".\") {\n                    element = element.classed(selectorItem, true);\n                } else if (selectorModifier === \"#\") {\n                    element = element.attr('id', selectorItem);\n                }\n            }\n            return element;\n        }\n    }, {\n        key: 'insertSelector',\n        value: function insertSelector(parent, selector, before) {\n            return Utils.insertOrAppendSelector(parent, selector, \"insert\", before);\n        }\n    }, {\n        key: 'appendSelector',\n        value: function appendSelector(parent, selector) {\n            return Utils.insertOrAppendSelector(parent, selector, \"append\");\n        }\n    }, {\n        key: 'selectOrAppend',\n        value: function selectOrAppend(parent, selector, element) {\n            var selection = parent.select(selector);\n            if (selection.empty()) {\n                if (element) {\n                    return parent.append(element);\n                }\n                return Utils.appendSelector(parent, selector);\n            }\n            return selection;\n        }\n    }, {\n        key: 'selectOrInsert',\n        value: function selectOrInsert(parent, selector, before) {\n            var selection = parent.select(selector);\n            if (selection.empty()) {\n                return Utils.insertSelector(parent, selector, before);\n            }\n            return selection;\n        }\n    }, {\n        key: 'linearGradient',\n        value: function linearGradient(svg, gradientId, range, x1, y1, x2, y2) {\n            var defs = Utils.selectOrAppend(svg, \"defs\");\n            var linearGradient = defs.append(\"linearGradient\").attr(\"id\", gradientId);\n\n            linearGradient.attr(\"x1\", x1 + \"%\").attr(\"y1\", y1 + \"%\").attr(\"x2\", x2 + \"%\").attr(\"y2\", y2 + \"%\");\n\n            //Append multiple color stops by using D3's data/enter step\n            var stops = linearGradient.selectAll(\"stop\").data(range);\n\n            var stopsMerge = stops.enter().append(\"stop\").merge(stops);\n\n            stopsMerge.attr(\"offset\", function (d, i) {\n                return i / (range.length - 1);\n            }).attr(\"stop-color\", function (d) {\n                return d;\n            });\n\n            stops.exit().remove();\n        }\n    }, {\n        key: 'guid',\n        value: function guid() {\n            function s4() {\n                return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n            }\n\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n        }\n\n        //places textString in textObj, adds an ellipsis if text can't fit in width\n\n    }, {\n        key: 'placeTextWithEllipsis',\n        value: function placeTextWithEllipsis(textD3Obj, textString, width) {\n            var textObj = textD3Obj.node();\n            textObj.textContent = textString;\n\n            var margin = 0;\n            var ellipsisLength = 9;\n            //ellipsis is needed\n            if (textObj.getComputedTextLength() > width + margin) {\n                for (var x = textString.length - 3; x > 0; x -= 1) {\n                    if (textObj.getSubStringLength(0, x) + ellipsisLength <= width + margin) {\n                        textObj.textContent = textString.substring(0, x) + \"...\";\n                        return true;\n                    }\n                }\n                textObj.textContent = \"...\"; //can't place at all\n                return true;\n            }\n            return false;\n        }\n    }, {\n        key: 'placeTextWithEllipsisAndTooltip',\n        value: function placeTextWithEllipsisAndTooltip(textD3Obj, textString, width, tooltip) {\n            var ellipsisPlaced = Utils.placeTextWithEllipsis(textD3Obj, textString, width);\n            if (ellipsisPlaced && tooltip) {\n                textD3Obj.on(\"mouseover\", function (d) {\n                    tooltip.transition().duration(200).style(\"opacity\", .9);\n                    tooltip.html(textString).style(\"left\", d3.event.pageX + 5 + \"px\").style(\"top\", d3.event.pageY - 28 + \"px\");\n                });\n\n                textD3Obj.on(\"mouseout\", function (d) {\n                    tooltip.transition().duration(500).style(\"opacity\", 0);\n                });\n            }\n        }\n    }, {\n        key: 'getFontSize',\n        value: function getFontSize(element) {\n            return window.getComputedStyle(element, null).getPropertyValue(\"font-size\");\n        }\n    }, {\n        key: 'capitalizeFirstLetter',\n        value: function capitalizeFirstLetter(string) {\n            return string.charAt(0).toUpperCase() + string.slice(1);\n        }\n    }, {\n        key: 'createScale',\n        value: function createScale(scaleName) {\n            var scaleFunctionName = 'scale' + Utils.capitalizeFirstLetter(scaleName);\n            try {\n                return d3[scaleFunctionName]();\n            } catch (e) {\n                throw 'ODC-D3 - scale not supported: ' + scaleName + ' (' + scaleFunctionName + ')';\n            }\n        }\n    }, {\n        key: 'createAxis',\n        value: function createAxis(orient, scale) {\n            var axisFnName = 'axis' + Utils.capitalizeFirstLetter(orient);\n            try {\n                return d3[axisFnName](scale);\n            } catch (e) {\n                throw 'ODC-D3 - axis orient not supported: ' + orient;\n            }\n        }\n    }]);\n\n    return Utils;\n}();\n\nUtils.SQRT_2 = 1.41421356237;\n\nUtils.sanitizeHeight = function (height, container) {\n    return height || parseInt(container.style('height'), 10) || 400;\n};\n\nUtils.sanitizeWidth = function (width, container) {\n    return width || parseInt(container.style('width'), 10) || 960;\n};\n\nUtils.availableHeight = function (height, container, margin) {\n    return Math.max(0, Utils.sanitizeHeight(height, container) - margin.top - margin.bottom);\n};\n\nUtils.availableWidth = function (width, container, margin) {\n    return Math.max(0, Utils.sanitizeWidth(width, container) - margin.left - margin.right);\n};\n\n},{}]},{},[40])(40)\n});\n\n","import helper from './legend';\r\nimport { dispatch } from 'd3-dispatch';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { format } from 'd3-format';\r\n\r\nexport default function color(){\r\n\r\n  let scale = scaleLinear(),\r\n    shape = \"rect\",\r\n    shapeWidth = 15,\r\n    shapeHeight = 15,\r\n    shapeRadius = 10,\r\n    shapePadding = 2,\r\n    cells = [5],\r\n    labels = [],\r\n    classPrefix = \"\",\r\n    useClass = false,\r\n    title = \"\",\r\n    labelFormat = format(\".01f\"),\r\n    labelOffset = 10,\r\n    labelAlign = \"middle\",\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    path,\r\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n      let cell = svg.select('.' + classPrefix + 'legendCells')\r\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\r\n\r\n      const cellEnter = cell.enter().append(\"g\")\r\n          .attr(\"class\", classPrefix + \"cell\")\r\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\r\n\r\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\r\n\r\n\r\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\r\n\r\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n      cell = cellEnter.merge(cell);\r\n\r\n      // sets placement\r\n      const text = cell.selectAll(\"text\"),\r\n        shapeSize = shapes.nodes().map( d => d.getBBox());\r\n      //sets scale\r\n      //everything is fill except for line which is stroke,\r\n      if (!useClass){\r\n        if (shape == \"line\"){\r\n          shapes.style(\"stroke\", type.feature);\r\n        } else {\r\n          shapes.style(\"fill\", type.feature);\r\n        }\r\n      } else {\r\n        shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`);\r\n      }\r\n\r\n      let cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n        cellTrans = (d,i) => `translate(0, ${i * (shapeSize[i].height + shapePadding)})`;\r\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width + shapeSize[i].x +\r\n          labelOffset)}, ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = (d,i) => `translate(${(i * (shapeSize[i].width + shapePadding))},0)`\r\n        textTrans = (d,i) => `translate(${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\r\n          ${(shapeSize[i].height + shapeSize[i].y + labelOffset + 8)})`;\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, title, classPrefix);\r\n\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shape = function(_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || (_ == \"path\" && (typeof d === 'string')) ){\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function(_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeHeight = function(_) {\r\n    if (!arguments.length) return shapeHeight;\r\n    shapeHeight = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeRadius = function(_) {\r\n    if (!arguments.length) return shapeRadius;\r\n    shapeRadius = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.useClass = function(_) {\r\n    if (!arguments.length) return useClass;\r\n    if (_ === true || _ === false){\r\n      useClass = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function(){\r\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\r\n    return value === legendDispatcher ? legend : value;\r\n  }\r\n\r\n  return legend;\r\n\r\n};\r\n","const d3_identity =  (d) => d\r\n\r\nconst d3_reverse = (arr) => {\r\n  const mirror = [];\r\n  for (let i = 0, l = arr.length; i < l; i++) {\r\n    mirror[i] = arr[l-i-1];\r\n  }\r\n  return mirror;\r\n}\r\n\r\nconst d3_mergeLabels = (gen=[], labels, domain, range) => {\r\n\r\n    if (typeof labels === \"object\"){\r\n      if(labels.length === 0) return gen;\r\n\r\n      let i = labels.length;\r\n      for (; i < gen.length; i++) {\r\n        labels.push(gen[i]);\r\n      }\r\n      return labels;\r\n    } else if (typeof labels === \"function\") {\r\n      const customLabels = []\r\n      const genLength = gen.length\r\n      for (let i=0; i < genLength; i++){\r\n        customLabels.push(labels({\r\n          i,\r\n          genLength,\r\n          generatedLabels : gen,\r\n          domain,\r\n          range }))\r\n      }\r\n      return customLabels\r\n    }\r\n\r\n    return gen;\r\n  }\r\n\r\nconst d3_linearLegend = (scale, cells, labelFormat) => {\r\n  let data = [];\r\n\r\n  if (cells.length > 1){\r\n    data = cells;\r\n\r\n  } else {\r\n    const domain = scale.domain(),\r\n    increment = (domain[domain.length - 1] - domain[0])/(cells - 1)\r\n    let i = 0;\r\n\r\n    for (; i < cells; i++){\r\n      data.push(domain[0] + i*increment);\r\n    }\r\n  }\r\n\r\n  const labels = data.map(labelFormat);\r\n\r\n  return {data: data,\r\n          labels: labels,\r\n          feature: d => scale(d)};\r\n}\r\n\r\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\r\n  const labels = scale.range().map( d => {\r\n    const invert = scale.invertExtent(d);\r\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\r\n  });\r\n\r\n  return {data: scale.range(),\r\n          labels: labels,\r\n          feature: d3_identity\r\n        };\r\n}\r\n\r\nconst d3_ordinalLegend= scale => ({data: scale.domain(),\r\n          labels: scale.domain(),\r\n          feature: d => scale(d) }\r\n)\r\n\r\nconst d3_cellOver = (cellDispatcher, d, obj) => {\r\n  cellDispatcher.call(\"cellover\", obj, d);\r\n}\r\n\r\nconst d3_cellOut = (cellDispatcher, d, obj) => {\r\n  cellDispatcher.call(\"cellout\", obj, d);\r\n}\r\n\r\nconst d3_cellClick = (cellDispatcher, d, obj) => {\r\n  cellDispatcher.call(\"cellclick\", obj, d);\r\n}\r\n\r\n\r\nexport default {\r\n\r\n  d3_drawShapes: (shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) => {\r\n    if (shape === \"rect\"){\r\n        shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\r\n\r\n    } else if (shape === \"circle\") {\r\n        shapes.attr(\"r\", shapeRadius)//.attr(\"cx\", shapeRadius).attr(\"cy\", shapeRadius);\r\n\r\n    } else if (shape === \"line\") {\r\n        shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\r\n\r\n    } else if (shape === \"path\") {\r\n      shapes.attr(\"d\", path);\r\n    }\r\n  },\r\n\r\n  d3_addText: function (svg, enter, labels, classPrefix){\r\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\r\n    svg.selectAll(`g.${classPrefix}cell text.${classPrefix}label`).data(labels).text(d3_identity);\r\n  },\r\n\r\n  d3_calcType: function (scale, ascending, cells, labels, labelFormat, labelDelimiter){\r\n    const type = scale.invertExtent ?\r\n            d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ?\r\n            d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\r\n\r\n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), scale.range());\r\n\r\n    if (ascending) {\r\n      type.labels = d3_reverse(type.labels);\r\n      type.data = d3_reverse(type.data);\r\n    }\r\n\r\n    return type;\r\n  },\r\n\r\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\r\n    cell.attr(\"transform\", cellTrans);\r\n    text.attr(\"transform\", textTrans);\r\n    if (orient === \"horizontal\"){\r\n      text.style(\"text-anchor\", labelAlign);\r\n    }\r\n  },\r\n\r\n  d3_addEvents: function(cells, dispatcher){\r\n      cells.on(\"mouseover.legend\", function (d) { d3_cellOver(dispatcher, d, this); })\r\n          .on(\"mouseout.legend\", function (d) { d3_cellOut(dispatcher, d, this); })\r\n          .on(\"click.legend\", function (d) { d3_cellClick(dispatcher, d, this); });\r\n  },\r\n\r\n  d3_title: (svg, title, classPrefix) => {\r\n    if (title !== \"\"){\r\n\r\n      const titleText = svg.selectAll('text.' + classPrefix + 'legendTitle');\r\n\r\n      titleText.data([title])\r\n        .enter()\r\n        .append('text')\r\n        .attr('class', classPrefix + 'legendTitle');\r\n\r\n        svg.selectAll('text.' + classPrefix + 'legendTitle')\r\n            .text(title)\r\n\r\n      const cellsSvg = svg.select('.' + classPrefix + 'legendCells')\r\n\r\n      const yOffset = svg.select('.' + classPrefix + 'legendTitle').nodes()\r\n          .map(d => d.getBBox().height)[0],\r\n      xOffset = -cellsSvg.nodes().map(function(d) { return d.getBBox().x})[0];\r\n\r\n      cellsSvg.attr('transform', 'translate(' + xOffset + ',' + (yOffset + 10) + ')');\r\n\r\n    }\r\n  }\r\n}\r\n","import helper from './legend';\r\nimport { dispatch } from 'd3-dispatch';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { format } from 'd3-format';\r\nimport { sum, max } from 'd3-array';\r\n\r\nexport default function size(){\r\n\r\n  let scale = scaleLinear(),\r\n    shape = \"rect\",\r\n    shapeWidth = 15,\r\n    shapePadding = 2,\r\n    cells = [5],\r\n    labels = [],\r\n    classPrefix = \"\",\r\n    title = \"\",\r\n    labelFormat = format(\".01f\"),\r\n    labelOffset = 10,\r\n    labelAlign = \"middle\",\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    path,\r\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n      let cell = svg.select('.' + classPrefix + 'legendCells')\r\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\r\n      const cellEnter = cell.enter().append(\"g\")\r\n          .attr(\"class\", classPrefix + \"cell\")\r\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\r\n\r\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      //creates shape\r\n      if (shape === \"line\"){\r\n        helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\r\n        shapes.attr(\"stroke-width\", type.feature);\r\n      } else {\r\n        helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\r\n      }\r\n\r\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\r\n\r\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n      cell = cellEnter.merge(cell);\r\n\r\n      //sets placement\r\n      const text = cell.selectAll(\"text\"),\r\n        shapeSize = shapes.nodes().map(\r\n          (d, i) => {\r\n            const bbox = d.getBBox()\r\n            const stroke = scale(type.data[i]);\r\n\r\n            if (shape === \"line\" && orient === \"horizontal\") {\r\n              bbox.height = bbox.height + stroke;\r\n            } else if (shape === \"line\" && orient === \"vertical\"){\r\n              bbox.width = bbox.width;\r\n            }\r\n\r\n            return bbox;\r\n        });\r\n\r\n      const maxH = max(shapeSize, d => d.height + d.y),\r\n      maxW = max(shapeSize, d => d.width + d.x);\r\n\r\n      let cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n\r\n        cellTrans = (d,i) => {\r\n            const height = sum(shapeSize.slice(0, i + 1 ), d => d.height);\r\n            return `translate(0, ${(height + i*shapePadding)})`};\r\n\r\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\r\n          ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = (d,i) => {\r\n            const width = sum(shapeSize.slice(0, i + 1 ), d => d.width);\r\n            return `translate(${(width + i*shapePadding)},0)`; };\r\n\r\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\r\n              ${(maxH + labelOffset )})`;\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, title, classPrefix);\r\n\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n\r\n  legend.shape = function(_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" ){\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function(_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function(){\r\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\r\n    return value === legendDispatcher ? legend : value;\r\n  }\r\n\r\n  return legend;\r\n\r\n};\r\n","import helper from './legend';\r\nimport { dispatch } from 'd3-dispatch';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { format } from 'd3-format';\r\nimport { max } from 'd3-array';\r\n\r\nexport default function symbol(){\r\n\r\n  let scale = scaleLinear(),\r\n    shape = \"path\",\r\n    shapeWidth = 15,\r\n    shapeHeight = 15,\r\n    shapeRadius = 10,\r\n    shapePadding = 5,\r\n    cells = [5],\r\n    labels = [],\r\n    classPrefix = \"\",\r\n    title = \"\",\r\n    labelFormat = format(\".01f\"),\r\n    labelAlign = \"middle\",\r\n    labelOffset = 10,\r\n    labelDelimiter = \"to\",\r\n    orient = \"vertical\",\r\n    ascending = false,\r\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n    function legend(svg){\r\n\r\n      const type = helper.d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter),\r\n        legendG = svg.selectAll('g').data([scale]);\r\n\r\n      legendG.enter().append('g').attr('class', classPrefix + 'legendCells');\r\n\r\n      let cell = svg.select('.' + classPrefix + 'legendCells')\r\n          .selectAll(\".\" + classPrefix + \"cell\").data(type.data)\r\n      const cellEnter = cell.enter().append(\"g\")\r\n          .attr(\"class\", classPrefix + \"cell\")\r\n      cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\r\n\r\n      const shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape);\r\n\r\n      //add event handlers\r\n      helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n      //remove old shapes\r\n      cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n      helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\r\n      helper.d3_addText( svg, cellEnter, type.labels, classPrefix)\r\n\r\n      // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n      cell = cellEnter.merge(cell);\r\n\r\n      // sets placement\r\n      const text = cell.selectAll(\"text\"),\r\n        shapeSize = shapes.nodes().map( d => d.getBBox());\r\n\r\n      const maxH = max(shapeSize, d => d.height),\r\n      maxW = max(shapeSize, d => d.width);\r\n\r\n      let cellTrans,\r\n      textTrans,\r\n      textAlign = (labelAlign == \"start\") ? 0 : (labelAlign == \"middle\") ? 0.5 : 1;\r\n\r\n      //positions cells and text\r\n      if (orient === \"vertical\"){\r\n        cellTrans = (d,i) => `translate(0, ${(i * (maxH + shapePadding))} )`;\r\n        textTrans = (d,i) => `translate( ${(maxW + labelOffset)},\r\n              ${(shapeSize[i].y + shapeSize[i].height/2 + 5)})`;\r\n\r\n      } else if (orient === \"horizontal\"){\r\n        cellTrans = (d,i) => `translate( ${(i * (maxW + shapePadding))},0)`;\r\n        textTrans = (d,i) => `translate( ${(shapeSize[i].width*textAlign  + shapeSize[i].x)},\r\n              ${(maxH + labelOffset )})`;\r\n      }\r\n\r\n      helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n      helper.d3_title(svg, title, classPrefix);\r\n      cell.transition().style(\"opacity\", 1);\r\n\r\n    }\r\n\r\n\r\n  legend.scale = function(_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function(_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2 ){\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function(_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function(_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function(_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function(_) {\r\n    if (!arguments.length) return labelFormat;\r\n    labelFormat = typeof(_) === 'string' ? format(_) : _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function(_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function(_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function(_){\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function(_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function(_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function(_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function(){\r\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\r\n    return value === legendDispatcher ? legend : value;\r\n  }\r\n\r\n  return legend;\r\n\r\n};\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\r\n *\r\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\r\n * normal distribution with standard deviation sd is within x of the mean.\r\n *\r\n * This function returns a numerical approximation to the exact value.\r\n *\r\n * @param {number} x input\r\n * @return {number} error estimation\r\n * @example\r\n * errorFunction(1).toFixed(2); // => '0.84'\r\n */\r\nfunction errorFunction(x/*: number */)/*: number */ {\r\n    var t = 1 / (1 + 0.5 * Math.abs(x));\r\n    var tau = t * Math.exp(-Math.pow(x, 2) -\r\n        1.26551223 +\r\n        1.00002368 * t +\r\n        0.37409196 * Math.pow(t, 2) +\r\n        0.09678418 * Math.pow(t, 3) -\r\n        0.18628806 * Math.pow(t, 4) +\r\n        0.27886807 * Math.pow(t, 5) -\r\n        1.13520398 * Math.pow(t, 6) +\r\n        1.48851587 * Math.pow(t, 7) -\r\n        0.82215223 * Math.pow(t, 8) +\r\n        0.17087277 * Math.pow(t, 9));\r\n    if (x >= 0) {\r\n        return 1 - tau;\r\n    } else {\r\n        return tau - 1;\r\n    }\r\n}\r\n\r\nmodule.exports = errorFunction;\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\r\n * is a simple way to find a fitted line\r\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\r\n * using the least sum of squares.\r\n *\r\n * @param {Array<Array<number>>} data an array of two-element of arrays,\r\n * like `[[0, 1], [2, 3]]`\r\n * @returns {Object} object containing slope and intersect of regression line\r\n * @example\r\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\r\n */\r\nfunction linearRegression(data/*: Array<Array<number>> */)/*: { m: number, b: number } */ {\r\n\r\n    var m, b;\r\n\r\n    // Store data length in a local variable to reduce\r\n    // repeated object property lookups\r\n    var dataLength = data.length;\r\n\r\n    //if there's only one point, arbitrarily choose a slope of 0\r\n    //and a y-intercept of whatever the y of the initial point is\r\n    if (dataLength === 1) {\r\n        m = 0;\r\n        b = data[0][1];\r\n    } else {\r\n        // Initialize our sums and scope the `m` and `b`\r\n        // variables that define the line.\r\n        var sumX = 0, sumY = 0,\r\n            sumXX = 0, sumXY = 0;\r\n\r\n        // Use local variables to grab point values\r\n        // with minimal object property lookups\r\n        var point, x, y;\r\n\r\n        // Gather the sum of all x values, the sum of all\r\n        // y values, and the sum of x^2 and (x*y) for each\r\n        // value.\r\n        //\r\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\r\n        for (var i = 0; i < dataLength; i++) {\r\n            point = data[i];\r\n            x = point[0];\r\n            y = point[1];\r\n\r\n            sumX += x;\r\n            sumY += y;\r\n\r\n            sumXX += x * x;\r\n            sumXY += x * y;\r\n        }\r\n\r\n        // `m` is the slope of the regression line\r\n        m = ((dataLength * sumXY) - (sumX * sumY)) /\r\n            ((dataLength * sumXX) - (sumX * sumX));\r\n\r\n        // `b` is the y-intercept of the line.\r\n        b = (sumY / dataLength) - ((m * sumX) / dataLength);\r\n    }\r\n\r\n    // Return both values as an object.\r\n    return {\r\n        m: m,\r\n        b: b\r\n    };\r\n}\r\n\r\n\r\nmodule.exports = linearRegression;\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * Given the output of `linearRegression`: an object\r\n * with `m` and `b` values indicating slope and intercept,\r\n * respectively, generate a line function that translates\r\n * x values into y values.\r\n *\r\n * @param {Object} mb object with `m` and `b` members, representing\r\n * slope and intersect of desired line\r\n * @returns {Function} method that computes y-value at any given\r\n * x-value on the line.\r\n * @example\r\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\r\n * l(0) // = 0\r\n * l(2) // = 2\r\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\r\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\r\n */\r\nfunction linearRegressionLine(mb/*: { b: number, m: number }*/)/*: Function */ {\r\n    // Return a function that computes a `y` value for each\r\n    // x value it is given, based on the values of `b` and `a`\r\n    // that we just computed.\r\n    return function(x) {\r\n        return mb.b + (mb.m * x);\r\n    };\r\n}\r\n\r\nmodule.exports = linearRegressionLine;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar sum = require('./sum');\r\n\r\n/**\r\n * The mean, _also known as average_,\r\n * is the sum of all values over the number of values.\r\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\r\n * a method of finding a typical or central value of a set of numbers.\r\n *\r\n * This runs on `O(n)`, linear time in respect to the array\r\n *\r\n * @param {Array<number>} x input values\r\n * @returns {number} mean\r\n * @example\r\n * mean([0, 10]); // => 5\r\n */\r\nfunction mean(x /*: Array<number> */)/*:number*/ {\r\n    // The mean of no numbers is null\r\n    if (x.length === 0) { return NaN; }\r\n\r\n    return sum(x) / x.length;\r\n}\r\n\r\nmodule.exports = mean;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar quantileSorted = require('./quantile_sorted');\r\nvar quickselect = require('./quickselect');\r\n\r\n/**\r\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\r\n * this is a population quantile, since we assume to know the entire\r\n * dataset in this library. This is an implementation of the\r\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\r\n * algorithm from wikipedia.\r\n *\r\n * Sample is a one-dimensional array of numbers,\r\n * and p is either a decimal number from 0 to 1 or an array of decimal\r\n * numbers from 0 to 1.\r\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\r\n * with decimal values.\r\n * When p is an array, the result of the function is also an array containing the appropriate\r\n * quantiles in input order\r\n *\r\n * @param {Array<number>} sample a sample from the population\r\n * @param {number} p the desired quantile, as a number between 0 and 1\r\n * @returns {number} quantile\r\n * @example\r\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\r\n */\r\nfunction quantile(sample /*: Array<number> */, p /*: Array<number> | number */) {\r\n    var copy = sample.slice();\r\n\r\n    if (Array.isArray(p)) {\r\n        // rearrange elements so that each element corresponding to a requested\r\n        // quantile is on a place it would be if the array was fully sorted\r\n        multiQuantileSelect(copy, p);\r\n        // Initialize the result array\r\n        var results = [];\r\n        // For each requested quantile\r\n        for (var i = 0; i < p.length; i++) {\r\n            results[i] = quantileSorted(copy, p[i]);\r\n        }\r\n        return results;\r\n    } else {\r\n        var idx = quantileIndex(copy.length, p);\r\n        quantileSelect(copy, idx, 0, copy.length - 1);\r\n        return quantileSorted(copy, p);\r\n    }\r\n}\r\n\r\nfunction quantileSelect(arr, k, left, right) {\r\n    if (k % 1 === 0) {\r\n        quickselect(arr, k, left, right);\r\n    } else {\r\n        k = Math.floor(k);\r\n        quickselect(arr, k, left, right);\r\n        quickselect(arr, k + 1, k + 1, right);\r\n    }\r\n}\r\n\r\nfunction multiQuantileSelect(arr, p) {\r\n    var indices = [0];\r\n    for (var i = 0; i < p.length; i++) {\r\n        indices.push(quantileIndex(arr.length, p[i]));\r\n    }\r\n    indices.push(arr.length - 1);\r\n    indices.sort(compare);\r\n\r\n    var stack = [0, indices.length - 1];\r\n\r\n    while (stack.length) {\r\n        var r = Math.ceil(stack.pop());\r\n        var l = Math.floor(stack.pop());\r\n        if (r - l <= 1) continue;\r\n\r\n        var m = Math.floor((l + r) / 2);\r\n        quantileSelect(arr, indices[m], indices[l], indices[r]);\r\n\r\n        stack.push(l, m, m, r);\r\n    }\r\n}\r\n\r\nfunction compare(a, b) {\r\n    return a - b;\r\n}\r\n\r\nfunction quantileIndex(len /*: number */, p /*: number */)/*:number*/ {\r\n    var idx = len * p;\r\n    if (p === 1) {\r\n        // If p is 1, directly return the last index\r\n        return len - 1;\r\n    } else if (p === 0) {\r\n        // If p is 0, directly return the first index\r\n        return 0;\r\n    } else if (idx % 1 !== 0) {\r\n        // If index is not integer, return the next index in array\r\n        return Math.ceil(idx) - 1;\r\n    } else if (len % 2 === 0) {\r\n        // If the list has even-length, we'll return the middle of two indices\r\n        // around quantile to indicate that we need an average value of the two\r\n        return idx - 0.5;\r\n    } else {\r\n        // Finally, in the simple case of an integer index\r\n        // with an odd-length list, return the index\r\n        return idx;\r\n    }\r\n}\r\n\r\nmodule.exports = quantile;\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * This is the internal implementation of quantiles: when you know\r\n * that the order is sorted, you don't need to re-sort it, and the computations\r\n * are faster.\r\n *\r\n * @param {Array<number>} sample input data\r\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\r\n * @returns {number} quantile value\r\n * @example\r\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\r\n */\r\nfunction quantileSorted(sample /*: Array<number> */, p /*: number */)/*:number*/ {\r\n    var idx = sample.length * p;\r\n    if (p < 0 || p > 1) {\r\n        return NaN;\r\n    } else if (p === 1) {\r\n        // If p is 1, directly return the last element\r\n        return sample[sample.length - 1];\r\n    } else if (p === 0) {\r\n        // If p is 0, directly return the first element\r\n        return sample[0];\r\n    } else if (idx % 1 !== 0) {\r\n        // If p is not integer, return the next element in array\r\n        return sample[Math.ceil(idx) - 1];\r\n    } else if (sample.length % 2 === 0) {\r\n        // If the list has even-length, we'll take the average of this number\r\n        // and the next value, if there is one\r\n        return (sample[idx - 1] + sample[idx]) / 2;\r\n    } else {\r\n        // Finally, in the simple case of an integer value\r\n        // with an odd-length list, return the sample value at the index.\r\n        return sample[idx];\r\n    }\r\n}\r\n\r\nmodule.exports = quantileSorted;\r\n","'use strict';\r\n/* @flow */\r\n\r\nmodule.exports = quickselect;\r\n\r\n/**\r\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\r\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\r\n *\r\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\r\n *\r\n * @private\r\n * @param {Array<number>} arr input array\r\n * @param {number} k pivot index\r\n * @param {number} left left index\r\n * @param {number} right right index\r\n * @returns {undefined}\r\n * @example\r\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\r\n * quickselect(arr, 8);\r\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\r\n */\r\nfunction quickselect(arr /*: Array<number> */, k /*: number */, left /*: number */, right /*: number */) {\r\n    left = left || 0;\r\n    right = right || (arr.length - 1);\r\n\r\n    while (right > left) {\r\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\r\n        if (right - left > 600) {\r\n            var n = right - left + 1;\r\n            var m = k - left + 1;\r\n            var z = Math.log(n);\r\n            var s = 0.5 * Math.exp(2 * z / 3);\r\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n);\r\n            if (m - n / 2 < 0) sd *= -1;\r\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\r\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\r\n            quickselect(arr, k, newLeft, newRight);\r\n        }\r\n\r\n        var t = arr[k];\r\n        var i = left;\r\n        var j = right;\r\n\r\n        swap(arr, left, k);\r\n        if (arr[right] > t) swap(arr, left, right);\r\n\r\n        while (i < j) {\r\n            swap(arr, i, j);\r\n            i++;\r\n            j--;\r\n            while (arr[i] < t) i++;\r\n            while (arr[j] > t) j--;\r\n        }\r\n\r\n        if (arr[left] === t) swap(arr, left, j);\r\n        else {\r\n            j++;\r\n            swap(arr, j, right);\r\n        }\r\n\r\n        if (j <= k) left = j + 1;\r\n        if (k <= j) right = j - 1;\r\n    }\r\n}\r\n\r\nfunction swap(arr, i, j) {\r\n    var tmp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = tmp;\r\n}\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar sampleCovariance = require('./sample_covariance');\r\nvar sampleStandardDeviation = require('./sample_standard_deviation');\r\n\r\n/**\r\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\r\n * a measure of how correlated two datasets are, between -1 and 1\r\n *\r\n * @param {Array<number>} x first input\r\n * @param {Array<number>} y second input\r\n * @returns {number} sample correlation\r\n * @example\r\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\r\n * // => '0.69'\r\n */\r\nfunction sampleCorrelation(x/*: Array<number> */, y/*: Array<number> */)/*:number*/ {\r\n    var cov = sampleCovariance(x, y),\r\n        xstd = sampleStandardDeviation(x),\r\n        ystd = sampleStandardDeviation(y);\r\n\r\n    return cov / xstd / ystd;\r\n}\r\n\r\nmodule.exports = sampleCorrelation;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar mean = require('./mean');\r\n\r\n/**\r\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_sampleCovariance) of two datasets:\r\n * how much do the two datasets move together?\r\n * x and y are two datasets, represented as arrays of numbers.\r\n *\r\n * @param {Array<number>} x first input\r\n * @param {Array<number>} y second input\r\n * @returns {number} sample covariance\r\n * @example\r\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\r\n */\r\nfunction sampleCovariance(x /*:Array<number>*/, y /*:Array<number>*/)/*:number*/ {\r\n\r\n    // The two datasets must have the same length which must be more than 1\r\n    if (x.length <= 1 || x.length !== y.length) {\r\n        return NaN;\r\n    }\r\n\r\n    // determine the mean of each dataset so that we can judge each\r\n    // value of the dataset fairly as the difference from the mean. this\r\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\r\n    // does not suffer because of the difference in absolute values\r\n    var xmean = mean(x),\r\n        ymean = mean(y),\r\n        sum = 0;\r\n\r\n    // for each pair of values, the covariance increases when their\r\n    // difference from the mean is associated - if both are well above\r\n    // or if both are well below\r\n    // the mean, the covariance increases significantly.\r\n    for (var i = 0; i < x.length; i++) {\r\n        sum += (x[i] - xmean) * (y[i] - ymean);\r\n    }\r\n\r\n    // this is Bessels' Correction: an adjustment made to sample statistics\r\n    // that allows for the reduced degree of freedom entailed in calculating\r\n    // values from samples rather than complete populations.\r\n    var besselsCorrection = x.length - 1;\r\n\r\n    // the covariance is weighted by the length of the datasets.\r\n    return sum / besselsCorrection;\r\n}\r\n\r\nmodule.exports = sampleCovariance;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar sampleVariance = require('./sample_variance');\r\n\r\n/**\r\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\r\n * is the square root of the variance.\r\n *\r\n * @param {Array<number>} x input array\r\n * @returns {number} sample standard deviation\r\n * @example\r\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\r\n * // => '2.14'\r\n */\r\nfunction sampleStandardDeviation(x/*:Array<number>*/)/*:number*/ {\r\n    // The standard deviation of no numbers is null\r\n    var sampleVarianceX = sampleVariance(x);\r\n    if (isNaN(sampleVarianceX)) { return NaN; }\r\n    return Math.sqrt(sampleVarianceX);\r\n}\r\n\r\nmodule.exports = sampleStandardDeviation;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\r\n\r\n/*\r\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\r\n * is the sum of squared deviations from the mean. The sample variance\r\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\r\n * instead of dividing the sum of squared deviations by the length of the input,\r\n * it is divided by the length minus one. This corrects the bias in estimating\r\n * a value from a set that you don't know if full.\r\n *\r\n * References:\r\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\r\n *\r\n * @param {Array<number>} x input array\r\n * @return {number} sample variance\r\n * @example\r\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\r\n */\r\nfunction sampleVariance(x /*: Array<number> */)/*:number*/ {\r\n    // The variance of no numbers is null\r\n    if (x.length <= 1) { return NaN; }\r\n\r\n    var sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\r\n\r\n    // this is Bessels' Correction: an adjustment made to sample statistics\r\n    // that allows for the reduced degree of freedom entailed in calculating\r\n    // values from samples rather than complete populations.\r\n    var besselsCorrection = x.length - 1;\r\n\r\n    // Find the mean value of that list\r\n    return sumSquaredDeviationsValue / besselsCorrection;\r\n}\r\n\r\nmodule.exports = sampleVariance;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar variance = require('./variance');\r\n\r\n/**\r\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\r\n * is the square root of the variance. It's useful for measuring the amount\r\n * of variation or dispersion in a set of values.\r\n *\r\n * Standard deviation is only appropriate for full-population knowledge: for\r\n * samples of a population, {@link sampleStandardDeviation} is\r\n * more appropriate.\r\n *\r\n * @param {Array<number>} x input\r\n * @returns {number} standard deviation\r\n * @example\r\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\r\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\r\n */\r\nfunction standardDeviation(x /*: Array<number> */)/*:number*/ {\r\n    // The standard deviation of no numbers is null\r\n    var v = variance(x);\r\n    if (isNaN(v)) { return 0; }\r\n    return Math.sqrt(v);\r\n}\r\n\r\nmodule.exports = standardDeviation;\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * Our default sum is the [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm) is\r\n * a method for computing the sum of a list of numbers while correcting\r\n * for floating-point errors. Traditionally, sums are calculated as many\r\n * successive additions, each one with its own floating-point roundoff. These\r\n * losses in precision add up as the number of numbers increases. This alternative\r\n * algorithm is more accurate than the simple way of calculating sums by simple\r\n * addition.\r\n *\r\n * This runs on `O(n)`, linear time in respect to the array\r\n *\r\n * @param {Array<number>} x input\r\n * @return {number} sum of all input numbers\r\n * @example\r\n * sum([1, 2, 3]); // => 6\r\n */\r\nfunction sum(x/*: Array<number> */)/*: number */ {\r\n\r\n    // like the traditional sum algorithm, we keep a running\r\n    // count of the current sum.\r\n    var sum = 0;\r\n\r\n    // but we also keep three extra variables as bookkeeping:\r\n    // most importantly, an error correction value. This will be a very\r\n    // small number that is the opposite of the floating point precision loss.\r\n    var errorCompensation = 0;\r\n\r\n    // this will be each number in the list corrected with the compensation value.\r\n    var correctedCurrentValue;\r\n\r\n    // and this will be the next sum\r\n    var nextSum;\r\n\r\n    for (var i = 0; i < x.length; i++) {\r\n        // first correct the value that we're going to add to the sum\r\n        correctedCurrentValue = x[i] - errorCompensation;\r\n\r\n        // compute the next sum. sum is likely a much larger number\r\n        // than correctedCurrentValue, so we'll lose precision here,\r\n        // and measure how much precision is lost in the next step\r\n        nextSum = sum + correctedCurrentValue;\r\n\r\n        // we intentionally didn't assign sum immediately, but stored\r\n        // it for now so we can figure out this: is (sum + nextValue) - nextValue\r\n        // not equal to 0? ideally it would be, but in practice it won't:\r\n        // it will be some very small number. that's what we record\r\n        // as errorCompensation.\r\n        errorCompensation = nextSum - sum - correctedCurrentValue;\r\n\r\n        // now that we've computed how much we'll correct for in the next\r\n        // loop, start treating the nextSum as the current sum.\r\n        sum = nextSum;\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nmodule.exports = sum;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar mean = require('./mean');\r\n\r\n/**\r\n * The sum of deviations to the Nth power.\r\n * When n=2 it's the sum of squared deviations.\r\n * When n=3 it's the sum of cubed deviations.\r\n *\r\n * @param {Array<number>} x\r\n * @param {number} n power\r\n * @returns {number} sum of nth power deviations\r\n * @example\r\n * var input = [1, 2, 3];\r\n * // since the variance of a set is the mean squared\r\n * // deviations, we can calculate that with sumNthPowerDeviations:\r\n * var variance = sumNthPowerDeviations(input) / input.length;\r\n */\r\nfunction sumNthPowerDeviations(x/*: Array<number> */, n/*: number */)/*:number*/ {\r\n    var meanValue = mean(x),\r\n        sum = 0;\r\n\r\n    for (var i = 0; i < x.length; i++) {\r\n        sum += Math.pow(x[i] - meanValue, n);\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nmodule.exports = sumNthPowerDeviations;\r\n","'use strict';\r\n/* @flow */\r\n\r\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\r\n\r\n/**\r\n * The [variance](http://en.wikipedia.org/wiki/Variance)\r\n * is the sum of squared deviations from the mean.\r\n *\r\n * This is an implementation of variance, not sample variance:\r\n * see the `sampleVariance` method if you want a sample measure.\r\n *\r\n * @param {Array<number>} x a population\r\n * @returns {number} variance: a value greater than or equal to zero.\r\n * zero indicates that all values are identical.\r\n * @example\r\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\r\n */\r\nfunction variance(x/*: Array<number> */)/*:number*/ {\r\n    // The variance of no numbers is null\r\n    if (x.length === 0) { return NaN; }\r\n\r\n    // Find the mean of squared deviations between the\r\n    // mean value and each value.\r\n    return sumNthPowerDeviations(x, 2) / x.length;\r\n}\r\n\r\nmodule.exports = variance;\r\n","'use strict';\r\n/* @flow */\r\n\r\n/**\r\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\r\n *\r\n * The standard score is the number of standard deviations an observation\r\n * or datum is above or below the mean. Thus, a positive standard score\r\n * represents a datum above the mean, while a negative standard score\r\n * represents a datum below the mean. It is a dimensionless quantity\r\n * obtained by subtracting the population mean from an individual raw\r\n * score and then dividing the difference by the population standard\r\n * deviation.\r\n *\r\n * The z-score is only defined if one knows the population parameters;\r\n * if one only has a sample set, then the analogous computation with\r\n * sample mean and sample standard deviation yields the\r\n * Student's t-statistic.\r\n *\r\n * @param {number} x\r\n * @param {number} mean\r\n * @param {number} standardDeviation\r\n * @return {number} z score\r\n * @example\r\n * zScore(78, 80, 5); // => -0.4\r\n */\r\nfunction zScore(x/*:number*/, mean/*:number*/, standardDeviation/*:number*/)/*:number*/ {\r\n    return (x - mean) / standardDeviation;\r\n}\r\n\r\nmodule.exports = zScore;\r\n","// https://d3js.org/d3-array/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  var array = Array.prototype;\n\n  var slice = array.slice;\n  var map = array.map;\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      for (i = 0; i < n; ++i) {\n        values[i] = value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = xz[0],\n          x1 = xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, tz);\n\n      // Remove any thresholds outside the domain.\n      var m = tz.length;\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values = map.call(values, number).sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-collection/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nvar nest = function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) return rollup != null\n        ? rollup(array) : (sortValues != null\n        ? array.sort(sortValues)\n        : array);\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map$$1, depth) {\n    if (++depth > keys.length) return map$$1;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map$$1.entries();\n    else array = [], map$$1.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n};\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map$$1, key, value) {\n  map$$1.set(key, value);\n}\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nvar keys = function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n};\n\nvar values = function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n};\n\nvar entries = function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n};\n\nexports.nest = nest;\nexports.set = set;\nexports.map = map;\nexports.keys = keys;\nexports.values = values;\nexports.entries = entries;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-color/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar define = function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n};\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\";\nvar reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\";\nvar reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\";\nvar reHex3 = /^#([0-9a-f]{3})$/;\nvar reHex6 = /^#([0-9a-f]{6})$/;\nvar reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\");\nvar reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\");\nvar reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\");\nvar reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\");\nvar reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\");\nvar reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\nvar Kn = 18;\nvar Xn = 0.950470;\nvar Yn = 1;\nvar Zn = 1.088830;\nvar t0 = 4 / 29;\nvar t1 = 6 / 29;\nvar t2 = 3 * t1 * t1;\nvar t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n\nvar A = -0.14861;\nvar B = +1.78277;\nvar C = -0.29227;\nvar D = -0.90649;\nvar E = +1.97294;\nvar ED = E * D;\nvar EB = E * B;\nvar BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nexports.color = color;\nexports.rgb = rgb;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.hcl = hcl;\nexports.cubehelix = cubehelix;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-dispatch/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  var noop = {value: function() {}};\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {type: t, name: name};\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n        else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n      }\n\n      return this;\n    },\n    copy: function() {\n      var copy = {}, _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({name: name, value: callback});\n    return type;\n  }\n\n  exports.dispatch = dispatch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-format/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  }\n\n  function exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  }\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  }\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  }\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  }\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  }\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity(x) {\n    return x;\n  }\n\n  function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i, n, c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            i = -1, n = value.length;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer value part that can be\n          // grouped, and fractional or exponential suffix part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      }\n\n      format.toString = function() {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  }\n\n  var locale;\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale = formatLocale(definition);\n    exports.format = locale.format;\n    exports.formatPrefix = locale.formatPrefix;\n    return locale;\n  }\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n  }\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n  }\n\n  function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n  }\n\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatLocale = formatLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-interpolate/ Version 1.1.3. Copyright 2017 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Color) { 'use strict';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nvar basis$1 = function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar basisClosed = function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n};\n\nvar constant = function(x) {\n  return function() {\n    return x;\n  };\n};\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb$1 = ((function rgbGamma(y) {\n  var color$$1 = gamma(y);\n\n  function rgb$$1(start, end) {\n    var r = color$$1((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),\n        g = color$$1(start.g, end.g),\n        b = color$$1(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$$1.gamma = rgbGamma;\n\n  return rgb$$1;\n}))(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color$$1;\n    for (i = 0; i < n; ++i) {\n      color$$1 = d3Color.rgb(colors[i]);\n      r[i] = color$$1.r || 0;\n      g[i] = color$$1.g || 0;\n      b[i] = color$$1.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color$$1.opacity = 1;\n    return function(t) {\n      color$$1.r = r(t);\n      color$$1.g = g(t);\n      color$$1.b = b(t);\n      return color$$1 + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nvar array = function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n};\n\nvar date = function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n};\n\nvar number = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n};\n\nvar object = function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n};\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g;\nvar reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nvar string = function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n};\n\nvar value = function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, rgb$1) : string)\n      : b instanceof d3Color.color ? rgb$1\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : isNaN(b) ? object\n      : number)(a, b);\n};\n\nvar round = function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n};\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nvar decompose = function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n};\n\nvar cssNode;\nvar cssRoot;\nvar cssView;\nvar svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2;\nvar rho2 = 2;\nvar rho4 = 4;\nvar epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nvar zoom = function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n};\n\nfunction hsl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$2 = hsl$1(hue);\nvar hslLong = hsl$1(nogamma);\n\nfunction lab$1(start, end) {\n  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl$1(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$2 = hcl$1(hue);\nvar hclLong = hcl$1(nogamma);\n\nfunction cubehelix$1(hue$$1) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix$$1(start, end) {\n      var h = hue$$1((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix$$1.gamma = cubehelixGamma;\n\n    return cubehelix$$1;\n  })(1);\n}\n\nvar cubehelix$2 = cubehelix$1(hue);\nvar cubehelixLong = cubehelix$1(nogamma);\n\nvar quantize = function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n};\n\nexports.interpolate = value;\nexports.interpolateArray = array;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateDate = date;\nexports.interpolateNumber = number;\nexports.interpolateObject = object;\nexports.interpolateRound = round;\nexports.interpolateString = string;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = zoom;\nexports.interpolateRgb = rgb$1;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateHsl = hsl$2;\nexports.interpolateHslLong = hslLong;\nexports.interpolateLab = lab$1;\nexports.interpolateHcl = hcl$2;\nexports.interpolateHclLong = hclLong;\nexports.interpolateCubehelix = cubehelix$2;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.quantize = quantize;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-scale/ Version 1.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-collection'), require('d3-interpolate'), require('d3-format'), require('d3-time'), require('d3-time-format'), require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-collection', 'd3-interpolate', 'd3-format', 'd3-time', 'd3-time-format', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3,global.d3,global.d3));\n}(this, function (exports,d3Array,d3Collection,d3Interpolate,d3Format,d3Time,d3TimeFormat,d3Color) { 'use strict';\n\n  var array = Array.prototype;\n\n  var map$1 = array.map;\n  var slice = array.slice;\n\n  var implicit = {name: \"implicit\"};\n\n  function ordinal(range) {\n    var index = d3Collection.map(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice.call(range);\n\n    function scale(d) {\n      var key = d + \"\", i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = d3Collection.map();\n      var i = -1, n = _.length, d, key;\n      while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      return scale;\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function(_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function() {\n      return ordinal()\n          .domain(domain)\n          .range(range)\n          .unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range[1] < range[0],\n          start = range[reverse - 0],\n          stop = range[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = d3Array.range(n).map(function(i) { return start + step * i; });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function() {\n      return bandwidth;\n    };\n\n    scale.step = function() {\n      return step;\n    };\n\n    scale.round = function(_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function(_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function(_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function(_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function(_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function() {\n      return band()\n          .domain(domain())\n          .range(range)\n          .round(round)\n          .paddingInner(paddingInner)\n          .paddingOuter(paddingOuter)\n          .align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function() {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point() {\n    return pointish(band().paddingInner(1));\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  var unit = [0, 1];\n\n  function deinterpolate(a, b) {\n    return (b -= (a = +a))\n        ? function(x) { return (x - a) / b; }\n        : constant(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function(a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate) {\n    return function(a, b) {\n      var r = reinterpolate(a = +a, b = +b);\n      return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n    else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n    return function(x) { return r0(d0(x)); };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate(range[i], range[i + 1]);\n    }\n\n    return function(x) {\n      var i = d3Array.bisect(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate$$, reinterpolate) {\n    var domain = unit,\n        range = unit,\n        interpolate = d3Interpolate.interpolate,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate$$) : deinterpolate$$, interpolate)))(+x);\n    }\n\n    scale.invert = function(y) {\n      return (input || (input = piecewise(range, domain, deinterpolate, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), rescale()) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = slice.call(_), interpolate = d3Interpolate.interpolateRound, rescale();\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function(_) {\n      return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n\n    return rescale();\n  }\n\n  function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = d3Array.tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = d3Format.formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\": {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionPrefix(step, value))) specifier.precision = precision;\n        return d3Format.formatPrefix(specifier, value);\n      }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n      case \"f\":\n      case \"%\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n    }\n    return d3Format.format(specifier);\n  }\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function(count) {\n      var d = domain();\n      return d3Array.ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function(count) {\n      var d = domain(),\n          i = d.length - 1,\n          n = count == null ? 10 : count,\n          start = d[0],\n          stop = d[i],\n          step = d3Array.tickStep(start, stop, n);\n\n      if (step) {\n        step = d3Array.tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n        d[0] = Math.floor(start / step) * step;\n        d[i] = Math.ceil(stop / step) * step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear() {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber);\n\n    scale.copy = function() {\n      return copy(scale, linear());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), scale) : domain.slice();\n    };\n\n    scale.copy = function() {\n      return identity().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  }\n\n  function deinterpolate$1(a, b) {\n    return (b = Math.log(b / a))\n        ? function(x) { return Math.log(x / a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    return a < 0\n        ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n        : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10\n        : base === Math.E ? Math.exp\n        : function(x) { return Math.pow(base, x); };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log\n        : base === 10 && Math.log10\n        || base === 2 && Math.log2\n        || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n  }\n\n  function reflect(f) {\n    return function(x) {\n      return -f(-x);\n    };\n  }\n\n  function log() {\n    var scale = continuous(deinterpolate$1, reinterpolate).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function(_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function(count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = d3Array.ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = d3Format.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function(d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function() {\n      return domain(nice(domain(), {\n        floor: function(x) { return pows(Math.floor(logs(x))); },\n        ceil: function(x) { return pows(Math.ceil(logs(x))); }\n      }));\n    };\n\n    scale.copy = function() {\n      return copy(scale, log().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise(b, exponent) - (a = raise(a, exponent)))\n          ? function(x) { return (raise(x, exponent) - a) / b; }\n          : constant(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise(b, exponent) - (a = raise(a, exponent));\n      return function(t) { return raise(a + b * t, 1 / exponent); };\n    }\n\n    scale.exponent = function(_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function() {\n      return copy(scale, pow().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt() {\n    return pow().exponent(0.5);\n  }\n\n  function quantile$1() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0, n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) thresholds[i - 1] = d3Array.quantile(domain, i / n);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3Array.bisect(thresholds, x)];\n    }\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [\n        i > 0 ? thresholds[i - 1] : domain[0],\n        i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      domain.sort(d3Array.ascending);\n      return rescale();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function() {\n      return thresholds.slice();\n    };\n\n    scale.copy = function() {\n      return quantile$1()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      return scale;\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN]\n          : i < 1 ? [x0, domain[0]]\n          : i >= n ? [domain[n - 1], x1]\n          : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return quantize()\n          .domain([x0, x1])\n          .range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return threshold()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  var durationSecond = 1000;\n  var durationMinute = durationSecond * 60;\n  var durationHour = durationMinute * 60;\n  var durationDay = durationHour * 24;\n  var durationWeek = durationDay * 7;\n  var durationMonth = durationDay * 30;\n  var durationYear = durationDay * 365;\n  function date(t) {\n    return new Date(t);\n  }\n\n  function number$1(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [\n      [second,  1,      durationSecond],\n      [second,  5,  5 * durationSecond],\n      [second, 15, 15 * durationSecond],\n      [second, 30, 30 * durationSecond],\n      [minute,  1,      durationMinute],\n      [minute,  5,  5 * durationMinute],\n      [minute, 15, 15 * durationMinute],\n      [minute, 30, 30 * durationMinute],\n      [  hour,  1,      durationHour  ],\n      [  hour,  3,  3 * durationHour  ],\n      [  hour,  6,  6 * durationHour  ],\n      [  hour, 12, 12 * durationHour  ],\n      [   day,  1,      durationDay   ],\n      [   day,  2,  2 * durationDay   ],\n      [  week,  1,      durationWeek  ],\n      [ month,  1,      durationMonth ],\n      [ month,  3,  3 * durationMonth ],\n      [  year,  1,      durationYear  ]\n    ];\n\n    function tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval === \"number\") {\n        var target = Math.abs(stop - start) / interval,\n            i = d3Array.bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = d3Array.tickStep(start / durationYear, stop / durationYear, interval);\n          interval = year;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval = i[0];\n        } else {\n          step = d3Array.tickStep(start, stop, interval);\n          interval = millisecond;\n        }\n      }\n\n      return step == null ? interval : interval.every(step);\n    }\n\n    scale.invert = function(y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? domain(map$1.call(_, number$1)) : domain().map(date);\n    };\n\n    scale.ticks = function(interval, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var d = domain();\n      return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n          ? domain(nice(d, interval))\n          : scale;\n    };\n\n    scale.copy = function() {\n      return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n\n    return scale;\n  }\n\n  function time() {\n    return calendar(d3Time.timeYear, d3Time.timeMonth, d3Time.timeWeek, d3Time.timeDay, d3Time.timeHour, d3Time.timeMinute, d3Time.timeSecond, d3Time.timeMillisecond, d3TimeFormat.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  }\n\n  function utcTime() {\n    return calendar(d3Time.utcYear, d3Time.utcMonth, d3Time.utcWeek, d3Time.utcDay, d3Time.utcHour, d3Time.utcMinute, d3Time.utcSecond, d3Time.utcMillisecond, d3TimeFormat.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  }\n\n  function colors(s) {\n    return s.match(/.{6}/g).map(function(x) {\n      return \"#\" + x;\n    });\n  }\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$1 = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(300, 0.5, 0.0), d3Color.cubehelix(-240, 0.5, 1.0));\n\n  var warm = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(-100, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var cool = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(260, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var rainbow = d3Color.cubehelix();\n\n  function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  }\n\n  function ramp(range) {\n    var n = range.length;\n    return function(t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function(_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function() {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  exports.scaleBand = band;\n  exports.scalePoint = point;\n  exports.scaleIdentity = identity;\n  exports.scaleLinear = linear;\n  exports.scaleLog = log;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow;\n  exports.scaleSqrt = sqrt;\n  exports.scaleQuantile = quantile$1;\n  exports.scaleQuantize = quantize;\n  exports.scaleThreshold = threshold;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.interpolateCubehelixDefault = cubehelix$1;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.scaleSequential = sequential;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-time-format/ Version 2.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"};\nvar numberRe = /^\\s*\\d+/;\nvar percentRe = /^%/;\nvar requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nvar locale$1;\n\n\n\n\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale$1 = formatLocale(definition);\n  exports.timeFormat = locale$1.format;\n  exports.timeParse = locale$1.parse;\n  exports.utcFormat = locale$1.utcFormat;\n  exports.utcParse = locale$1.utcParse;\n  return locale$1;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time/ Version 1.0.4. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar t0 = new Date;\nvar t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nvar utcYears = utcYear.range;\n\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\n\r\nexport class BarChartConfig extends ChartWithColorGroupsConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'bar-chart';\r\n    showLegend = true;\r\n    showTooltip = true;\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => Utils.isNumber(d) ? d : d[key], // x value accessor\r\n        scale: \"ordinal\",\r\n        orient: \"bottom\",\r\n        ticks: undefined,\r\n    };\r\n    y = {// Y axis config\r\n        key: 1,\r\n        value: (d, key) => Utils.isNumber(d) ? d : d[key], // x value accessor\r\n        title: '', // axis label,\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    transition = true;\r\n\r\n    constructor(custom) {\r\n        super();\r\n        var config = this;\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class BarChart extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BarChartConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new BarChartConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.computePlotSize();\r\n        this.setupY();\r\n        this.setupX();\r\n        this.setupGroupStacks();\r\n        this.setupYDomain();\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n        x.scale = d3.scaleBand().range([0, plot.width]).paddingInner(.08);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n        if (conf.ticks) {\r\n            x.axis.ticks(conf.ticks);\r\n        }\r\n        var data = this.plot.data;\r\n        var domain;\r\n        if (!data || !data.length) {\r\n            domain = [];\r\n        } else if (!this.config.series) {\r\n            domain = d3.map(data, x.value).keys();\r\n        } else {\r\n            domain = d3.map(data[0].values, x.value).keys();\r\n        }\r\n\r\n        plot.x.scale.domain(domain);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.value = d => conf.value(d, conf.key);\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n\r\n    };\r\n\r\n    setupYDomain() {\r\n        var plot = this.plot;\r\n        var data = this.plot.data;\r\n        var domain;\r\n        var yStackMax = d3.max(plot.layers, layer => d3.max(layer.points, d => d.y0 + d.y));\r\n\r\n\r\n        // var min = d3.min(data, s=>d3.min(s.values, plot.y.value));\r\n        var max = yStackMax;\r\n        domain = [0, max];\r\n\r\n        plot.y.scale.domain(domain);\r\n        console.log(' plot.y.scale.domain', plot.y.scale.domain());\r\n    }\r\n\r\n    setupGroupStacks() {\r\n        var self = this;\r\n        this.groupData();\r\n\r\n        var y0s = [];\r\n        this.plot.groupedData.forEach(s=> {\r\n            s.points = s.values.map(v=>self.mapToPoint(v));\r\n            s.points.forEach((p, i)=> {\r\n                var prevY0 = y0s[i];\r\n                if(!prevY0) prevY0 = 0;\r\n                p.y0 = prevY0;\r\n                y0s[i] = p.y+prevY0;\r\n            });\r\n\r\n        });\r\n        this.plot.layers = this.plot.groupedData;\r\n\r\n    }\r\n\r\n    mapToPoint(value) {\r\n        var plot = this.plot;\r\n        return {\r\n            x: plot.x.value(value),\r\n            y: parseFloat(plot.y.value(value))\r\n        }\r\n    }\r\n\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n\r\n    drawBars() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        console.log('layers', plot.layers);\r\n\r\n        var layerClass = this.prefixClass(\"layer\");\r\n\r\n        var barClass = this.prefixClass(\"bar\");\r\n        var layer = self.svgG.selectAll(\".\" + layerClass)\r\n            .data(plot.layers);\r\n\r\n        var layerMerge = layer.enter().append(\"g\")\r\n            .attr(\"class\", layerClass).merge(layer);\r\n\r\n        var bar = layerMerge.selectAll(\".\" + barClass)\r\n            .data(d => d.points);\r\n\r\n        var barEnter = bar.enter().append(\"g\")\r\n            .attr(\"class\", barClass);\r\n        var barRectEnter = barEnter.append(\"rect\")\r\n            .attr(\"x\", 1);\r\n        var barMerge = barEnter.merge(bar);\r\n\r\n        var barRect = barMerge.select(\"rect\");\r\n\r\n        var barRectT = barRect;\r\n        var barT = barMerge;\r\n        var layerT = layerMerge;\r\n        if (this.transitionEnabled()) {\r\n            barRectT = barRect.transition();\r\n            barT = barMerge.transition();\r\n            layerT = layerMerge.transition();\r\n        }\r\n\r\n        barEnter.attr(\"transform\", function (d) {\r\n            return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0)) + \")\";\r\n        });\r\n        var yDomain = plot.y.scale.domain();\r\n        barT.attr(\"transform\", function (d) {\r\n            return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0 + d.y)) + \")\";\r\n        });\r\n        barRectEnter\r\n            .attr(\"width\", plot.x.scale.bandwidth())\r\n            .attr(\"height\", 0);\r\n        barRectT\r\n            .attr(\"width\", plot.x.scale.bandwidth())\r\n            .attr(\"height\", d => plot.y.scale(d.y0) - plot.y.scale(d.y0 + d.y - yDomain[0]));\r\n\r\n\r\n        if (this.plot.seriesColor) {\r\n            layerT\r\n                .attr(\"fill\", this.plot.seriesColor);\r\n        }\r\n\r\n        if (plot.tooltip) {\r\n            barMerge.on(\"mouseover\", d => {\r\n                self.showTooltip(d.y);\r\n            }).on(\"mouseout\", d => {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n        layer.exit().remove();\r\n        bar.exit().remove();\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.drawBars();\r\n        return this;\r\n    };\r\n\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\n\r\nexport class BoxPlotBaseConfig extends ChartConfig{\r\n\r\n    svgClass = this.cssClassPrefix + 'box-plot';\r\n    showTooltip = true;\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        value: s => s.key, // x value accessor\r\n        guides: false, //show axis guides\r\n        orient: 'bottom',\r\n\r\n    };\r\n    y = {// Y axis config\r\n        title: '',\r\n        value: d => d, // y value accessor\r\n        scale: \"linear\",\r\n        orient: 'left',\r\n        domainMargin: 0.1,\r\n        guides: true //show axis guides\r\n    };\r\n    Q1 = d => d.values.Q1;\r\n    Q2 = d => d.values.Q2;\r\n    Q3 = d => d.values.Q3;\r\n    Wl = d => d.values.whiskerLow;\r\n    Wh = d => d.values.whiskerHigh;\r\n    outliers= d=> d.values.outliers;\r\n    outlierValue = (d,i)=> d;\r\n    outlierLabel = (d,i)=> d;\r\n    minBoxWidth = 35;\r\n    maxBoxWidth = 100;\r\n\r\n    transition = true;\r\n    color =  undefined;// string or function returning color's value for color scale\r\n    d3ColorCategory= 'category10';\r\n\r\n    constructor(custom){\r\n        super();\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class BoxPlotBase extends Chart{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BoxPlotBaseConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new BoxPlotBaseConfig(config));\r\n    }\r\n\r\n    initPlot(){\r\n        super.initPlot();\r\n        super.computePlotSize();\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.plot.data = this.getDataToPlot();\r\n        this.setupY();\r\n        this.setupX();\r\n\r\n        this.setupColor();\r\n\r\n    }\r\n\r\n    getDataToPlot() {\r\n        return this.data;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        x.value = conf.value;\r\n        x.scale = d3.scaleBand().range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n        if(conf.guides){\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n        var data = this.plot.data;\r\n        var domain;\r\n        if (!data || !data.length) {\r\n            domain = [];\r\n        } else {\r\n            domain = data.map(x.value);\r\n        }\r\n\r\n        plot.x.scale.domain(domain);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.value = d => conf.value.call(this.config, d);\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n        if (conf.ticks) {\r\n            y.axis.ticks(conf.ticks);\r\n        }\r\n        if(conf.guides){\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n        this.setupYDomain();\r\n    };\r\n\r\n    setupYDomain() {\r\n        var plot = this.plot;\r\n        var data = this.plot.data;\r\n        var c = this.config;\r\n\r\n        var values = [], yMin, yMax;\r\n        data.forEach(function (d, i) {\r\n            let q1 = c.Q1(d), \r\n                q3 = c.Q3(d), \r\n                wl = c.Wl(d), \r\n                wh = c.Wh(d),\r\n                outliers = c.outliers(d);\r\n            \r\n            if (outliers) {\r\n                outliers.forEach(function (o, i) {\r\n                    values.push(c.outlierValue(o, i));\r\n                });\r\n            }\r\n            if (wl) { values.push(wl) }\r\n            if (q1) { values.push(q1) }\r\n            if (q3) { values.push(q3) }\r\n            if (wh) { values.push(wh) }\r\n        });\r\n        yMin = d3.min(values);\r\n        yMax = d3.max(values);\r\n        var margin = (yMax-yMin)* this.config.y.domainMargin;\r\n        yMin-=margin;\r\n        yMax+=margin;\r\n        var domain = [ yMin, yMax ] ;\r\n\r\n        plot.y.scale.domain(domain);\r\n    }\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\"+self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\"+ (plot.width/2) +\",\"+ (plot.margin.bottom) +\")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.label);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawBoxPlots() {\r\n        var self = this,\r\n            plot = self.plot,\r\n            config = self.config,\r\n            boxplotClass = self.prefixClass(\"boxplot-item\")\r\n        \r\n        var boxplots = self.svgG.selectAll('.'+boxplotClass).data(plot.data);\r\n        var boxplotEnter = boxplots.enter()\r\n            .append('g')\r\n            .attr('class', boxplotClass)\r\n            .style('stroke-opacity', 1e-6)\r\n            .style('fill-opacity', 1e-6);\r\n\r\n        var boxplotsMerge = boxplotEnter.merge(boxplots);\r\n        var duration = 1000;\r\n        var boxplotsT = boxplotsMerge;\r\n        if (self.transitionEnabled()) {\r\n            boxplotsT = boxplotsMerge.transition();\r\n            boxplotsT.delay(function(d,i) { return i * duration / plot.data.length })\r\n        }\r\n\r\n        boxplotsT\r\n            .style('fill', plot.color)\r\n            .style('stroke-opacity', 1)\r\n            .style('fill-opacity', 0.75)\r\n            .attr('transform', (d,i) =>'translate(' + (plot.x.map(d,i) + plot.x.scale.bandwidth() * 0.05) + ', 0)')\r\n        boxplots.exit().remove();\r\n\r\n        var boxWidth = !config.maxBoxWidth ? plot.x.scale.bandwidth() * 0.9 : Math.min(config.maxBoxWidth, Math.max(config.minBoxWidth, plot.x.scale.bandwidth() * 0.9));\r\n        var boxLeft  = plot.x.scale.bandwidth() * 0.45 - boxWidth/2;\r\n        var boxRight = plot.x.scale.bandwidth() * 0.45 + boxWidth/2;\r\n\r\n        var boxClass = self.prefixClass(\"box\");\r\n\r\n        boxplotEnter.append('rect')\r\n            .attr('class', boxClass)\r\n            // tooltip events\r\n            .on('mouseover', function(d,i) {\r\n                d3.select(this).classed('hover', true);\r\n                var html = 'Q3: '+config.Q3(d,i)+'<br/>Q2: '+config.Q2(d,i)+'<br/>Q1: '+config.Q1(d,i);\r\n                self.showTooltip(html)\r\n            })\r\n            .on('mouseout', function(d,i) {\r\n                d3.select(this).classed('hover', false);\r\n                self.hideTooltip();\r\n            });\r\n\r\n        var boxRects = boxplotsMerge.select('rect.'+boxClass);\r\n\r\n        var boxRectsT = boxRects;\r\n        if (self.config.transition) {\r\n            boxRectsT = boxRects.transition();\r\n        }\r\n\r\n        boxRectsT.attr('y', (d,i) => plot.y.scale(config.Q3(d)))\r\n            .attr('width', boxWidth)\r\n            .attr('x', boxLeft )\r\n            .attr('height', (d,i) => Math.abs(plot.y.scale(config.Q3(d)) - plot.y.scale(config.Q1(d))) || 1)\r\n            .style('stroke', plot.color);\r\n\r\n        // median line\r\n        var medianClass = self.prefixClass('median');\r\n        boxplotEnter.append('line').attr('class', medianClass);\r\n\r\n        var medianLine = boxplotsMerge.select('line.'+medianClass);\r\n        if (self.config.transition) {\r\n            medianLine = medianLine.transition();\r\n        }\r\n        medianLine\r\n            .attr('x1', boxLeft)\r\n            .attr('y1', (d,i) => plot.y.scale(config.Q2(d)))\r\n            .attr('x2', boxRight)\r\n            .attr('y2', (d,i) => plot.y.scale(config.Q2(d)));\r\n\r\n\r\n        //whiskers\r\n\r\n        var whiskerClass= self.prefixClass(\"whisker\"),\r\n            tickClass = self.prefixClass(\"boxplot-tick\");\r\n\r\n        var whiskers = [{key: 'low', value: config.Wl}, {key: 'high', value: config.Wh}];\r\n\r\n        boxplotEnter.each(function(d,i) {\r\n            var box = d3.select(this);\r\n\r\n            whiskers.forEach(f=> {\r\n                if (f.value(d)) {\r\n                    box.append('line')\r\n                        .style('stroke', plot.color(d,i))\r\n                        .attr('class', whiskerClass+' ' + boxplotClass+'-'+f.key);\r\n                    box.append('line')\r\n                        .style('stroke', plot.color(d,i))\r\n                        .attr('class', tickClass+' ' + boxplotClass+'-'+f.key);\r\n                }\r\n            });\r\n        });\r\n\r\n        whiskers.forEach(f => {\r\n            var endpoint = (f.key === 'low') ? config.Q1 : config.Q3;\r\n\r\n            var whisker = boxplotsMerge.select('.'+whiskerClass+'.'+boxplotClass+'-'+f.key);\r\n            var tick = boxplotsMerge.select('.'+tickClass+'.'+boxplotClass+'-'+f.key);\r\n            if (self.config.transition) {\r\n                whisker = whisker.transition();\r\n                tick=tick.transition();\r\n            }\r\n            whisker\r\n                .attr('x1', plot.x.scale.bandwidth() * 0.45 )\r\n                .attr('y1', (d,i) => plot.y.scale(f.value(d)))\r\n                .attr('x2', plot.x.scale.bandwidth() * 0.45 )\r\n                .attr('y2', (d,i) => plot.y.scale(endpoint(d)));\r\n\r\n            tick\r\n                .attr('x1', boxLeft )\r\n                .attr('y1', (d,i) => plot.y.scale(f.value(d)))\r\n                .attr('x2', boxRight )\r\n                .attr('y2', (d,i) => plot.y.scale(f.value(d)));\r\n\r\n            boxplotEnter.selectAll('.'+boxplotClass+'-'+f.key)\r\n                .on('mouseover', function(d,i,j) {\r\n                    d3.select(this).classed('hover', true);\r\n                    self.showTooltip(f.value(d))\r\n                })\r\n                .on('mouseout', function(d,i,j) {\r\n                    d3.select(this).classed('hover', false);\r\n                    self.hideTooltip();\r\n                })\r\n        });\r\n\r\n\r\n        // outliers\r\n        var outlierClass = self.prefixClass(\"outlier\");\r\n        var outliers = boxplotsMerge.selectAll('.'+outlierClass).data((d,i) => config.outliers(d,i) || []);\r\n\r\n        var outlierEnterCircle = outliers.enter().append('circle')\r\n            .attr('class', outlierClass)\r\n            .style('z-index', 9000);\r\n\r\n        outlierEnterCircle\r\n            .on('mouseover', function (d, i, j) {\r\n                d3.select(this).classed('hover', true);\r\n                self.showTooltip(config.outlierLabel(d,i))\r\n            })\r\n            .on('mouseout', function (d, i, j) {\r\n                d3.select(this).classed('hover', false);\r\n                self.hideTooltip();\r\n            });\r\n\r\n        var outliersMerge = outlierEnterCircle.merge(outliers);\r\n        var outliersT = outliersMerge;\r\n        if (self.config.transition) {\r\n            outliersT = outliersMerge.transition();\r\n        }\r\n        outliersT\r\n            .attr('cx', plot.x.scale.bandwidth() * 0.45)\r\n            .attr('cy', (d,i) => plot.y.scale(config.outlierValue(d,i)))\r\n            .attr('r', '3');\r\n        outliers.exit().remove();\r\n\r\n    }\r\n\r\n    update(newData){\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.drawBoxPlots();\r\n        return this;\r\n    };\r\n\r\n    setupColor() {\r\n        var self=this;\r\n        var conf = this.config;\r\n\r\n        if(conf.d3ColorCategory){\r\n            var colorSchemeCategory = 'scheme'+Utils.capitalizeFirstLetter(conf.d3ColorCategory);\r\n            this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\r\n        }\r\n        var colorValue = conf.color;\r\n        if (colorValue && typeof colorValue === 'string' || colorValue instanceof String){\r\n            this.plot.color = colorValue;\r\n        }else if(this.plot.colorCategory){\r\n            self.plot.colorValue=colorValue;\r\n            this.plot.color = d =>  self.plot.colorCategory(this.plot.x.value(d));\r\n        }\r\n    }\r\n}\r\n","import {BoxPlotBase, BoxPlotBaseConfig} from \"./box-plot-base\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\n\r\nexport class BoxPlotConfig extends BoxPlotBaseConfig{\r\n\r\n    svgClass = this.cssClassPrefix + 'box-plot';\r\n    showLegend = true;\r\n    showTooltip = true;\r\n    y = {// Y axis config\r\n        key: undefined,\r\n        value: function(d) { return this.y.key===undefined ? d : d[this.y.key]} , // y value accessor\r\n        scale: \"linear\",\r\n        orient: 'left',\r\n        domainMargin: 0.1,\r\n        guides: true //show axis guides\r\n    };\r\n    series = false;\r\n    groups={\r\n        key: undefined,\r\n        value: function(d) { return this.groups.key===undefined ? '' : d[this.groups.key]}  , // grouping value accessor,\r\n        label: \"\",\r\n        displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\r\n    };\r\n    tukey= false;\r\n    \r\n    constructor(custom){\r\n        super();\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class BoxPlot extends BoxPlotBase{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BoxPlotConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new BoxPlotConfig(config));\r\n    }\r\n\r\n    getDataToPlot(){\r\n        var self = this;\r\n        var conf = self.config;\r\n        self.plot.groupingEnabled = this.isGroupingEnabled();\r\n\r\n        var data = this.data;\r\n        if(!self.plot.groupingEnabled ){\r\n            self.plot.groupedData =  [{\r\n                key: '',\r\n                values: data\r\n            }];\r\n            self.plot.dataLength = data.length;\r\n        }else{\r\n            if(self.config.series){\r\n                self.plot.groupedData =  data.map(s=>{\r\n                    return{\r\n                        key: s.label || s.key || '',\r\n                        values: s.values\r\n                    }\r\n                });\r\n            }else{\r\n                self.plot.groupValue = d => conf.groups.value.call(conf, d);\r\n                self.plot.groupedData = d3.nest().key(this.plot.groupValue).entries(data);\r\n\r\n                var getDisplayValue= k => k;\r\n                if(self.config.groups.displayValue){\r\n                    if(Utils.isFunction(self.config.groups.displayValue)){\r\n                        getDisplayValue = k=>self.config.groups.displayValue(k) || k;\r\n                    }else if(Utils.isObject(self.config.groups.displayValue)){\r\n                        getDisplayValue = k => self.config.groups.displayValue[k] || k;\r\n                    }\r\n                }\r\n                self.plot.groupedData.forEach(g => {\r\n                    g.key = getDisplayValue(g.key);\r\n                });\r\n            }\r\n\r\n            self.plot.dataLength = d3.sum(this.plot.groupedData, s=>s.values.length);\r\n        }\r\n\r\n\r\n        self.plot.groupedData.forEach(s=>{\r\n            if(!Array.isArray(s.values)){\r\n                return;\r\n            }\r\n\r\n            var values = s.values.map(d=>parseFloat(self.config.y.value.call(self.config, d)));\r\n            s.values.Q1 = StatisticsUtils.quantile(values, 0.25);\r\n            s.values.Q2 = StatisticsUtils.quantile(values, 0.5);\r\n            s.values.Q3 = StatisticsUtils.quantile(values, 0.75);\r\n            var IQR =  s.values.Q3 - s.values.Q1;\r\n\r\n            if(!self.config.tukey){\r\n                s.values.whiskerLow = d3.min(values);\r\n                s.values.whiskerHigh = d3.max(values);\r\n            }else{\r\n                s.values.whiskerLow = s.values.Q1 - 1.5*IQR;\r\n                s.values.whiskerHigh = s.values.Q3 + 1.5*IQR;\r\n                s.values.outliers = values.filter(d=> d<s.values.whiskerLow || d>s.values.whiskerHigh);\r\n            }\r\n        });\r\n\r\n        return self.plot.groupedData;\r\n    }\r\n\r\n    isGroupingEnabled(){\r\n        return this.config.series || !!(this.config.groups && this.config.groups.value);\r\n    }\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\n\r\nexport class ChartWithColorGroupsConfig extends ChartConfig{\r\n\r\n    showLegend=true;\r\n    legend={\r\n        width: 80,\r\n        margin: 10,\r\n        shapeWidth: 20\r\n    };\r\n    groups={\r\n        key: 2,\r\n        value: function(d) { return d[this.groups.key]}  , // grouping value accessor,\r\n        label: \"\",\r\n        displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\r\n    };\r\n    series = false;\r\n    color =  undefined;// string or function returning color's value for color scale\r\n    d3ColorCategory= 'category10';\r\n\r\n    constructor(custom){\r\n        super();\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class ChartWithColorGroups extends Chart{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ChartWithColorGroupsConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new ChartWithColorGroupsConfig(config));\r\n    }\r\n\r\n    initPlot(){\r\n        super.initPlot();\r\n        var self=this;\r\n\r\n        var conf = this.config;\r\n       \r\n        this.plot.showLegend = conf.showLegend;\r\n        this.setupGroups();\r\n        this.plot.data = this.getDataToPlot();\r\n        this.groupData();\r\n\r\n        if(this.plot.showLegend){\r\n            var scale = this.plot.colorCategory;\r\n            if(!scale.domain() || scale.domain().length<2){\r\n                this.plot.showLegend = false;\r\n            }else{\r\n                this.plot.margin.right = conf.margin.right + conf.legend.width+conf.legend.margin*2;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    isGroupingEnabled(){\r\n        return this.config.series || !!(this.config.groups && this.config.groups.value);\r\n    }\r\n\r\n    computeGroupColorDomain(){\r\n        var map = d3.set(this.data, d => this.plot.groupValue(d));\r\n        return Object.getOwnPropertyNames(map).map(d=>map[d]);\r\n    }\r\n\r\n    setupGroups() {\r\n        var self=this;\r\n        var conf = this.config;\r\n\r\n        this.plot.groupingEnabled = this.isGroupingEnabled();\r\n        var domain = [];\r\n        if(this.plot.groupingEnabled){\r\n            self.plot.groupToLabel = {};\r\n            if(this.config.series){\r\n                this.plot.groupValue = s => s.key;\r\n                domain = this.computeGroupColorDomain();\r\n\r\n                this.data.forEach(s=>{\r\n                    self.plot.groupToLabel[s.key] = s.label||s.key;\r\n                })\r\n            }else{\r\n                this.plot.groupValue = d => conf.groups.value.call(conf, d);\r\n                domain = this.computeGroupColorDomain();\r\n                var getLabel= k => k;\r\n                if(self.config.groups.displayValue){\r\n                    if(Utils.isFunction(self.config.groups.displayValue)){\r\n                        getLabel = k=>self.config.groups.displayValue(k) || k;\r\n                    }else if(Utils.isObject(self.config.groups.displayValue)){\r\n                        getLabel = k => self.config.groups.displayValue[k] || k;\r\n                    }\r\n                }\r\n                domain.forEach(k=>{\r\n                    self.plot.groupToLabel[k] = getLabel(k);\r\n                })\r\n            }\r\n\r\n        }else{\r\n            this.plot.groupValue = d => null;\r\n        }\r\n        if(conf.d3ColorCategory){\r\n            var colorSchemeCategory = 'scheme'+Utils.capitalizeFirstLetter(conf.d3ColorCategory);\r\n            this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\r\n        }\r\n        var colorValue = conf.color;\r\n        if (colorValue && typeof colorValue === 'string' || colorValue instanceof String){\r\n            this.plot.color = colorValue;\r\n            this.plot.seriesColor = this.plot.color;\r\n        }else if(this.plot.colorCategory){\r\n            self.plot.colorValue=colorValue;\r\n            self.plot.colorCategory.domain(domain);\r\n\r\n            this.plot.seriesColor = s =>  self.plot.colorCategory(s.key);\r\n            this.plot.color = d =>  self.plot.colorCategory(this.plot.groupValue(d));\r\n            \r\n        }else{\r\n            this.plot.color = this.plot.seriesColor = s=> 'black'\r\n        }\r\n\r\n    }\r\n\r\n    groupData(){\r\n        var self=this;\r\n        var data = this.plot.data;\r\n        if(!self.plot.groupingEnabled ){\r\n            self.plot.groupedData =  [{\r\n                key: null,\r\n                label: '',\r\n                values: data\r\n            }];\r\n            self.plot.dataLength = data.length;\r\n        }else{\r\n\r\n            if(self.config.series){\r\n                self.plot.groupedData =  data.map(s=>{\r\n                    return{\r\n                        key: s.key,\r\n                        label: s.label,\r\n                        values: s.values\r\n                    }\r\n                });\r\n            }else{\r\n                self.plot.groupedData = d3.nest().key(this.plot.groupValue).entries(data);\r\n                self.plot.groupedData.forEach(g => {\r\n                    g.label = self.plot.groupToLabel[g.key];\r\n                });\r\n            }\r\n\r\n            self.plot.dataLength = d3.sum(this.plot.groupedData, s=>s.values.length);\r\n        }\r\n\r\n        // this.plot.seriesColor\r\n\r\n    }\r\n\r\n    getDataToPlot(){\r\n        if(!this.plot.groupingEnabled || !this.enabledGroups){\r\n            return this.data;\r\n        }\r\n        return this.data.filter(d => this.enabledGroups.indexOf(this.plot.groupValue(d))>-1);\r\n    }\r\n\r\n\r\n\r\n    update(newData){\r\n        super.update(newData);\r\n        this.updateLegend();\r\n\r\n        return this;\r\n    };\r\n\r\n    updateLegend() {\r\n\r\n        var self =this;\r\n        var plot = this.plot;\r\n\r\n        var scale = plot.colorCategory;\r\n\r\n\r\n\r\n        if(!scale.domain() || scale.domain().length<2){\r\n            plot.showLegend = false;\r\n        }\r\n\r\n        if(!plot.showLegend){\r\n            if(plot.legend && plot.legend.container){\r\n                plot.legend.container.remove();\r\n            }\r\n            return;\r\n        }\r\n\r\n\r\n        var legendX = this.plot.width + this.config.legend.margin;\r\n        var legendY = this.config.legend.margin;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY);\r\n\r\n        plot.legendColor = plot.legend.color()\r\n            .shapeWidth(this.config.legend.shapeWidth)\r\n            .orient('vertical')\r\n            .scale(scale)\r\n            .labels(scale.domain().map(v=>plot.groupToLabel[v]));\r\n\r\n\r\n        plot.legendColor.on('cellclick', c=> self.onLegendCellClick(c));\r\n        \r\n        plot.legend.container\r\n            .call(plot.legendColor);\r\n\r\n        this.updateLegendCellStatuses();\r\n    }\r\n\r\n    onLegendCellClick(cellValue){\r\n        this.updateEnabledGroups(cellValue);\r\n        this.init();\r\n    }\r\n    updateLegendCellStatuses() {\r\n        var self = this;\r\n        this.plot.legend.container.selectAll(\"g.cell\").each(function(cell){\r\n            var isDisabled = self.enabledGroups && self.enabledGroups.indexOf(cell)<0;\r\n            d3.select(this).classed(\"odc-disabled\", isDisabled);\r\n        });\r\n    }\r\n\r\n    updateEnabledGroups(cellValue) {\r\n        if (!this.enabledGroups) {\r\n            this.enabledGroups = this.plot.colorCategory.domain().slice();\r\n        }\r\n        var index = this.enabledGroups.indexOf(cellValue);\r\n\r\n        if (index < 0) {\r\n            this.enabledGroups.push(cellValue);\r\n        } else {\r\n            this.enabledGroups.splice(index, 1);\r\n        }\r\n\r\n        if (!this.enabledGroups.length) {\r\n            this.enabledGroups = this.plot.colorCategory.domain().slice();\r\n        }\r\n\r\n    }\r\n\r\n    setData(data){\r\n        super.setData(data);\r\n        this.enabledGroups = null;\r\n        return this;\r\n    }\r\n}\r\n","import {Utils} from './utils'\r\n\r\n\r\nexport class ChartConfig {\r\n    cssClassPrefix = \"odc-\";\r\n    svgClass = this.cssClassPrefix + 'mw-d3-chart';\r\n    width = undefined;\r\n    height = undefined;\r\n    margin = {\r\n        left: 50,\r\n        right: 30,\r\n        top: 30,\r\n        bottom: 50\r\n    };\r\n    showTooltip = false;\r\n    transition = true;\r\n\r\n    title = undefined;\r\n    titleSize=20;\r\n    titleMargin={\r\n        left: 0,\r\n        right: 0,\r\n        top: 15,\r\n        bottom: 20\r\n    };\r\n\r\n    subtitle = undefined;\r\n    subtitleSize=14;\r\n    subtitleMargin={\r\n        left: 0,\r\n        right: 0,\r\n        top: 10,\r\n        bottom: 20\r\n    };\r\n\r\n    constructor(custom) {\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class Chart {\r\n    utils = Utils;\r\n    baseContainer;\r\n    svg;\r\n    config;\r\n    plot = {\r\n        margin: {}\r\n    };\r\n    _attached = {};\r\n    _layers = {};\r\n    _events = {};\r\n    _isAttached;\r\n    _isInitialized=false;\r\n\r\n\r\n    constructor(base, data, config) {\r\n        this._id = Utils.guid();\r\n        this._isAttached = base instanceof Chart;\r\n\r\n        this.baseContainer = base;\r\n\r\n        this.setConfig(config);\r\n\r\n        if (data) {\r\n            this.setData(data);\r\n        }\r\n        this.init();\r\n        this.postInit();\r\n    }\r\n\r\n    setConfig(config) {\r\n        if (!config) {\r\n            this.config = new ChartConfig();\r\n        } else {\r\n            this.config = config;\r\n        }\r\n        this.initConfigAccessors();\r\n        return this;\r\n    }\r\n\r\n    setData(data) {\r\n        this.data = data;\r\n        return this;\r\n    }\r\n\r\n    init() {\r\n        var self = this;\r\n        self.initPlot();\r\n        self.initSvg();\r\n\r\n        if(!this._isInitialized){\r\n            self.initTooltip();\r\n        }\r\n        self.draw();\r\n        this._isInitialized=true;\r\n        return this;\r\n    }\r\n\r\n    redraw(){\r\n        this.initConfigAccessors(true);\r\n        return this.init();\r\n    }\r\n\r\n    postInit(){\r\n\r\n    }\r\n\r\n    initSvg() {\r\n        var self = this;\r\n        var config = this.config;\r\n\r\n        var margin = self.plot.margin;\r\n        var width = self.svgWidth = self.plot.width + margin.left + margin.right;\r\n        var height = self.svgHeight =  self.plot.height + margin.top + margin.bottom;\r\n        var aspect = width / height;\r\n        if(!self._isAttached){\r\n            if(!this._isInitialized){\r\n                d3.select(self.baseContainer).select(\"svg\").remove();\r\n            }\r\n            self.svg = d3.select(self.baseContainer).selectOrAppend(\"svg\");\r\n\r\n            self.svg\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height)\r\n                .attr(\"viewBox\", \"0 0 \" + \" \" + width + \" \" + height)\r\n                .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\r\n                .attr(\"class\", config.svgClass);\r\n            self.svgG = self.svg.selectOrAppend(\"g.main-group\");\r\n        }else{\r\n            console.log(self.baseContainer);\r\n            self.svg = self.baseContainer.svg;\r\n            self.svgG = self.svg.selectOrAppend(\"g.main-group.\"+config.svgClass)\r\n        }\r\n\r\n        self.svgG.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n        if (!config.width || config.height) {\r\n            d3.select(window)\r\n                .on(\"resize.\"+self._id, function () {\r\n                    console.log(\"resize\", self);\r\n                    var transition = self.config.transition;\r\n                    self.config.transition=false;\r\n                    self.init();\r\n                    self.config.transition = transition;\r\n                });\r\n        }\r\n    }\r\n\r\n    initTooltip(){\r\n        var self = this;\r\n        if (self.config.showTooltip) {\r\n            if(!self._isAttached ){\r\n                self.plot.tooltip = d3.select(\"body\").selectOrAppend('div.'+self.config.cssClassPrefix+'tooltip')\r\n                    .style(\"opacity\", 0);\r\n            }else{\r\n                self.plot.tooltip= self.baseContainer.plot.tooltip;\r\n            }\r\n\r\n        }else{\r\n            self.plot.tooltip = null;\r\n        }\r\n    }\r\n\r\n    initPlot() {\r\n        var margin = this.config.margin;\r\n        this.plot = this.plot || {};\r\n        this.plot.margin = {\r\n            top: margin.top,\r\n            bottom: margin.bottom,\r\n            left: margin.left,\r\n            right: margin.right\r\n        };\r\n\r\n\r\n        var titleMarginSize = 0;\r\n        if(this.config.title){\r\n            titleMarginSize= this.config.titleSize+this.config.titleMargin.top;\r\n            if(!this.config.subtitle){\r\n                titleMarginSize += this.config.titleMargin.bottom;\r\n            }\r\n\r\n            this.plot.margin.top=Math.max(this.plot.margin.top,titleMarginSize);\r\n        }\r\n\r\n        if(this.config.subtitle){\r\n\r\n            this.plot.margin.top=Math.max(this.plot.margin.top, titleMarginSize+this.config.subtitleMargin.top+this.config.subtitleSize+this.config.subtitleMargin.bottom);\r\n        }\r\n\r\n    }\r\n\r\n    update(data) {\r\n        if (data) {\r\n            this.setData(data);\r\n        }\r\n        this.updateTitle();\r\n        this.updateSubtitle();\r\n\r\n        var layerName, attachmentData;\r\n        for (var attachmentName in this._attached) {\r\n\r\n            attachmentData = data;\r\n\r\n            this._attached[attachmentName].update(attachmentData);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    updateTitle() {\r\n        var titleClass = this.prefixClass('plot-title');\r\n        if(!this.config.title){\r\n            this.svg.select(\"text.\"+titleClass).remove();\r\n            return;\r\n        }\r\n\r\n        this.svg.selectOrAppend(\"text.\"+titleClass)\r\n            .attr(\"transform\", \"translate(\"+ (this.svgWidth/2) +\",\"+ (this.config.titleMargin.top) +\")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"dominant-baseline\", \"central\")\r\n            .style(\"font-size\", this.config.titleSize+\"px\")\r\n            .text(this.config.title);\r\n    }\r\n\r\n    updateSubtitle() {\r\n        var subtitleClass = this.prefixClass('plot-subtitle');\r\n        if(!this.config.subtitle){\r\n            this.svg.select(\"text.\"+subtitleClass).remove();\r\n            return;\r\n        }\r\n\r\n        var y = this.config.subtitleMargin.top;\r\n        if(this.config.title){\r\n            y+=this.config.titleMargin.top+this.config.titleSize;\r\n        }\r\n\r\n        this.svg.selectOrAppend(\"text.\"+subtitleClass)\r\n            .attr(\"transform\", \"translate(\"+ (this.svgWidth/2) +\",\"+ (y) +\")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"dominant-baseline\", \"central\")\r\n            .style(\"font-size\", this.config.subtitleSize+\"px\")\r\n            .text(this.config.subtitle);\r\n    }\r\n\r\n    draw(data) {\r\n        this.update(data);\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Register or retrieve an \"attachment\" Chart. The \"attachment\" chart's `draw`\r\n     * method will be invoked whenever the containing chart's `draw` method is\r\n     * invoked.\r\n     *\r\n     * @externalExample chart-attach\r\n     *\r\n     * @param {String} attachmentName Name of the attachment\r\n     * @param {Chart} [chart] Chart to register as a mix in of this chart. When\r\n     *        unspecified, this method will return the attachment previously\r\n     *        registered with the specified `attachmentName` (if any).\r\n     *\r\n     * @returns {Chart} Reference to this chart (chainable).\r\n     */\r\n    attach(attachmentName, chart) {\r\n        if (arguments.length === 1) {\r\n            return this._attached[attachmentName];\r\n        }\r\n\r\n        this._attached[attachmentName] = chart;\r\n        return chart;\r\n    };\r\n\r\n    \r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Subscribe a callback function to an event triggered on the chart. See {@link\r\n        * Chart#once} to subscribe a callback function to an event for one occurence.\r\n     *\r\n     * @externalExample {runnable} chart-on\r\n     *\r\n     * @param {String} name Name of the event\r\n     * @param {ChartEventHandler} callback Function to be invoked when the event\r\n     *        occurs\r\n     * @param {Object} [context] Value to set as `this` when invoking the\r\n     *        `callback`. Defaults to the chart instance.\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n    on(name, callback, context) {\r\n        var events = this._events[name] || (this._events[name] = []);\r\n        events.push({\r\n            callback: callback,\r\n            context: context || this,\r\n            _chart: this\r\n        });\r\n        return this;\r\n    }\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     *\r\n     * Subscribe a callback function to an event triggered on the chart. This\r\n     * function will be invoked at the next occurance of the event and immediately\r\n     * unsubscribed. See {@link Chart#on} to subscribe a callback function to an\r\n     * event indefinitely.\r\n     *\r\n     * @externalExample {runnable} chart-once\r\n     *\r\n     * @param {String} name Name of the event\r\n     * @param {ChartEventHandler} callback Function to be invoked when the event\r\n     *        occurs\r\n     * @param {Object} [context] Value to set as `this` when invoking the\r\n     *        `callback`. Defaults to the chart instance\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable)\r\n     */\r\n    once(name, callback, context) {\r\n        var self = this;\r\n        var once = function () {\r\n            self.off(name, once);\r\n            callback.apply(this, arguments);\r\n        };\r\n        return this.on(name, once, context);\r\n    }\r\n\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Unsubscribe one or more callback functions from an event triggered on the\r\n     * chart. When no arguments are specified, *all* handlers will be unsubscribed.\r\n     * When only a `name` is specified, all handlers subscribed to that event will\r\n     * be unsubscribed. When a `name` and `callback` are specified, only that\r\n     * function will be unsubscribed from that event. When a `name` and `context`\r\n     * are specified (but `callback` is omitted), all events bound to the given\r\n     * event with the given context will be unsubscribed.\r\n     *\r\n     * @externalExample {runnable} chart-off\r\n     *\r\n     * @param {String} [name] Name of the event to be unsubscribed\r\n     * @param {ChartEventHandler} [callback] Function to be unsubscribed\r\n     * @param {Object} [context] Contexts to be unsubscribe\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n\r\n    off(name, callback, context) {\r\n        var names, n, events, event, i, j;\r\n\r\n        // remove all events\r\n        if (arguments.length === 0) {\r\n            for (name in this._events) {\r\n                this._events[name].length = 0;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // remove all events for a specific name\r\n        if (arguments.length === 1) {\r\n            events = this._events[name];\r\n            if (events) {\r\n                events.length = 0;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // remove all events that match whatever combination of name, context\r\n        // and callback.\r\n        names = name ? [name] : Object.keys(this._events);\r\n        for (i = 0; i < names.length; i++) {\r\n            n = names[i];\r\n            events = this._events[n];\r\n            j = events.length;\r\n            while (j--) {\r\n                event = events[j];\r\n                if ((callback && callback === event.callback) ||\r\n                    (context && context === event.context)) {\r\n                    events.splice(j, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Publish an event on this chart with the given `name`.\r\n     *\r\n     * @externalExample {runnable} chart-trigger\r\n     *\r\n     * @param {String} name Name of the event to publish\r\n     * @param {...*} arguments Values with which to invoke the registered\r\n     *        callbacks.\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n    trigger(name) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n        var events = this._events[name];\r\n        var i, ev;\r\n\r\n        if (events !== undefined) {\r\n            for (i = 0; i < events.length; i++) {\r\n                ev = events[i];\r\n                ev.callback.apply(ev.context, args);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n    getBaseContainer(){\r\n        if(this._isAttached){\r\n            return this.baseContainer.svg;\r\n        }\r\n        return d3.select(this.baseContainer);\r\n    }\r\n\r\n    getBaseContainerNode(){\r\n\r\n        return this.getBaseContainer().node();\r\n    }\r\n\r\n    prefixClass(clazz, addDot){\r\n        return addDot? '.': ''+this.config.cssClassPrefix+clazz;\r\n    }\r\n    computePlotSize() {\r\n        this.plot.width = Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\r\n        this.plot.height = Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\r\n    }\r\n\r\n    transitionEnabled(){\r\n        return this._isInitialized && this.config.transition;\r\n    }\r\n\r\n    showTooltip(html){\r\n        if(!this.plot.tooltip){\r\n            return;\r\n        }\r\n        this.plot.tooltip.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", .9);\r\n        this.plot.tooltip.html(html)\r\n            .style(\"left\", (d3.event.pageX + 5) + \"px\")\r\n            .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n    }\r\n\r\n    hideTooltip(){\r\n        if(!this.plot.tooltip){\r\n            return;\r\n        }\r\n        this.plot.tooltip.transition()\r\n            .duration(500)\r\n            .style(\"opacity\", 0);\r\n    }\r\n\r\n    initConfigAccessors(clean) {\r\n        if(clean){\r\n            this.removePropertyAccessors(this,this, this.config, \"$\");\r\n        }\r\n        this.initPropertyAccessors(this,this, this.config, \"$\", true);\r\n    }\r\n\r\n    removePropertyAccessors(bindTo,returnObj, source, prefix) {\r\n        var self  = this;\r\n        for (var i in source) {\r\n            if(!source.hasOwnProperty(i)){\r\n                continue;\r\n            }\r\n\r\n            delete bindTo[prefix + i];\r\n        }\r\n    }\r\n\r\n    initPropertyAccessors(bindTo,returnObj, source, prefix, recursive) {\r\n        var self  = this;\r\n        for (var i in source) {\r\n            if(!source.hasOwnProperty(i)){\r\n                continue;\r\n            }\r\n\r\n            var accessor = self.initPropertyAccessor(bindTo,returnObj, source, i, prefix);\r\n\r\n            if(recursive && Utils.isObjectNotArray(source[i])){\r\n                self.initPropertyAccessors(accessor, bindTo, source[i], prefix, recursive)\r\n            }\r\n        }\r\n    }\r\n\r\n    initPropertyAccessor(bindTo, returnObj, source, propertyKey, prefix) {\r\n        return bindTo[prefix + propertyKey] = function (_) {\r\n            if (!arguments.length) {\r\n                return source[propertyKey];\r\n            }\r\n            source[propertyKey] = _;\r\n            return returnObj;\r\n        };\r\n    }\r\n\r\n\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\nimport {Legend} from './legend'\r\nimport {ScatterPlot} from './scatterplot'\r\n\r\nexport class CorrelationMatrixConfig extends ChartConfig {\r\n\r\n    svgClass = this.cssClassPrefix+'correlation-matrix';\r\n    guides = false; //show axis guides\r\n    showTooltip = true; //show tooltip on dot hover\r\n    showLegend = true;\r\n    highlightLabels = true;\r\n    rotateLabelsX = true;\r\n    rotateLabelsY = true;\r\n    variables = {\r\n        labels: undefined,\r\n        keys: [], //optional array of variable keys\r\n        value: (d, variableKey) => d[variableKey], // variable value accessor\r\n        scale: \"ordinal\"\r\n    };\r\n    correlation = {\r\n        scale: \"linear\",\r\n        domain: [-1, -0.75, -0.5, 0, 0.5, 0.75, 1],\r\n        range: [\"darkblue\", \"blue\", \"lightskyblue\", \"white\", \"orangered\", \"crimson\", \"darkred\"],\r\n        value: (xValues, yValues) => StatisticsUtils.sampleCorrelation(xValues, yValues)\r\n\r\n    };\r\n    cell = {\r\n        shape: \"ellipse\", //possible values: rect, circle, ellipse\r\n        size: undefined,\r\n        sizeMin: 15,\r\n        sizeMax: 250,\r\n        padding: 1\r\n    };\r\n    margin = {\r\n        left: 60,\r\n        right: 50,\r\n        top: 30,\r\n        bottom: 60\r\n    };\r\n    groups={\r\n        key: null,\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class CorrelationMatrix extends Chart {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new CorrelationMatrixConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new CorrelationMatrixConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n        var margin = this.config.margin;\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.correlation = {\r\n            matrix: undefined,\r\n            cells: undefined,\r\n            color: {},\r\n            shape: {}\r\n        };\r\n\r\n\r\n        this.setupVariables();\r\n        var width = conf.width;\r\n        var placeholderNode = this.getBaseContainerNode();\r\n        this.plot.placeholderNode = placeholderNode;\r\n\r\n        var parentWidth = placeholderNode.getBoundingClientRect().width;\r\n        if (width) {\r\n\r\n            if (!this.plot.cellSize) {\r\n                this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (width - margin.left - margin.right) / this.plot.variables.length));\r\n            }\r\n\r\n        } else {\r\n            this.plot.cellSize = this.config.cell.size;\r\n\r\n            if (!this.plot.cellSize) {\r\n                this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (parentWidth - margin.left - margin.right) / this.plot.variables.length));\r\n            }\r\n\r\n            width = this.plot.cellSize * this.plot.variables.length + margin.left + margin.right;\r\n\r\n        }\r\n\r\n        var height = width;\r\n        if (!height) {\r\n            height = placeholderNode.getBoundingClientRect().height;\r\n        }\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = this.plot.width;\r\n\r\n        this.setupVariablesScales();\r\n        this.setupCorrelationScales();\r\n        this.setupCorrelationMatrix();\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n    setupVariablesScales() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.variables;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = conf.value;\r\n        x.scale = d3.scaleBand().range([plot.width, 0]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n    };\r\n\r\n    setupCorrelationScales() {\r\n        var plot = this.plot;\r\n        var corrConf = this.config.correlation;\r\n\r\n        plot.correlation.color.scale = Utils.createScale(corrConf.scale).domain(corrConf.domain).range(corrConf.range);\r\n        var shape = plot.correlation.shape = {};\r\n\r\n        var cellConf = this.config.cell;\r\n        shape.type = cellConf.shape;\r\n\r\n        var shapeSize = plot.cellSize - cellConf.padding * 2;\r\n        if (shape.type == 'circle') {\r\n            var radiusMax = shapeSize / 2;\r\n            shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([2, radiusMax]);\r\n            shape.radius = c=> shape.radiusScale(Math.abs(c.value));\r\n        } else if (shape.type == 'ellipse') {\r\n            var radiusMax = shapeSize / 2;\r\n            shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([radiusMax, 2]);\r\n            shape.radiusX = c=> shape.radiusScale(Math.abs(c.value));\r\n            shape.radiusY = radiusMax;\r\n\r\n            shape.rotateVal = v => {\r\n                if (v == 0) return \"0\";\r\n                if (v < 0) return \"-45\";\r\n                return \"45\"\r\n            }\r\n        } else if (shape.type == 'rect') {\r\n            shape.size = shapeSize;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    setupVariables() {\r\n\r\n        var variablesConf = this.config.variables;\r\n\r\n        var data = this.data;\r\n        var plot = this.plot;\r\n        plot.domainByVariable = {};\r\n        plot.variables = variablesConf.keys;\r\n        if (!plot.variables || !plot.variables.length) {\r\n            plot.variables = Utils.inferVariables(data, this.config.groups.key, this.config.includeInPlot);\r\n        }\r\n\r\n        plot.labels = [];\r\n        plot.labelByVariable = {};\r\n        plot.variables.forEach((variableKey, index) => {\r\n            plot.domainByVariable[variableKey] = d3.extent(data, (d) => variablesConf.value(d, variableKey));\r\n            var label = variableKey;\r\n            if (variablesConf.labels && variablesConf.labels.length > index) {\r\n\r\n                label = variablesConf.labels[index];\r\n            }\r\n            plot.labels.push(label);\r\n            plot.labelByVariable[variableKey] = label;\r\n        });\r\n\r\n        console.log(plot.labelByVariable);\r\n\r\n    };\r\n\r\n\r\n    setupCorrelationMatrix() {\r\n        var self = this;\r\n        var data = this.data;\r\n        var matrix = this.plot.correlation.matrix = [];\r\n        var matrixCells = this.plot.correlation.matrix.cells = [];\r\n        var plot = this.plot;\r\n\r\n        var variableToValues = {};\r\n        plot.variables.forEach((v, i) => {\r\n\r\n            variableToValues[v] = data.map(d=>plot.x.value(d, v));\r\n        });\r\n\r\n        plot.variables.forEach((v1, i) => {\r\n            var row = [];\r\n            matrix.push(row);\r\n\r\n            plot.variables.forEach((v2, j) => {\r\n                var corr = 1;\r\n                if (v1 != v2) {\r\n                    corr = self.config.correlation.value(variableToValues[v1], variableToValues[v2]);\r\n                }\r\n                var cell = {\r\n                    rowVar: v1,\r\n                    colVar: v2,\r\n                    row: i,\r\n                    col: j,\r\n                    value: corr\r\n                };\r\n                row.push(cell);\r\n\r\n                matrixCells.push(cell);\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        // this.update\r\n        this.updateCells();\r\n        this.updateVariableLabels();\r\n\r\n\r\n        if (this.config.showLegend) {\r\n            this.updateLegend();\r\n        }\r\n    };\r\n\r\n    updateVariableLabels() {\r\n        this.plot.labelClass = this.prefixClass(\"label\");\r\n        this.updateAxisX();\r\n        this.updateAxisY();\r\n    }\r\n\r\n    updateAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = plot.labelClass;\r\n        var labelXClass = labelClass + \"-x\";\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelXClass)\r\n            .data(plot.variables, (d, i)=>i);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").attr(\"class\", (d, i) => labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i).merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", (d, i) => i * plot.cellSize + plot.cellSize / 2)\r\n            .attr(\"y\", plot.height)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"dy\", 5)\r\n            .attr(\"text-anchor\", \"end\")\r\n\r\n            // .attr(\"dominant-baseline\", \"hanging\")\r\n            .text(v=>plot.labelByVariable[v]);\r\n\r\n        if (this.config.rotateLabelsX) {\r\n            labelsMerge.attr(\"transform\", (d, i) => \"rotate(-45, \" + (i * plot.cellSize + plot.cellSize / 2  ) + \", \" + plot.height + \")\")\r\n        }\r\n\r\n        var maxWidth = self.computeXAxisLabelsWidth();\r\n        labelsMerge.each(function (label) {\r\n            Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        labels.exit().remove();\r\n    }\r\n\r\n    updateAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = plot.labelClass;\r\n        var labelYClass = plot.labelClass + \"-y\";\r\n        var labels = self.svgG.selectAll(\"text.\" + labelYClass)\r\n            .data(plot.variables);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", (d, i) => i * plot.cellSize + plot.cellSize / 2)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"class\", (d, i) => labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i)\r\n            // .attr(\"dominant-baseline\", \"hanging\")\r\n            .text(v=>plot.labelByVariable[v]);\r\n\r\n        if (this.config.rotateLabelsY) {\r\n            labelsMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + 0 + \", \" + (i * plot.cellSize + plot.cellSize / 2) + \")\")\r\n                .attr(\"text-anchor\", \"end\");\r\n        }\r\n\r\n        var maxWidth = self.computeYAxisLabelsWidth();\r\n        labelsMerge.each(function (label) {\r\n            Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        labels.exit().remove();\r\n    }\r\n\r\n    computeYAxisLabelsWidth() {\r\n        var maxWidth = this.plot.margin.left;\r\n        if (!this.config.rotateLabelsY) {\r\n            return maxWidth;\r\n        }\r\n\r\n        maxWidth *= Utils.SQRT_2;\r\n        var fontSize = 11; //todo check actual font size\r\n        maxWidth -= fontSize / 2;\r\n\r\n        return maxWidth;\r\n    }\r\n\r\n    computeXAxisLabelsWidth(offset) {\r\n        if (!this.config.rotateLabelsX) {\r\n            return this.plot.cellSize - 2;\r\n        }\r\n        var size = this.plot.margin.bottom;\r\n        size *= Utils.SQRT_2;\r\n        var fontSize = 11; //todo check actual font size\r\n        size -= fontSize / 2;\r\n        return size;\r\n    }\r\n\r\n    updateCells() {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var cellClass = self.prefixClass(\"cell\");\r\n        var cellShape = plot.correlation.shape.type;\r\n\r\n        var cells = self.svgG.selectAll(\"g.\" + cellClass)\r\n            .data(plot.correlation.matrix.cells);\r\n\r\n        var cellsEnter = cells.enter().append(\"g\")\r\n            .classed(cellClass, true);\r\n        var cellsMerge = cellsEnter.merge(cells);\r\n        cellsMerge.attr(\"transform\", c=> \"translate(\" + (plot.cellSize * c.col + plot.cellSize / 2) + \",\" + (plot.cellSize * c.row + plot.cellSize / 2) + \")\");\r\n\r\n        cellsMerge.classed(self.config.cssClassPrefix + \"selectable\", !!self.scatterPlot);\r\n\r\n        var selector = \"*:not(.cell-shape-\" + cellShape + \")\";\r\n\r\n        var wrongShapes = cells.selectAll(selector);\r\n        wrongShapes.remove();\r\n\r\n        var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\r\n\r\n        if (plot.correlation.shape.type == 'circle') {\r\n\r\n            shapes\r\n                .attr(\"r\", plot.correlation.shape.radius)\r\n                .attr(\"cx\", 0)\r\n                .attr(\"cy\", 0);\r\n        }\r\n\r\n        if (plot.correlation.shape.type == 'ellipse') {\r\n            // cells.attr(\"transform\", c=> \"translate(300,150) rotate(\"+plot.correlation.shape.rotateVal(c.value)+\")\");\r\n            shapes\r\n                .attr(\"rx\", plot.correlation.shape.radiusX)\r\n                .attr(\"ry\", plot.correlation.shape.radiusY)\r\n                .attr(\"cx\", 0)\r\n                .attr(\"cy\", 0)\r\n\r\n                .attr(\"transform\", c=> \"rotate(\" + plot.correlation.shape.rotateVal(c.value) + \")\");\r\n        }\r\n\r\n\r\n        if (plot.correlation.shape.type == 'rect') {\r\n            shapes\r\n                .attr(\"width\", plot.correlation.shape.size)\r\n                .attr(\"height\", plot.correlation.shape.size)\r\n                .attr(\"x\", -plot.cellSize / 2)\r\n                .attr(\"y\", -plot.cellSize / 2);\r\n        }\r\n        shapes.style(\"fill\", c=> plot.correlation.color.scale(c.value));\r\n\r\n        var mouseoverCallbacks = [];\r\n        var mouseoutCallbacks = [];\r\n\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(c=> {\r\n                var html = c.value;\r\n                self.showTooltip(html);\r\n            });\r\n\r\n            mouseoutCallbacks.push(c=> {\r\n                self.hideTooltip();\r\n            });\r\n\r\n\r\n        }\r\n\r\n        if (self.config.highlightLabels) {\r\n            var highlightClass = self.config.cssClassPrefix + \"highlight\";\r\n            var xLabelClass = c=>plot.labelClass + \"-x-\" + c.col;\r\n            var yLabelClass = c=>plot.labelClass + \"-y-\" + c.row;\r\n\r\n\r\n            mouseoverCallbacks.push(c=> {\r\n\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\r\n            });\r\n            mouseoutCallbacks.push(c=> {\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\r\n            });\r\n        }\r\n\r\n\r\n        cellsMerge.on(\"mouseover\", c => {\r\n            mouseoverCallbacks.forEach(callback=>callback(c));\r\n        })\r\n            .on(\"mouseout\", c => {\r\n                mouseoutCallbacks.forEach(callback=>callback(c));\r\n            });\r\n\r\n        cellsMerge.on(\"click\", c=> {\r\n            self.trigger(\"cell-selected\", c);\r\n        });\r\n\r\n\r\n        cells.exit().remove();\r\n    }\r\n\r\n\r\n    updateLegend() {\r\n\r\n        var plot = this.plot;\r\n        var legendX = this.plot.width + 10;\r\n        var legendY = 0;\r\n        var barWidth = 10;\r\n        var barHeight = this.plot.height - 2;\r\n        var scale = plot.correlation.color.scale;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY).linearGradientBar(barWidth, barHeight);\r\n        \r\n    }\r\n\r\n    attachScatterPlot(containerSelector, config) {\r\n        var self = this;\r\n\r\n        config = config || {};\r\n\r\n\r\n        var scatterPlotConfig = {\r\n            height: self.plot.height + self.config.margin.top + self.config.margin.bottom,\r\n            width: self.plot.height + self.config.margin.top + self.config.margin.bottom,\r\n            groups: {\r\n                key: self.config.groups.key,\r\n                label: self.config.groups.label\r\n            },\r\n            guides: true,\r\n            showLegend: false\r\n        };\r\n\r\n        self.scatterPlot = true;\r\n\r\n        scatterPlotConfig = Utils.deepExtend(scatterPlotConfig, config);\r\n        this.update();\r\n\r\n        this.on(\"cell-selected\", c=> {\r\n\r\n\r\n            scatterPlotConfig.x = {\r\n                key: c.rowVar,\r\n                label: self.plot.labelByVariable[c.rowVar]\r\n            };\r\n            scatterPlotConfig.y = {\r\n                key: c.colVar,\r\n                label: self.plot.labelByVariable[c.colVar]\r\n            };\r\n            if (self.scatterPlot && self.scatterPlot !== true) {\r\n                self.scatterPlot.setConfig(scatterPlotConfig).init();\r\n            } else {\r\n                self.scatterPlot = new ScatterPlot(containerSelector, self.data, scatterPlotConfig);\r\n                this.attach(\"ScatterPlot\", self.scatterPlot);\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n    }\r\n}\r\n","import {Utils} from './utils'\r\n\r\n\r\nexport class D3Extensions{\r\n\r\n    static extend(){\r\n\r\n        d3.selection.prototype.enter.prototype.insertSelector =\r\n            d3.selection.prototype.insertSelector = function(selector, before) {\r\n                return Utils.insertSelector(this, selector, before);\r\n            };\r\n\r\n\r\n        d3.selection.prototype.enter.prototype.appendSelector =\r\n            d3.selection.prototype.appendSelector = function(selector) {\r\n                return Utils.appendSelector(this, selector);\r\n            };\r\n\r\n        d3.selection.prototype.enter.prototype.selectOrAppend =\r\n            d3.selection.prototype.selectOrAppend = function(selector) {\r\n                return Utils.selectOrAppend(this, selector);\r\n            };\r\n\r\n        d3.selection.prototype.enter.prototype.selectOrInsert =\r\n            d3.selection.prototype.selectOrInsert = function(selector, before) {\r\n                return Utils.selectOrInsert(this, selector, before);\r\n            };\r\n\r\n\r\n\r\n    }\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Heatmap, HeatmapConfig} from \"./heatmap\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\n\r\n\r\nexport class HeatmapTimeSeriesConfig extends HeatmapConfig {\r\n    x = {\r\n        fillMissing: false, // fill missing values using interval and intervalStep\r\n        interval: undefined, //used in filling missing ticks\r\n        intervalStep: 1,\r\n        format: undefined, //input data d3 time format\r\n        displayFormat: undefined,//d3 time format for display\r\n        intervalToFormats: [ //used to guess interval and format\r\n            {\r\n                name: 'year',\r\n                formats: [\"%Y\"]\r\n            },\r\n            {\r\n                name: 'month',\r\n                formats: [\"%Y-%m\"]\r\n            },\r\n            {\r\n                name: 'day',\r\n                formats: [\"%Y-%m-%d\"]\r\n            },\r\n            {\r\n                name: 'hour',\r\n                formats: ['%H', '%Y-%m-%d %H']\r\n            },\r\n            {\r\n                name: 'minute',\r\n                formats: ['%H:%M', '%Y-%m-%d %H:%M']\r\n            },\r\n            {\r\n                name: 'second',\r\n                formats: ['%H:%M:%S', '%Y-%m-%d %H:%M:%S']\r\n            }\r\n        ],\r\n\r\n        sortComparator: function sortComparator(a, b) {\r\n            return Utils.isString(a) ?  a.localeCompare(b) :  a - b;\r\n        },\r\n        formatter: undefined\r\n    };\r\n    z = {\r\n        fillMissing: true // fiill missing values with nearest previous value\r\n    };\r\n\r\n    legend = {\r\n        formatter: function (v) {\r\n            var suffix = \"\";\r\n            if (v / 1000000 >= 1) {\r\n                suffix = \" M\";\r\n                v = Number(v / 1000000).toFixed(3);\r\n            }\r\n            var nf = Intl.NumberFormat();\r\n            return nf.format(v) + suffix;\r\n        }\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class HeatmapTimeSeries extends Heatmap {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HeatmapTimeSeriesConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new HeatmapTimeSeriesConfig(config));\r\n    }\r\n\r\n\r\n    setupValuesBeforeGroupsSort() {\r\n\r\n        this.plot.x.timeFormat = this.config.x.format;\r\n        if(this.config.x.displayFormat && !this.plot.x.timeFormat){\r\n            this.guessTimeFormat();\r\n        }\r\n\r\n\r\n        super.setupValuesBeforeGroupsSort();\r\n        if (!this.config.x.fillMissing) {\r\n            return;\r\n        }\r\n\r\n        var self = this;\r\n\r\n        this.initTimeFormatAndInterval();\r\n\r\n        this.plot.x.intervalStep = this.config.x.intervalStep || 1;\r\n\r\n        this.plot.x.timeParser = this.getTimeParser();\r\n\r\n\r\n\r\n        this.plot.x.uniqueValues.sort(this.config.x.sortComparator);\r\n\r\n        var prev = null;\r\n\r\n        this.plot.x.uniqueValues.forEach((x, i)=> {\r\n            var current = this.parseTime(x);\r\n            if (prev === null) {\r\n                prev = current;\r\n                return;\r\n            }\r\n\r\n            var next = self.nextTimeTickValue(prev);\r\n            var missing = [];\r\n            var iteration = 0;\r\n            while (self.compareTimeValues(next, current)<=0) {\r\n                iteration++;\r\n                if (iteration > 100) {\r\n                    break;\r\n                }\r\n                var d = {};\r\n                var timeString = self.formatTime(next);\r\n                d[this.config.x.key] = timeString;\r\n\r\n                self.updateGroups(d, timeString, self.plot.x.groups, self.config.x.groups);\r\n                missing.push(next);\r\n                next = self.nextTimeTickValue(next);\r\n            }\r\n            prev = current;\r\n        });\r\n\r\n    }\r\n\r\n    parseTime(x) {\r\n        var parser = this.getTimeParser();\r\n        return parser(x);\r\n    }\r\n\r\n    formatTime(date){\r\n        var formatter = this.getTimeFormatter();\r\n        return formatter(date);\r\n    }\r\n\r\n    formatValueX(value) { //used only for display\r\n        if (this.config.x.formatter) return this.config.x.formatter.call(this.config, value);\r\n\r\n        if(this.config.x.displayFormat){\r\n            var date = this.parseTime(value);\r\n            return d3.timeFormat(this.config.x.displayFormat)(date);\r\n        }\r\n\r\n        if(!this.plot.x.timeFormat) return value;\r\n\r\n        if(Utils.isDate(value)){\r\n            return this.formatTime(value);\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    compareTimeValues(a, b){\r\n        return a-b;\r\n    }\r\n\r\n    timeValuesEqual(a, b) {\r\n        var parser = this.plot.x.timeParser;\r\n        return parser(a) === parser(b);\r\n    }\r\n\r\n    nextTimeTickValue(t) {\r\n        var interval = 'time'+Utils.capitalizeFirstLetter(this.plot.x.interval);\r\n\r\n        return d3[interval].offset(t, this.plot.x.intervalStep);\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n\r\n        if (this.config.z.fillMissing) {\r\n            this.plot.matrix.forEach((row, rowIndex) => {\r\n                var prevRowValue = undefined;\r\n                row.forEach((cell, colIndex) => {\r\n                    if (cell.value === undefined && prevRowValue !== undefined) {\r\n                        cell.value = prevRowValue;\r\n                        cell.missing = true;\r\n                    }\r\n                    prevRowValue = cell.value;\r\n                });\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n\r\n    };\r\n\r\n\r\n    initTimeFormatAndInterval() {\r\n\r\n        this.plot.x.interval = this.config.x.interval;\r\n\r\n        if(!this.plot.x.timeFormat){\r\n            this.guessTimeFormat();\r\n        }\r\n\r\n        if(!this.plot.x.interval && this.plot.x.timeFormat){\r\n            this.guessInterval();\r\n        }\r\n    }\r\n\r\n    guessTimeFormat() {\r\n        var self = this;\r\n        for(let i=0; i < self.config.x.intervalToFormats.length; i++){\r\n            let intervalFormat = self.config.x.intervalToFormats[i];\r\n            var format = null;\r\n            var formatMatch = intervalFormat.formats.some(f=>{\r\n                format = f;\r\n                var parser = d3.timeParse(f);\r\n                return self.plot.x.uniqueValues.every(x=>{\r\n                    return parser(x) !== null\r\n                });\r\n            });\r\n            if(formatMatch){\r\n                self.plot.x.timeFormat = format;\r\n                console.log('Guessed timeFormat', format);\r\n                if(!self.plot.x.interval){\r\n                    self.plot.x.interval = intervalFormat.name;\r\n                    console.log('Guessed interval', self.plot.x.interval);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    guessInterval() {\r\n        var self = this;\r\n        for(let i=0; i < self.config.x.intervalToFormats.length; i++) {\r\n            let intervalFormat = self.config.x.intervalToFormats[i];\r\n\r\n            if(intervalFormat.formats.indexOf(self.plot.x.timeFormat) >= 0){\r\n                self.plot.x.interval = intervalFormat.name;\r\n                console.log('Guessed interval', self.plot.x.interval);\r\n                return;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getTimeFormatter() {\r\n        if(!this.plot.x.timeFormatter){\r\n            this.plot.x.timeFormatter = d3.timeFormat(this.plot.x.timeFormat);\r\n        }\r\n        return this.plot.x.timeFormatter;\r\n    }\r\n    getTimeParser() {\r\n        if(!this.plot.x.timeParser){\r\n            this.plot.x.timeParser = d3.timeParse(this.plot.x.timeFormat);\r\n        }\r\n        return this.plot.x.timeParser;\r\n    }\r\n}\r\n\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from './legend'\r\n\r\n\r\nexport class HeatmapConfig extends ChartConfig {\r\n\r\n    svgClass = 'odc-heatmap';\r\n    showTooltip = true; //show tooltip on dot hover\r\n    tooltip = {\r\n        noDataText: \"N/A\"\r\n    };\r\n    showLegend = true;\r\n    legend = {\r\n        width: 30,\r\n        rotateLabels: false,\r\n        decimalPlaces: undefined,\r\n        formatter: v => this.legend.decimalPlaces === undefined ? v : Number(v).toFixed(this.legend.decimalPlaces)\r\n    }\r\n    highlightLabels = true;\r\n    x = {// X axis config\r\n        title: '', // axis title\r\n        key: 0,\r\n        value: (d) => d[this.x.key], // x value accessor\r\n        rotateLabels: true,\r\n        sortLabels: false,\r\n        sortComparator: (a, b)=> Utils.isNumber(a) ? a - b : a.localeCompare(b),\r\n        groups: {\r\n            keys: [],\r\n            labels: [],\r\n            value: (d, key) => d[key],\r\n            overlap: {\r\n                top: 20,\r\n                bottom: 20\r\n            }\r\n        },\r\n        formatter: undefined // value formatter function\r\n\r\n    };\r\n    y = {// Y axis config\r\n        title: '', // axis title,\r\n        rotateLabels: true,\r\n        key: 1,\r\n        value: (d) => d[this.y.key], // y value accessor\r\n        sortLabels: false,\r\n        sortComparator: (a, b)=> Utils.isNumber(b) ? b - a : b.localeCompare(a),\r\n        groups: {\r\n            keys: [],\r\n            labels: [],\r\n            value: (d, key) => d[key],\r\n            overlap: {\r\n                left: 20,\r\n                right: 20\r\n            }\r\n        },\r\n        formatter: undefined// value formatter function\r\n    };\r\n    z = {\r\n        key: 2,\r\n        value: (d) => d[this.z.key],\r\n        notAvailableValue: (v) => v === null || v === undefined,\r\n\r\n        decimalPlaces: undefined,\r\n        formatter: v => this.z.decimalPlaces === undefined ? v : Number(v).toFixed(this.z.decimalPlaces)// value formatter function\r\n\r\n    };\r\n    color = {\r\n        noDataColor: \"white\",\r\n        scale: \"linear\",\r\n        reverseScale: false,\r\n        range: [\"darkblue\", \"lightskyblue\", \"orange\", \"crimson\", \"darkred\"]\r\n    };\r\n    cell = {\r\n        width: undefined,\r\n        height: undefined,\r\n        sizeMin: 15,\r\n        sizeMax: 250,\r\n        padding: 0\r\n    };\r\n    margin = {\r\n        left: 60,\r\n        right: 50,\r\n        top: 30,\r\n        bottom: 80\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\n//TODO refactor\r\nexport class Heatmap extends Chart {\r\n\r\n    static maxGroupGapSize = 24;\r\n    static groupTitleRectHeight = 6;\r\n\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HeatmapConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new HeatmapConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n        var margin = this.config.margin;\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n        this.plot.z = {\r\n            matrixes: undefined,\r\n            cells: undefined,\r\n            color: {},\r\n            shape: {}\r\n        };\r\n\r\n\r\n        this.setupValues();\r\n        this.buildCells();\r\n\r\n        var titleRectWidth = 6;\r\n        this.plot.x.overlap = {\r\n            top: 0,\r\n            bottom: 0\r\n        };\r\n        if (this.plot.groupByX) {\r\n            let depth = self.config.x.groups.keys.length;\r\n            let allTitlesWidth = depth * (titleRectWidth);\r\n\r\n            this.plot.x.overlap.bottom = self.config.x.groups.overlap.bottom;\r\n            this.plot.x.overlap.top = self.config.x.groups.overlap.top + allTitlesWidth;\r\n            this.plot.margin.top = this.plot.margin.top + conf.x.groups.overlap.top;\r\n            this.plot.margin.bottom = this.plot.margin.bottom + conf.x.groups.overlap.bottom;\r\n        }\r\n\r\n\r\n        this.plot.y.overlap = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n\r\n\r\n        if (this.plot.groupByY) {\r\n            let depth = self.config.y.groups.keys.length;\r\n            let allTitlesWidth = depth * (titleRectWidth);\r\n            this.plot.y.overlap.right = self.config.y.groups.overlap.left + allTitlesWidth;\r\n            this.plot.y.overlap.left = self.config.y.groups.overlap.left;\r\n            this.plot.margin.left = this.plot.margin.left + this.plot.y.overlap.left;\r\n            this.plot.margin.right = this.plot.margin.right + this.plot.y.overlap.right;\r\n        }\r\n        this.plot.showLegend = conf.showLegend;\r\n        if (this.plot.showLegend) {\r\n            this.plot.margin.right += conf.legend.width;\r\n        }\r\n        this.computePlotSize();\r\n        this.setupZScale();\r\n\r\n        return this;\r\n    }\r\n\r\n    setupValues() {\r\n        var self = this;\r\n        var config = self.config;\r\n        var x = self.plot.x;\r\n        var y = self.plot.y;\r\n        var z = self.plot.z;\r\n\r\n\r\n        x.value = d => config.x.value.call(config, d);\r\n        y.value = d => config.y.value.call(config, d);\r\n        z.value = d => config.z.value.call(config, d);\r\n\r\n        x.uniqueValues = [];\r\n        y.uniqueValues = [];\r\n\r\n\r\n        self.plot.groupByY = !!config.y.groups.keys.length;\r\n        self.plot.groupByX = !!config.x.groups.keys.length;\r\n\r\n        y.groups = {\r\n            key: undefined,\r\n            label: '',\r\n            values: [],\r\n            children: null,\r\n            level: 0,\r\n            index: 0,\r\n            lastIndex: 0\r\n        };\r\n        x.groups = {\r\n            key: undefined,\r\n            label: '',\r\n            values: [],\r\n            children: null,\r\n            level: 0,\r\n            index: 0,\r\n            lastIndex: 0\r\n        };\r\n\r\n        var valueMap = {};\r\n        var minZ = undefined;\r\n        var maxZ = undefined;\r\n        this.data.forEach(d=> {\r\n\r\n            var xVal = x.value(d);\r\n            var yVal = y.value(d);\r\n            var zValRaw = z.value(d);\r\n            var zVal = config.z.notAvailableValue(zValRaw) ? undefined : parseFloat(zValRaw);\r\n\r\n\r\n            if (x.uniqueValues.indexOf(xVal) === -1) {\r\n                x.uniqueValues.push(xVal);\r\n            }\r\n\r\n            if (y.uniqueValues.indexOf(yVal) === -1) {\r\n                y.uniqueValues.push(yVal);\r\n            }\r\n\r\n            var groupY = y.groups;\r\n            if (self.plot.groupByY) {\r\n                groupY = this.updateGroups(d, yVal, y.groups, config.y.groups);\r\n            }\r\n            var groupX = x.groups;\r\n            if (self.plot.groupByX) {\r\n\r\n                groupX = this.updateGroups(d, xVal, x.groups, config.x.groups);\r\n            }\r\n\r\n            if (!valueMap[groupY.index]) {\r\n                valueMap[groupY.index] = {};\r\n            }\r\n\r\n            if (!valueMap[groupY.index][groupX.index]) {\r\n                valueMap[groupY.index][groupX.index] = {};\r\n            }\r\n            if (!valueMap[groupY.index][groupX.index][yVal]) {\r\n                valueMap[groupY.index][groupX.index][yVal] = {};\r\n            }\r\n            valueMap[groupY.index][groupX.index][yVal][xVal] = zVal;\r\n\r\n\r\n            if (minZ === undefined || zVal < minZ) {\r\n                minZ = zVal;\r\n            }\r\n            if (maxZ === undefined || zVal > maxZ) {\r\n                maxZ = zVal;\r\n            }\r\n        });\r\n        self.plot.valueMap = valueMap;\r\n\r\n\r\n        if (!self.plot.groupByX) {\r\n            x.groups.values = x.uniqueValues;\r\n        }\r\n\r\n        if (!self.plot.groupByY) {\r\n            y.groups.values = y.uniqueValues;\r\n        }\r\n\r\n        this.setupValuesBeforeGroupsSort();\r\n\r\n        x.gaps = [];\r\n        x.totalValuesCount = 0;\r\n        x.allValuesList = [];\r\n        this.sortGroups(x, x.groups, config.x);\r\n\r\n        y.gaps = [];\r\n        y.totalValuesCount = 0;\r\n        y.allValuesList = [];\r\n        this.sortGroups(y, y.groups, config.y);\r\n\r\n        z.min = minZ;\r\n        z.max = maxZ;\r\n\r\n    }\r\n\r\n    setupValuesBeforeGroupsSort() {\r\n    }\r\n\r\n    buildCells() {\r\n        var self = this;\r\n        var x = self.plot.x;\r\n        var y = self.plot.y;\r\n        var z = self.plot.z;\r\n        var valueMap = self.plot.valueMap;\r\n\r\n        var matrixCells = self.plot.cells = [];\r\n        var matrix = self.plot.matrix = [];\r\n\r\n        y.allValuesList.forEach((v1, i)=> {\r\n            var row = [];\r\n            matrix.push(row);\r\n\r\n            x.allValuesList.forEach((v2, j) => {\r\n                var zVal = undefined;\r\n                try {\r\n                    zVal = valueMap[v1.group.index][v2.group.index][v1.val][v2.val]\r\n                } catch (e) {\r\n                }\r\n\r\n                var cell = {\r\n                    rowVar: v1,\r\n                    colVar: v2,\r\n                    row: i,\r\n                    col: j,\r\n                    value: zVal\r\n                };\r\n                row.push(cell);\r\n\r\n                matrixCells.push(cell);\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    updateGroups(d, axisVal, rootGroup, axisGroupsConfig) {\r\n\r\n        var config = this.config;\r\n        var currentGroup = rootGroup;\r\n        axisGroupsConfig.keys.forEach((groupKey, groupKeyIndex) => {\r\n            currentGroup.key = groupKey;\r\n\r\n            if (!currentGroup.children) {\r\n                currentGroup.children = {};\r\n            }\r\n\r\n            var groupingValue = axisGroupsConfig.value.call(config, d, groupKey);\r\n\r\n            if (!currentGroup.children.hasOwnProperty(groupingValue)) {\r\n                rootGroup.lastIndex++;\r\n                currentGroup.children[groupingValue] = {\r\n                    values: [],\r\n                    children: null,\r\n                    groupingValue: groupingValue,\r\n                    level: currentGroup.level + 1,\r\n                    index: rootGroup.lastIndex,\r\n                    key: groupKey\r\n                }\r\n            }\r\n\r\n            currentGroup = currentGroup.children[groupingValue];\r\n        });\r\n\r\n        if (currentGroup.values.indexOf(axisVal) === -1) {\r\n            currentGroup.values.push(axisVal);\r\n        }\r\n\r\n        return currentGroup;\r\n    }\r\n\r\n    sortGroups(axis, group, axisConfig, gaps) {\r\n        if (axisConfig.groups.labels && axisConfig.groups.labels.length > group.level) {\r\n            group.label = axisConfig.groups.labels[group.level];\r\n        } else {\r\n            group.label = group.key;\r\n        }\r\n\r\n        if (!gaps) {\r\n            gaps = [0];\r\n        }\r\n        if (gaps.length <= group.level) {\r\n            gaps.push(0);\r\n        }\r\n\r\n        group.allValuesCount = group.allValuesCount || 0;\r\n        group.allValuesBeforeCount = group.allValuesBeforeCount || 0;\r\n\r\n        group.gaps = gaps.slice();\r\n        group.gapsBefore = gaps.slice();\r\n\r\n\r\n        group.gapsSize = Heatmap.computeGapsSize(group.gaps);\r\n        group.gapsBeforeSize = group.gapsSize;\r\n        if (group.values) {\r\n            if (axisConfig.sortLabels) {\r\n                group.values.sort(axisConfig.sortComparator);\r\n            }\r\n            group.values.forEach(v=>axis.allValuesList.push({val: v, group: group}));\r\n            group.allValuesBeforeCount = axis.totalValuesCount;\r\n            axis.totalValuesCount += group.values.length;\r\n            group.allValuesCount += group.values.length;\r\n        }\r\n\r\n        group.childrenList = [];\r\n        if (group.children) {\r\n            var childrenCount = 0;\r\n\r\n            for (var childProp in group.children) {\r\n                if (group.children.hasOwnProperty(childProp)) {\r\n                    var child = group.children[childProp];\r\n                    group.childrenList.push(child);\r\n                    childrenCount++;\r\n\r\n                    this.sortGroups(axis, child, axisConfig, gaps);\r\n                    group.allValuesCount += child.allValuesCount;\r\n                    gaps[group.level] += 1;\r\n                }\r\n            }\r\n\r\n            if (gaps && childrenCount > 1) {\r\n                gaps[group.level] -= 1;\r\n            }\r\n\r\n            group.gapsInside = [];\r\n            gaps.forEach((d, i)=> {\r\n                group.gapsInside.push(d - (group.gapsBefore[i] || 0));\r\n            });\r\n            group.gapsInsideSize = Heatmap.computeGapsSize(group.gapsInside);\r\n\r\n            if (axis.gaps.length < gaps.length) {\r\n                axis.gaps = gaps;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    computeYAxisLabelsWidth(offset) {\r\n        var maxWidth = this.plot.margin.left;\r\n        if (this.config.y.title) {\r\n            maxWidth -= 15;\r\n        }\r\n        if (offset && offset.x) {\r\n            maxWidth += offset.x;\r\n        }\r\n\r\n        if (this.config.y.rotateLabels) {\r\n            maxWidth *= Utils.SQRT_2;\r\n            var fontSize = 11; //todo check actual font size\r\n            maxWidth -=fontSize/2;\r\n        }\r\n\r\n        return maxWidth;\r\n    }\r\n\r\n    computeXAxisLabelsWidth(offset) {\r\n        if (!this.config.x.rotateLabels) {\r\n            return this.plot.cellWidth - 2;\r\n        }\r\n        var size = this.plot.margin.bottom;\r\n        if (this.config.x.title) {\r\n            size -= 15;\r\n        }\r\n        if (offset && offset.y) {\r\n            size -= offset.y;\r\n        }\r\n\r\n        size *= Utils.SQRT_2;\r\n\r\n        var fontSize = 11; //todo check actual font size\r\n        size -=fontSize/2;\r\n\r\n        return size;\r\n    }\r\n\r\n    static computeGapSize(gapLevel) {\r\n        return Heatmap.maxGroupGapSize / (gapLevel + 1);\r\n    }\r\n\r\n    static computeGapsSize(gaps) {\r\n        var gapsSize = 0;\r\n        gaps.forEach((gapsNumber, gapsLevel)=> gapsSize += gapsNumber * Heatmap.computeGapSize(gapsLevel));\r\n        return gapsSize;\r\n    }\r\n\r\n    computePlotSize() {\r\n\r\n        var plot = this.plot;\r\n        var conf = this.config;\r\n        var margin = plot.margin;\r\n        var availableWidth = Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\r\n        var availableHeight = Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\r\n        var width = availableWidth;\r\n        var height = availableHeight;\r\n\r\n        var xGapsSize = Heatmap.computeGapsSize(plot.x.gaps);\r\n\r\n\r\n        var computedCellWidth = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableWidth - xGapsSize) / this.plot.x.totalValuesCount));\r\n        if (this.config.width) {\r\n\r\n            if (!this.config.cell.width) {\r\n                this.plot.cellWidth = computedCellWidth;\r\n            }\r\n\r\n        } else {\r\n            this.plot.cellWidth = this.config.cell.width;\r\n\r\n            if (!this.plot.cellWidth) {\r\n                this.plot.cellWidth = computedCellWidth;\r\n            }\r\n\r\n        }\r\n        width = this.plot.cellWidth * this.plot.x.totalValuesCount + margin.left + margin.right + xGapsSize;\r\n\r\n        var yGapsSize = Heatmap.computeGapsSize(plot.y.gaps);\r\n        var computedCellHeight = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableHeight - yGapsSize) / this.plot.y.totalValuesCount));\r\n        if (this.config.height) {\r\n            if (!this.config.cell.height) {\r\n                this.plot.cellHeight = computedCellHeight;\r\n            }\r\n        } else {\r\n            this.plot.cellHeight = this.config.cell.height;\r\n\r\n            if (!this.plot.cellHeight) {\r\n                this.plot.cellHeight = computedCellHeight;\r\n            }\r\n\r\n        }\r\n\r\n        height = this.plot.cellHeight * this.plot.y.totalValuesCount + margin.top + margin.bottom + yGapsSize;\r\n\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = height - margin.top - margin.bottom;\r\n    }\r\n\r\n\r\n    setupZScale() {\r\n\r\n        var self = this;\r\n        var config = self.config;\r\n        var z = self.plot.z;\r\n        var range = config.color.range;\r\n        var extent = z.max - z.min;\r\n        var scale;\r\n        z.domain = [];\r\n        if (config.color.scale == \"pow\") {\r\n            var exponent = 10;\r\n            range.forEach((c, i)=> {\r\n                var v = z.max - (extent / Math.pow(10, i));\r\n                z.domain.push(v)\r\n            });\r\n            scale = d3.scalePow().exponent(exponent);\r\n        } else if (config.color.scale == \"log\") {\r\n\r\n            range.forEach((c, i)=> {\r\n                var v = z.min + (extent / Math.pow(10, i));\r\n                z.domain.unshift(v)\r\n\r\n            });\r\n\r\n            scale = d3.scaleLog()\r\n        } else {\r\n            range.forEach((c, i)=> {\r\n                var v = z.min + (extent * (i / (range.length - 1)));\r\n                z.domain.push(v)\r\n            });\r\n            scale = Utils.createScale(config.color.scale);\r\n\r\n        }\r\n\r\n\r\n        z.domain[0] = z.min; //removing unnecessary floating points\r\n        z.domain[z.domain.length - 1] = z.max; //removing unnecessary floating points\r\n        console.log(z.domain);\r\n\r\n        if (config.color.reverseScale) {\r\n            z.domain.reverse();\r\n        }\r\n\r\n        var plot = this.plot;\r\n\r\n        console.log(range);\r\n\r\n        plot.z.color.scale = scale.domain(z.domain).range(range);\r\n        var shape = plot.z.shape = {};\r\n\r\n        var cellConf = this.config.cell;\r\n        shape.type = \"rect\";\r\n\r\n        plot.z.shape.width = plot.cellWidth - cellConf.padding * 2;\r\n        plot.z.shape.height = plot.cellHeight - cellConf.padding * 2;\r\n    }\r\n\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        if (this.plot.groupByY) {\r\n            this.drawGroupsY(this.plot.y.groups, this.svgG);\r\n        }\r\n        if (this.plot.groupByX) {\r\n            this.drawGroupsX(this.plot.x.groups, this.svgG);\r\n        }\r\n\r\n        this.updateCells();\r\n\r\n        // this.updateVariableLabels();\r\n\r\n        this.updateAxisX();\r\n        this.updateAxisY();\r\n\r\n        if (this.config.showLegend) {\r\n            this.updateLegend();\r\n        }\r\n\r\n        this.updateAxisTitles();\r\n    };\r\n\r\n    updateAxisTitles() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n\r\n    }\r\n\r\n\r\n    updateAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = self.prefixClass(\"label\");\r\n        var labelXClass = labelClass + \"-x\";\r\n        var labelYClass = labelClass + \"-y\";\r\n        plot.labelClass = labelClass;\r\n\r\n        var offsetX = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        let gapSize = Heatmap.computeGapSize(0);\r\n        if (plot.groupByX) {\r\n            let overlap = self.config.x.groups.overlap;\r\n\r\n            offsetX.x = gapSize / 2;\r\n            offsetX.y = overlap.bottom + gapSize / 2 + 6;\r\n        } else if (plot.groupByY) {\r\n            offsetX.y = gapSize;\r\n        }\r\n\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelXClass)\r\n            .data(plot.x.allValuesList, (d, i)=>i);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").attr(\"class\", (d, i) => labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i).merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", (d, i) => (i * plot.cellWidth + plot.cellWidth / 2) + (d.group.gapsSize) + offsetX.x)\r\n            .attr(\"y\", plot.height + offsetX.y)\r\n            .attr(\"dy\", 10)\r\n\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .text(d=>self.formatValueX(d.val));\r\n\r\n\r\n\r\n        var maxWidth = self.computeXAxisLabelsWidth(offsetX);\r\n\r\n        labelsMerge.each(function (label) {\r\n            var elem = d3.select(this),\r\n                text = self.formatValueX(label.val);\r\n            Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        if (self.config.x.rotateLabels) {\r\n            labelsMerge.attr(\"transform\", (d, i) => \"rotate(-45, \" + ((i * plot.cellWidth + plot.cellWidth / 2) + d.group.gapsSize + offsetX.x ) + \", \" + ( plot.height + offsetX.y) + \")\")\r\n                .attr(\"dx\", -2)\r\n                .attr(\"dy\", 8)\r\n                .attr(\"text-anchor\", \"end\");\r\n        }\r\n\r\n\r\n        labels.exit().remove();\r\n\r\n\r\n        self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.height + plot.margin.bottom) + \")\")\r\n            .selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n\r\n            .attr(\"dy\", \"-0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(self.config.x.title);\r\n    }\r\n\r\n    updateAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = self.prefixClass(\"label\");\r\n        var labelYClass = labelClass + \"-y\";\r\n        plot.labelClass = labelClass;\r\n\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelYClass)\r\n            .data(plot.y.allValuesList);\r\n\r\n        var labelsEnter = labels.enter().append(\"text\");\r\n        var labelsMerge = labelsEnter.merge(labels);\r\n\r\n        var offsetY = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        if (plot.groupByY) {\r\n            let overlap = self.config.y.groups.overlap;\r\n            let gapSize = Heatmap.computeGapSize(0);\r\n            offsetY.x = -overlap.left;\r\n\r\n            offsetY.y = gapSize / 2;\r\n        }\r\n        labelsMerge\r\n            .attr(\"x\", offsetY.x)\r\n            .attr(\"y\", (d, i) => (i * plot.cellHeight + plot.cellHeight / 2) + d.group.gapsSize + offsetY.y)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"class\", (d, i) => labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i)\r\n\r\n            .text(function (d) {\r\n                var formatted = self.formatValueY(d.val);\r\n                return formatted\r\n            });\r\n\r\n        var maxWidth = self.computeYAxisLabelsWidth(offsetY);\r\n\r\n        labelsMerge.each(function (label) {\r\n            var elem = d3.select(this),\r\n                text = self.formatValueY(label.val);\r\n            Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        if (self.config.y.rotateLabels) {\r\n            labelsMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + (offsetY.x  ) + \", \" + (d.group.gapsSize + (i * plot.cellHeight + plot.cellHeight / 2) + offsetY.y) + \")\")\r\n                .attr(\"text-anchor\", \"end\");\r\n            // .attr(\"dx\", -7);\r\n        } else {\r\n            labelsMerge.attr(\"dominant-baseline\", \"middle\")\r\n        }\r\n\r\n\r\n        labels.exit().remove();\r\n\r\n\r\n        self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y'))\r\n            .selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(self.config.y.title);\r\n\r\n    }\r\n\r\n\r\n    drawGroupsY(parentGroup, container, availableWidth) {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        var groupClass = self.prefixClass(\"group\");\r\n        var groupYClass = groupClass + \"-y\";\r\n        var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupYClass)\r\n            .data(parentGroup.childrenList);\r\n\r\n        var valuesBeforeCount = 0;\r\n        var gapsBeforeSize = 0;\r\n\r\n        var groupsEnter = groups.enter().append(\"g\");\r\n        groupsEnter\r\n            .classed(groupClass, true)\r\n            .classed(groupYClass, true)\r\n            .append(\"rect\").classed(\"group-rect\", true);\r\n\r\n        var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\r\n        titleGroupEnter.append(\"rect\");\r\n        titleGroupEnter.append(\"text\");\r\n\r\n        var gapSize = Heatmap.computeGapSize(parentGroup.level);\r\n        var padding = gapSize / 4;\r\n\r\n        var titleRectWidth = Heatmap.groupTitleRectHeight;\r\n        var depth = self.config.y.groups.keys.length - parentGroup.level;\r\n        var overlap = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n\r\n        if (!availableWidth) {\r\n            overlap.right = plot.y.overlap.left;\r\n            overlap.left = plot.y.overlap.left;\r\n            availableWidth = plot.width + gapSize + overlap.left + overlap.right;\r\n        }\r\n\r\n\r\n        var groupsMerge = groupsEnter.merge(groups);\r\n\r\n        groupsMerge\r\n            .attr(\"transform\", (d, i) => {\r\n                var translate = \"translate(\" + (padding - overlap.left) + \",\" + ((plot.cellHeight * valuesBeforeCount) + i * gapSize + gapsBeforeSize + padding) + \")\";\r\n                gapsBeforeSize += (d.gapsInsideSize || 0);\r\n                valuesBeforeCount += d.allValuesCount || 0;\r\n                return translate\r\n            });\r\n\r\n\r\n        var groupWidth = availableWidth - padding * 2;\r\n\r\n        var titleGroups = groupsMerge.selectAll(\"g.title\")\r\n            .attr(\"transform\", (d, i) => \"translate(\" + (groupWidth - titleRectWidth) + \", 0)\");\r\n\r\n        var tileRects = titleGroups.selectAll(\"rect\")\r\n            .attr(\"width\", titleRectWidth)\r\n            .attr(\"height\", d=> {\r\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            // .attr(\"fill\", \"lightgrey\")\r\n            .attr(\"stroke-width\", 0);\r\n\r\n        this.setGroupMouseCallbacks(parentGroup, tileRects);\r\n\r\n\r\n        groupsMerge.selectAll(\"rect.group-rect\")\r\n            .attr(\"class\", d=> \"group-rect group-rect-\" + d.index)\r\n            .attr(\"width\", groupWidth)\r\n            .attr(\"height\", d=> {\r\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"fill-opacity\", 0)\r\n            .attr(\"stroke-width\", 0.5)\r\n            .attr(\"stroke\", \"black\")\r\n\r\n\r\n        groupsMerge.each(function (group) {\r\n\r\n            self.drawGroupsY.call(self, group, d3.select(this), groupWidth - titleRectWidth);\r\n        });\r\n\r\n        groups.exit().remove();\r\n    }\r\n\r\n    drawGroupsX(parentGroup, container, availableHeight) {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        var groupClass = self.prefixClass(\"group\");\r\n        var groupXClass = groupClass + \"-x\";\r\n        var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupXClass)\r\n            .data(parentGroup.childrenList);\r\n\r\n        var valuesBeforeCount = 0;\r\n        var gapsBeforeSize = 0;\r\n\r\n        var groupsEnter = groups.enter().append(\"g\");\r\n        groupsEnter\r\n            .classed(groupClass, true)\r\n            .classed(groupXClass, true)\r\n            .append(\"rect\").classed(\"group-rect\", true);\r\n\r\n        var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\r\n        titleGroupEnter.append(\"rect\");\r\n        titleGroupEnter.append(\"text\");\r\n\r\n        var gapSize = Heatmap.computeGapSize(parentGroup.level);\r\n        var padding = gapSize / 4;\r\n        var titleRectHeight = Heatmap.groupTitleRectHeight;\r\n\r\n        var depth = self.config.x.groups.keys.length - parentGroup.level;\r\n\r\n        var overlap = {\r\n            top: 0,\r\n            bottom: 0\r\n        };\r\n\r\n        if (!availableHeight) {\r\n            overlap.bottom = plot.x.overlap.bottom;\r\n            overlap.top = plot.x.overlap.top;\r\n            availableHeight = plot.height + gapSize + overlap.top + overlap.bottom;\r\n\r\n        } else {\r\n            overlap.top = -titleRectHeight;\r\n        }\r\n        // console.log('parentGroup',parentGroup, 'gapSize', gapSize, plot.x.overlap);\r\n\r\n        var groupsMerge = groupsEnter.merge(groups);\r\n\r\n        groupsMerge\r\n            .attr(\"transform\", (d, i) => {\r\n                var translate = \"translate(\" + ((plot.cellWidth * valuesBeforeCount) + i * gapSize + gapsBeforeSize + padding) + \", \" + (padding - overlap.top) + \")\";\r\n                gapsBeforeSize += (d.gapsInsideSize || 0);\r\n                valuesBeforeCount += d.allValuesCount || 0;\r\n                return translate\r\n            });\r\n\r\n        var groupHeight = availableHeight - padding * 2;\r\n\r\n        var titleGroups = groupsMerge.selectAll(\"g.title\")\r\n            .attr(\"transform\", (d, i) => \"translate(0, \" + (0) + \")\");\r\n\r\n\r\n        var tileRects = titleGroups.selectAll(\"rect\")\r\n            .attr(\"height\", titleRectHeight)\r\n            .attr(\"width\", d=> {\r\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            // .attr(\"fill\", \"lightgrey\")\r\n            .attr(\"stroke-width\", 0);\r\n\r\n        this.setGroupMouseCallbacks(parentGroup, tileRects);\r\n\r\n\r\n        groupsMerge.selectAll(\"rect.group-rect\")\r\n            .attr(\"class\", d=> \"group-rect group-rect-\" + d.index)\r\n            .attr(\"height\", groupHeight)\r\n            .attr(\"width\", d=> {\r\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"fill-opacity\", 0)\r\n            .attr(\"stroke-width\", 0.5)\r\n            .attr(\"stroke\", \"black\");\r\n\r\n        groupsMerge.each(function (group) {\r\n            self.drawGroupsX.call(self, group, d3.select(this), groupHeight - titleRectHeight);\r\n        });\r\n\r\n        groups.exit().remove();\r\n\r\n    }\r\n\r\n    setGroupMouseCallbacks(parentGroup, tileRects) {\r\n        var plot = this.plot;\r\n        var self = this;\r\n        var mouseoverCallbacks = [];\r\n        mouseoverCallbacks.push(function (d) {\r\n            d3.select(this).classed('highlighted', true);\r\n            d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', true);\r\n        });\r\n\r\n        var mouseoutCallbacks = [];\r\n        mouseoutCallbacks.push(function (d) {\r\n            d3.select(this).classed('highlighted', false);\r\n            d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', false);\r\n        });\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(d=> {\r\n                var html = parentGroup.label + \": \" + d.groupingValue;\r\n                self.showTooltip(html);\r\n            });\r\n\r\n            mouseoutCallbacks.push(d=> {\r\n                self.hideTooltip();\r\n            });\r\n\r\n\r\n        }\r\n        tileRects.on(\"mouseover\", function (d) {\r\n            var self = this;\r\n            mouseoverCallbacks.forEach(function (callback) {\r\n                callback.call(self, d)\r\n            });\r\n        });\r\n        tileRects.on(\"mouseout\", function (d) {\r\n            var self = this;\r\n            mouseoutCallbacks.forEach(function (callback) {\r\n                callback.call(self, d)\r\n            });\r\n        });\r\n    }\r\n\r\n    updateCells() {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var cellContainerClass = self.prefixClass(\"cells\");\r\n        var gapSize = Heatmap.computeGapSize(0);\r\n        var paddingX = plot.x.groups.childrenList.length ? gapSize / 2 : 0;\r\n        var paddingY = plot.y.groups.childrenList.length ? gapSize / 2 : 0;\r\n        var cellContainer = self.svgG.selectOrAppend(\"g.\" + cellContainerClass);\r\n        cellContainer.attr(\"transform\", \"translate(\" + paddingX + \", \" + paddingY + \")\");\r\n\r\n        var cellClass = self.prefixClass(\"cell\");\r\n        var cellShape = plot.z.shape.type;\r\n\r\n        var cells = cellContainer.selectAll(\"g.\" + cellClass)\r\n            .data(self.plot.cells);\r\n\r\n        var cellEnter = cells.enter().append(\"g\")\r\n            .classed(cellClass, true);\r\n\r\n        var cellsMerge = cellEnter.merge(cells);\r\n        cellsMerge.attr(\"transform\", c=> \"translate(\" + ((plot.cellWidth * c.col + plot.cellWidth / 2) + c.colVar.group.gapsSize) + \",\" + ((plot.cellHeight * c.row + plot.cellHeight / 2) + c.rowVar.group.gapsSize) + \")\");\r\n\r\n        var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\r\n\r\n        shapes\r\n            .attr(\"width\", plot.z.shape.width)\r\n            .attr(\"height\", plot.z.shape.height)\r\n            .attr(\"x\", -plot.cellWidth / 2)\r\n            .attr(\"y\", -plot.cellHeight / 2);\r\n\r\n        shapes.style(\"fill\", c=> c.value === undefined ? self.config.color.noDataColor : plot.z.color.scale(c.value));\r\n        shapes.attr(\"fill-opacity\", d=> d.value === undefined ? 0 : 1);\r\n\r\n        var mouseoverCallbacks = [];\r\n        var mouseoutCallbacks = [];\r\n\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(c=> {\r\n                var html = c.value === undefined ? self.config.tooltip.noDataText : self.formatValueZ(c.value);\r\n                self.showTooltip(html);\r\n\r\n            });\r\n\r\n            mouseoutCallbacks.push(c=> {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n\r\n        if (self.config.highlightLabels) {\r\n            var highlightClass = self.config.cssClassPrefix + \"highlight\";\r\n            var xLabelClass = c=>plot.labelClass + \"-x-\" + c.col;\r\n            var yLabelClass = c=>plot.labelClass + \"-y-\" + c.row;\r\n\r\n\r\n            mouseoverCallbacks.push(c=> {\r\n\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\r\n            });\r\n            mouseoutCallbacks.push(c=> {\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\r\n            });\r\n        }\r\n\r\n\r\n        cellsMerge.on(\"mouseover\", c => {\r\n            mouseoverCallbacks.forEach(callback=>callback(c));\r\n        })\r\n            .on(\"mouseout\", c => {\r\n                mouseoutCallbacks.forEach(callback=>callback(c));\r\n            });\r\n\r\n        cellsMerge.on(\"click\", c=> {\r\n            self.trigger(\"cell-selected\", c);\r\n        });\r\n\r\n\r\n        cells.exit().remove();\r\n    }\r\n\r\n    formatValueX(value) {\r\n        if (!this.config.x.formatter) return value;\r\n\r\n        return this.config.x.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatValueY(value) {\r\n        if (!this.config.y.formatter) return value;\r\n\r\n        return this.config.y.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatValueZ(value) {\r\n        if (!this.config.z.formatter) return value;\r\n\r\n        return this.config.z.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatLegendValue(value) {\r\n        if (!this.config.legend.formatter) return value;\r\n\r\n        return this.config.legend.formatter.call(this.config, value);\r\n    }\r\n\r\n    updateLegend() {\r\n        var self = this;\r\n        var plot = this.plot;\r\n        var legendX = this.plot.width + 10;\r\n        var gapSize = Heatmap.computeGapSize(0);\r\n        if (this.plot.groupByY) {\r\n            legendX += gapSize / 2 + plot.y.overlap.right;\r\n        } else if (this.plot.groupByX) {\r\n            legendX += gapSize;\r\n        }\r\n        var legendY = 0;\r\n        if (this.plot.groupByX || this.plot.groupByY) {\r\n            legendY += gapSize / 2;\r\n        }\r\n\r\n        var barWidth = 10;\r\n        var barHeight = this.plot.height - 2;\r\n        var scale = plot.z.color.scale;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY, v => self.formatLegendValue(v)).setRotateLabels(self.config.legend.rotateLabels).linearGradientBar(barWidth, barHeight);\r\n    }\r\n\r\n\r\n}\r\n","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\n\r\nexport class HistogramConfig extends ChartWithColorGroupsConfig{\r\n\r\n    svgClass= this.cssClassPrefix+'histogram';\r\n    showLegend=true;\r\n    showTooltip =true;\r\n    x={// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => Utils.isNumber(d) ? d : parseFloat(d[key]), // x value accessor\r\n        scale: \"linear\",\r\n        orient: \"bottom\",\r\n        ticks: undefined,\r\n    };\r\n    y={// Y axis config\r\n        title: '', // axis label,\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    frequency=true;\r\n    groups={\r\n        key: 1\r\n    };\r\n    transition= true;\r\n\r\n    constructor(custom){\r\n        super();\r\n\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class Histogram extends ChartWithColorGroups{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HistogramConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new HistogramConfig(config));\r\n    }\r\n\r\n    initPlot(){\r\n        super.initPlot();\r\n        var self=this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x={};\r\n        this.plot.y={};\r\n        this.plot.bar={\r\n            color: null//color scale mapping function\r\n        };\r\n        \r\n        this.computePlotSize();\r\n        \r\n        this.setupX();\r\n        this.setupHistogram();\r\n        this.setupGroupStacks();\r\n        this.setupY();\r\n        return this;\r\n    }\r\n\r\n    setupX(){\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n        x.scale = Utils.createScale(conf.scale).range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n\r\n        if(conf.ticks){\r\n            x.axis.ticks(conf.ticks);\r\n        }\r\n        var data = this.plot.groupedData;\r\n        plot.x.scale.domain([d3.min(data, s=>d3.min(s.values, plot.x.value)), d3.max(data, s=>d3.max(s.values, plot.x.value))]);\r\n        \r\n    };\r\n\r\n    setupY (){\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n        var data = this.plot.data;\r\n        var yStackMax = d3.max(plot.stackedHistograms, layer => d3.max(layer.histogramBins, d => d.y0 + d.y));\r\n        plot.y.scale.domain([0, yStackMax]);\r\n\r\n    };\r\n\r\n\r\n    setupHistogram() {\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var y = plot.y;\r\n        var ticks = this.config.x.ticks ? x.scale.ticks(this.config.x.ticks) : x.scale.ticks();\r\n\r\n        plot.histogram = d3.histogram()\r\n            .domain(x.scale.domain())\r\n            .value(x.value)\r\n            .thresholds(ticks);\r\n    }\r\n\r\n    setupGroupStacks() {\r\n        var self=this;\r\n        var y0s = [];\r\n        this.plot.groupedData.forEach(d=>{\r\n            d.histogramBins = this.plot.histogram(d.values);\r\n\r\n                d.histogramBins.forEach((b,i) => {\r\n                    b.x =b.x0;\r\n                    b.dx = b.x1-b.x0;\r\n                    b.y = b.length;\r\n                    var prevY0 = y0s[i];\r\n                    if(!prevY0) prevY0 = 0;\r\n                    b.y0 = prevY0;\r\n\r\n                    if(!this.config.frequency){\r\n                        b.y/=this.plot.dataLength\r\n                    }\r\n                    y0s[i] = b.y+prevY0;\r\n                });\r\n\r\n\r\n        });\r\n        var keys = this.plot.groupedData.map(d=>d.key);\r\n        // console.log(this.plot.groupedData);\r\n\r\n        this.plot.stack = d3.stack().keys(keys).value(d=>d.histogramBins);\r\n        this.plot.stackedHistograms = this.plot.groupedData;\r\n    }\r\n\r\n    drawAxisX(){\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\"+self.prefixClass('axis-x')+\".\"+self.prefixClass('axis')+(self.config.guides ? '' : '.'+self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\"+self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\"+ (plot.width/2) +\",\"+ (plot.margin.bottom) +\")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY(){\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\"+self.prefixClass('axis-y')+\".\"+self.prefixClass('axis')+(self.config.guides ? '' : '.'+self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\"+self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\"+ -plot.margin.left +\",\"+(plot.height/2)+\")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n\r\n    drawHistogram() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        \r\n        var layerClass = this.prefixClass(\"layer\");\r\n\r\n        var barClass = this.prefixClass(\"bar\");\r\n        var layer = self.svgG.selectAll(\".\"+layerClass)\r\n            .data(plot.stackedHistograms);\r\n\r\n        var layerMerge = layer.enter().append(\"g\")\r\n            .attr(\"class\", layerClass).merge(layer);\r\n\r\n\r\n        var bar = layerMerge.selectAll(\".\"+barClass)\r\n            .data(d => d.histogramBins);\r\n\r\n        var barEnter = bar.enter().append(\"g\");\r\n        barEnter\r\n            .attr(\"class\", barClass)\r\n            .append(\"rect\")\r\n            .attr(\"x\", 1);\r\n\r\n        var barMerge = barEnter.merge(bar);\r\n        var barRect = barMerge.select(\"rect\");\r\n\r\n        var barRectT = barRect;\r\n        var barT = barMerge;\r\n        var layerT = layerMerge;\r\n        if (this.transitionEnabled()) {\r\n            barRectT = barRect.transition();\r\n            barT = barMerge.transition();\r\n            layerT= layerMerge.transition();\r\n        }\r\n\r\n        barT.attr(\"transform\", function(d) { return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0 +d.y)) + \")\"; });\r\n        var rectWidth = plot.stackedHistograms.length ? (plot.stackedHistograms[0].histogramBins.length ?  plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x1)-plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x0)-1 : 0) : 0;\r\n\r\n\r\n        barRectT\r\n            .attr(\"width\",  d=>  Math.max(0, plot.x.scale(d.x1)-plot.x.scale(d.x0)-1) )\r\n            .attr(\"height\", d =>   plot.height - plot.y.scale(d.y));\r\n\r\n        if(this.plot.color){\r\n            layerT\r\n                .attr(\"fill\", this.plot.seriesColor);\r\n        }\r\n\r\n        if (plot.tooltip) {\r\n            barMerge.on(\"mouseover\", d => {\r\n                self.showTooltip(d.y);\r\n            }).on(\"mouseout\", d => {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n        layer.exit().remove();\r\n        bar.exit().remove();\r\n    }\r\n\r\n    update(newData){\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n\r\n        this.drawHistogram();\r\n        return this;\r\n    };\r\n}\r\n","import {D3Extensions} from './d3-extensions'\r\nD3Extensions.extend();\r\n\r\nexport {ScatterPlot, ScatterPlotConfig} from \"./scatterplot\";\r\nexport {ScatterPlotMatrix, ScatterPlotMatrixConfig} from \"./scatterplot-matrix\";\r\nexport {Regression, RegressionConfig} from './regression'\r\nexport {CorrelationMatrix, CorrelationMatrixConfig} from './correlation-matrix'\r\nexport {Heatmap, HeatmapConfig} from './heatmap'\r\nexport {HeatmapTimeSeries, HeatmapTimeSeriesConfig} from './heatmap-timeseries'\r\nexport {Histogram, HistogramConfig} from './histogram'\r\nexport {BarChart, BarChartConfig} from './bar-chart'\r\nexport {BoxPlotBase, BoxPlotBaseConfig} from './box-plot-base'\r\nexport {BoxPlot, BoxPlotConfig} from './box-plot'\r\nexport {StatisticsUtils} from './statistics-utils'\r\nexport {Utils} from './utils'\r\nexport {Legend} from './legend'\r\n\r\n\r\n\r\n\r\n\r\n","import {Utils} from \"./utils\";\r\n\r\nimport legendColor from '../bower_components/d3-legend/src/color'\r\nimport legendSize from '../bower_components/d3-legend/src/size'\r\nimport legendSymbol from '../bower_components/d3-legend/src/symbol'\r\n\r\n\r\n/*var d3 = require('../bower_components/d3');\r\n*/\r\n// var legend = require('../bower_components/d3-legend/no-extend');\r\n//\r\n// module.exports.legend = legend;\r\n\r\nexport class Legend {\r\n\r\n    cssClassPrefix=\"odc-\";\r\n    legendClass=this.cssClassPrefix+\"legend\";\r\n    container;\r\n    scale;\r\n    color= legendColor;\r\n    size = legendSize;\r\n    symbol= legendSymbol;\r\n    guid;\r\n\r\n    labelFormat = undefined;\r\n\r\n    constructor(svg, legendParent, scale, legendX, legendY, labelFormat){\r\n        this.scale=scale;\r\n        this.svg = svg;\r\n        this.guid = Utils.guid();\r\n        this.container =  Utils.selectOrAppend(legendParent, \"g.\"+this.legendClass, \"g\")\r\n            .attr(\"transform\", \"translate(\"+legendX+\",\"+legendY+\")\")\r\n            .classed(this.legendClass, true);\r\n\r\n        this.labelFormat = labelFormat;\r\n    }\r\n\r\n\r\n\r\n    linearGradientBar(barWidth, barHeight, title){\r\n        var gradientId = this.cssClassPrefix+\"linear-gradient\"+\"-\"+this.guid;\r\n        var scale= this.scale;\r\n        var self = this;\r\n\r\n        this.linearGradient = Utils.linearGradient(this.svg, gradientId, this.scale.range(), 0, 100, 0, 0);\r\n\r\n        this.container.selectOrAppend(\"rect\")\r\n            .attr(\"width\", barWidth)\r\n            .attr(\"height\", barHeight)\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .style(\"fill\", \"url(#\"+gradientId+\")\");\r\n\r\n\r\n        var ticks = this.container.selectAll(\"text\")\r\n            .data( scale.domain() );\r\n        var ticksNumber =scale.domain().length-1;\r\n        var ticksMerge = ticks.enter().append(\"text\").merge(ticks);\r\n\r\n        ticksMerge.attr(\"x\", barWidth)\r\n            .attr(\"y\",  (d, i) =>  barHeight -(i*barHeight/ticksNumber))\r\n            .attr(\"dx\", 3)\r\n            // .attr(\"dy\", 1)\r\n            .attr(\"alignment-baseline\", \"middle\")\r\n            .text(d=> self.labelFormat ? self.labelFormat(d) : d);\r\n        ticksMerge.attr(\"dominant-baseline\", \"middle\")\r\n        if(this.rotateLabels){\r\n            ticksMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + barWidth + \", \" + (barHeight -(i*barHeight/ticksNumber)) + \")\")\r\n                .attr(\"text-anchor\", \"start\")\r\n                .attr(\"dx\", 5)\r\n                .attr(\"dy\", 5);\r\n\r\n        }else{\r\n\r\n        }\r\n\r\n        ticks.exit().remove();\r\n\r\n        return this;\r\n    }\r\n\r\n    setRotateLabels(rotateLabels) {\r\n        this.rotateLabels = rotateLabels;\r\n        return this;\r\n    }\r\n\r\n    \r\n}","import {Chart, ChartConfig} from \"./chart\";\r\nimport {ScatterPlot, ScatterPlotConfig} from \"./scatterplot\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\n\r\n\r\nexport class RegressionConfig extends ScatterPlotConfig{\r\n\r\n    mainRegression = true;\r\n    groupRegression = true;\r\n    confidence={\r\n        level: 0.95,\r\n        criticalValue: (degreesOfFreedom, criticalProbability) => StatisticsUtils.tValue(degreesOfFreedom, criticalProbability),\r\n        marginOfError: undefined, //custom  margin Of Error function (x, points)\r\n        areaCurve: d3.curveNatural\r\n    };\r\n\r\n    constructor(custom){\r\n        super();\r\n\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class Regression extends ScatterPlot{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new RegressionConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new RegressionConfig(config));\r\n    }\r\n\r\n    initPlot(){\r\n        super.initPlot();\r\n        this.initRegressionLines();\r\n    }\r\n\r\n    initRegressionLines(){\r\n\r\n        var self = this;\r\n        var groupsAvailable = self.plot.groupingEnabled;\r\n\r\n        self.plot.regressions= [];\r\n\r\n\r\n        if(groupsAvailable && self.config.mainRegression){\r\n            var regression = this.initRegression(this.plot.data, false);\r\n            self.plot.regressions.push(regression);\r\n        }\r\n\r\n        if(self.config.groupRegression){\r\n            this.initGroupRegression();\r\n        }\r\n\r\n    }\r\n\r\n    initGroupRegression() {\r\n        var self = this;\r\n\r\n        self.plot.groupedData.forEach(group=>{\r\n            if(group.values.length<2){\r\n                return;\r\n            }\r\n\r\n            var regression = this.initRegression(group.values, group.key);\r\n            self.plot.regressions.push(regression);\r\n        });\r\n    }\r\n\r\n    initRegression(values, groupVal){\r\n        var self = this;\r\n\r\n        var points = values.map(d=>{\r\n            return [parseFloat(self.plot.x.value(d)), parseFloat(self.plot.y.value(d))];\r\n        });\r\n\r\n        // points.sort((a,b) => a[0]-b[0]);\r\n\r\n        var linearRegression =  StatisticsUtils.linearRegression(points);\r\n        var linearRegressionLine = StatisticsUtils.linearRegressionLine(linearRegression);\r\n\r\n\r\n        var extentX = d3.extent(points, d=>d[0]);\r\n\r\n\r\n        var linePoints = [\r\n            {\r\n                x: extentX[0],\r\n                y: linearRegressionLine(extentX[0])\r\n            },\r\n            {\r\n                x: extentX[1],\r\n                y: linearRegressionLine(extentX[1])\r\n            }\r\n        ];\r\n\r\n        var line = d3.line()\r\n            .curve(d3.curveBasis)\r\n            .x(d => self.plot.x.scale(d.x))\r\n            .y(d => self.plot.y.scale(d.y));\r\n\r\n        var color = self.plot.color;\r\n\r\n        var defaultColor = \"black\";\r\n        if(Utils.isFunction(color)){\r\n            if(values.length && groupVal!==false){\r\n                if(self.config.series){\r\n                    color =self.plot.colorCategory(groupVal);\r\n                }else{\r\n                    color = color(values[0]);\r\n                }\r\n\r\n            }else{\r\n                color = defaultColor;\r\n            }\r\n        }else if(!color && groupVal===false){\r\n            color = defaultColor;\r\n        }\r\n\r\n\r\n        var confidence = this.computeConfidence(points, extentX,  linearRegression,linearRegressionLine);\r\n        return {\r\n            group: groupVal || false,\r\n            line: line,\r\n            linePoints: linePoints,\r\n            color: color,\r\n            confidence: confidence\r\n        };\r\n    }\r\n\r\n    computeConfidence(points, extentX, linearRegression,linearRegressionLine){\r\n        var self = this;\r\n        var slope = linearRegression.m;\r\n        var n = points.length;\r\n        var degreesOfFreedom = Math.max(0, n-2);\r\n\r\n        var alpha = 1 - self.config.confidence.level;\r\n        var criticalProbability  = 1 - alpha/2;\r\n        var criticalValue = self.config.confidence.criticalValue(degreesOfFreedom,criticalProbability);\r\n\r\n        var xValues = points.map(d=>d[0]);\r\n        var meanX = StatisticsUtils.mean(xValues);\r\n        var xMySum=0;\r\n        var xSum=0;\r\n        var xPowSum=0;\r\n        var ySum=0;\r\n        var yPowSum=0;\r\n        points.forEach(p=>{\r\n            var x = p[0];\r\n            var y = p[1];\r\n\r\n            xMySum += x*y;\r\n            xSum+=x;\r\n            ySum+=y;\r\n            xPowSum+= x*x;\r\n            yPowSum+= y*y;\r\n        });\r\n        var a = linearRegression.m;\r\n        var b = linearRegression.b;\r\n\r\n        var Sa2 = n/(n+2) * ((yPowSum-a*xMySum-b*ySum)/(n*xPowSum-(xSum*xSum))); //Wariancja wspczynnika kierunkowego regresji liniowej a\r\n        var Sy2 = (yPowSum - a*xMySum-b*ySum)/(n*(n-2)); //Sa2 //Mean y value variance\r\n\r\n        var errorFn = x=> Math.sqrt(Sy2 + Math.pow(x-meanX,2)*Sa2); //pierwiastek kwadratowy z wariancji dowolnego punktu prostej\r\n        var marginOfError =  x=> criticalValue* errorFn(x);\r\n\r\n\r\n        // console.log('n', n, 'degreesOfFreedom', degreesOfFreedom, 'criticalProbability',criticalProbability);\r\n        // var confidenceDown = x => linearRegressionLine(x) -  marginOfError(x);\r\n        // var confidenceUp = x => linearRegressionLine(x) +  marginOfError(x);\r\n\r\n\r\n        var computeConfidenceAreaPoint = x=>{\r\n            var linearRegression = linearRegressionLine(x);\r\n            var moe = marginOfError(x);\r\n            var confDown = linearRegression - moe;\r\n            var confUp = linearRegression + moe;\r\n            return {\r\n                x: x,\r\n                y0: confDown,\r\n                y1: confUp\r\n            }\r\n\r\n        };\r\n\r\n        var centerX = (extentX[1]+extentX[0])/2;\r\n\r\n        // var confidenceAreaPoints = [extentX[0], centerX,  extentX[1]].map(computeConfidenceAreaPoint);\r\n        var confidenceAreaPoints = [extentX[0], centerX,  extentX[1]].map(computeConfidenceAreaPoint);\r\n\r\n        var fitInPlot = y => y;\r\n\r\n        var confidenceArea =  d3.area()\r\n        .curve(self.config.confidence.areaCurve)\r\n            .x(d => self.plot.x.scale(d.x))\r\n            .y0(d => fitInPlot(self.plot.y.scale(d.y0)))\r\n            .y1(d => fitInPlot(self.plot.y.scale(d.y1)));\r\n\r\n        return {\r\n            area:confidenceArea,\r\n            points:confidenceAreaPoints\r\n        };\r\n    }\r\n\r\n    update(newData){\r\n        super.update(newData);\r\n        this.updateRegressionLines();\r\n\r\n    };\r\n\r\n    updateRegressionLines() {\r\n        var self = this;\r\n        var regressionContainerClass = this.prefixClass(\"regression-container\");\r\n        var regressionContainerSelector = \"g.\"+regressionContainerClass;\r\n\r\n        var clipPathId = self.prefixClass(\"clip\");\r\n\r\n        var regressionContainer = self.svgG.selectOrInsert(regressionContainerSelector, \".\"+self.dotsContainerClass);\r\n        var regressionContainerClip = regressionContainer.selectOrAppend(\"clipPath\")\r\n            .attr(\"id\", clipPathId);\r\n\r\n\r\n        regressionContainerClip.selectOrAppend('rect')\r\n            .attr('width', self.plot.width)\r\n            .attr('height', self.plot.height)\r\n            .attr('x', 0)\r\n            .attr('y', 0);\r\n\r\n        regressionContainer.attr(\"clip-path\", (d,i) => \"url(#\"+clipPathId+\")\");\r\n\r\n        var regressionClass = this.prefixClass(\"regression\");\r\n        var confidenceAreaClass = self.prefixClass(\"confidence\");\r\n        var regressionSelector = \"g.\"+regressionClass;\r\n        var regression = regressionContainer.selectAll(regressionSelector)\r\n            .data(self.plot.regressions, (d,i)=> d.group);\r\n\r\n\r\n        var regressionEnter = regression.enter().appendSelector(regressionSelector);\r\n        var regressionMerge = regressionEnter.merge(regression);\r\n        var lineClass = self.prefixClass(\"line\");\r\n        regressionEnter\r\n            .append(\"path\")\r\n            .attr(\"class\", lineClass)\r\n            .attr(\"shape-rendering\", \"optimizeQuality\");\r\n\r\n        var line = regressionMerge.select(\"path.\"+lineClass)\r\n            .style(\"stroke\", r => r.color);\r\n        \r\n        var lineT = line;\r\n        if (self.transitionEnabled()) {\r\n            lineT = line.transition();\r\n        }\r\n\r\n        lineT.attr(\"d\", r => r.line(r.linePoints))\r\n\r\n\r\n        regressionEnter\r\n            .append(\"path\")\r\n            .attr(\"class\", confidenceAreaClass)\r\n            .attr(\"shape-rendering\", \"optimizeQuality\")\r\n            .style(\"opacity\", \"0.4\");\r\n\r\n\r\n\r\n        var area = regressionMerge.select(\"path.\"+confidenceAreaClass);\r\n\r\n        var areaT = area;\r\n        if (self.transitionEnabled()) {\r\n            areaT = area.transition();\r\n        }\r\n        areaT.attr(\"d\", r => r.confidence.area(r.confidence.points));\r\n        areaT.style(\"fill\", r => r.color)\r\n        regression.exit().remove();\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n","import {ChartWithColorGroups} from \"./chart-with-color-groups\";\r\nimport {ScatterPlotConfig} from \"./scatterplot\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\n\r\nexport class ScatterPlotMatrixConfig extends ScatterPlotConfig{\r\n\r\n    svgClass= this.cssClassPrefix+'scatterplot-matrix';\r\n    size= undefined; //scatter plot cell size\r\n    minCellSize = 50;\r\n    maxCellSize = 1000;\r\n    padding= 20; //scatter plot cell padding\r\n    brush= true;\r\n    guides= true; //show axis guides\r\n    showTooltip= true; //show tooltip on dot hover\r\n    ticks= undefined; //ticks number, (default: computed using cell size)\r\n    x={// X axis config\r\n        orient: \"bottom\",\r\n        scale: \"linear\"\r\n    };\r\n    y={// Y axis config\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    groups={\r\n        key: undefined, //object property name or array index with grouping variable\r\n        includeInPlot: false, //include group as variable in plot, boolean (default: false)\r\n    };\r\n    variables= {\r\n        labels: [], //optional array of variable labels (for the diagonal of the plot).\r\n        keys: [], //optional array of variable keys\r\n        value: (d, variableKey) => d[variableKey] // variable value accessor\r\n    };\r\n\r\n    constructor(custom){\r\n        super();\r\n        Utils.deepExtend(this, custom);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class ScatterPlotMatrix extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ScatterPlotMatrixConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new ScatterPlotMatrixConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n\r\n        var self = this;\r\n        var margin = this.plot.margin;\r\n        var conf = this.config;\r\n        this.plot.x={};\r\n        this.plot.y={};\r\n        this.plot.dot={\r\n            color: null//color scale mapping function\r\n        };\r\n        \r\n        this.setupVariables();\r\n\r\n        this.plot.size = conf.size;\r\n\r\n\r\n        var width = conf.width;\r\n        var availableWidth = Utils.availableWidth(this.config.width, this.getBaseContainer(), margin);\r\n        var availableHeight = Utils.availableHeight(this.config.height, this.getBaseContainer(), margin);\r\n        if (!width) {\r\n            if(!this.plot.size){\r\n                this.plot.size =  Math.min(conf.maxCellSize, Math.max(conf.minCellSize, availableWidth/this.plot.variables.length));\r\n            }\r\n            width = margin.left + margin.right + this.plot.variables.length*this.plot.size;\r\n        }\r\n        if(!this.plot.size){\r\n            this.plot.size = (width - (margin.left + margin.right)) / this.plot.variables.length;\r\n        }\r\n\r\n        var height = width;\r\n        if (!height) {\r\n            height = availableHeight;\r\n        }\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = height - margin.top - margin.bottom;\r\n\r\n\r\n        this.plot.ticks = conf.ticks;\r\n\r\n        if(this.plot.ticks===undefined){\r\n            this.plot.ticks = this.plot.size / 40;\r\n        }\r\n\r\n        this.setupX();\r\n        this.setupY();\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n    setupVariables() {\r\n        var variablesConf = this.config.variables;\r\n\r\n        var data = this.plot.groupedData;\r\n        var plot = this.plot;\r\n        plot.domainByVariable = {};\r\n        plot.variables = variablesConf.keys;\r\n        if(!plot.variables || !plot.variables.length){\r\n\r\n            plot.variables = data.length ? Utils.inferVariables(data[0].values, this.config.groups.key, this.config.includeInPlot) : [];\r\n        }\r\n\r\n        plot.labels = [];\r\n        plot.labelByVariable = {};\r\n        plot.variables.forEach((variableKey, index) => {\r\n            var min = d3.min(data, s=>d3.min(s.values, d=>variablesConf.value(d, variableKey)));\r\n            var max = d3.max(data, s=>d3.max(s.values, d=>variablesConf.value(d, variableKey)));\r\n            plot.domainByVariable[variableKey] = [min,max];\r\n            var label = variableKey;\r\n            if(variablesConf.labels && variablesConf.labels.length>index){\r\n\r\n                label = variablesConf.labels[index];\r\n            }\r\n            plot.labels.push(label);\r\n            plot.labelByVariable[variableKey] = label;\r\n        });\r\n\r\n        plot.subplots = [];\r\n    };\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config;\r\n\r\n        \r\n        x.value = conf.variables.value;\r\n        x.scale = Utils.createScale(conf.x.scale).range([conf.padding / 2, plot.size - conf.padding / 2]);\r\n        x.map = (d, variable) => x.scale(x.value(d, variable));\r\n\r\n        x.axis = Utils.createAxis(conf.x.orient, x.scale).ticks(plot.ticks);\r\n        x.axis.tickSize(plot.size * plot.variables.length);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config;\r\n\r\n        y.value = conf.variables.value;\r\n        y.scale = Utils.createScale(conf.y.scale).range([ plot.size - conf.padding / 2, conf.padding / 2]);\r\n\r\n        y.map = (d, variable) => y.scale(y.value(d, variable));\r\n        y.axis = Utils.createAxis(conf.y.orient, y.scale).ticks(plot.ticks);\r\n        y.axis.tickSize(-plot.size * plot.variables.length);\r\n    };\r\n\r\n    update( newData) {\r\n        super.update(newData);\r\n\r\n        var self =this;\r\n        var n = self.plot.variables.length;\r\n        var conf = this.config;\r\n\r\n        var axisClass = self.prefixClass(\"axis\");\r\n        var axisXClass = axisClass+\"-x\";\r\n        var axisYClass = axisClass+\"-y\";\r\n\r\n        var xAxisSelector = \"g.\"+axisXClass+\".\"+axisClass;\r\n        var yAxisSelector = \"g.\"+axisYClass+\".\"+axisClass;\r\n\r\n        var noGuidesClass = self.prefixClass(\"no-guides\");\r\n        var xAxis = self.svgG.selectAll(xAxisSelector)\r\n            .data(self.plot.variables);\r\n\r\n        var xAxisMerge = xAxis.enter().appendSelector(xAxisSelector)\r\n            .classed(noGuidesClass, !conf.guides).merge(xAxis);\r\n\r\n\r\n        xAxisMerge.attr(\"transform\", (d, i) => \"translate(\" + (n - i - 1) * self.plot.size + \",0)\")\r\n            .each(function(d) {\r\n                self.plot.x.scale.domain(self.plot.domainByVariable[d]);\r\n                var axis = d3.select(this);\r\n                if (self.transitionEnabled()) {\r\n                    axis = axis.transition();\r\n                }\r\n                axis.call(self.plot.x.axis);\r\n\r\n            });\r\n\r\n        xAxis.exit().remove();\r\n\r\n        var yAxis = self.svgG.selectAll(yAxisSelector)\r\n            .data(self.plot.variables);\r\n        var yAxisMerge = yAxis.enter().appendSelector(yAxisSelector).merge(yAxis);\r\n        yAxisMerge.classed(noGuidesClass, !conf.guides)\r\n            .attr(\"transform\", (d, i) => \"translate(0,\" + i * self.plot.size + \")\");\r\n        yAxisMerge.each(function(d) {\r\n            self.plot.y.scale.domain(self.plot.domainByVariable[d]);\r\n            var axis = d3.select(this);\r\n            if (self.transitionEnabled()) {\r\n                axis = axis.transition();\r\n            }\r\n            axis.call(self.plot.y.axis);\r\n\r\n        });\r\n\r\n        yAxis.exit().remove();\r\n\r\n        var cellClass =  self.prefixClass(\"cell\");\r\n        var cell = self.svgG.selectAll(\".\"+cellClass)\r\n            .data(self.utils.cross(self.plot.variables, self.plot.variables));\r\n\r\n        var cellEnter =  cell.enter().appendSelector(\"g.\"+cellClass);\r\n        cellEnter.filter(d => d.i === d.j).append(\"text\");\r\n\r\n        var cellMerge = cellEnter.merge(cell);\r\n        cellMerge.attr(\"transform\", d => \"translate(\" + (n - d.i - 1) * self.plot.size + \",\" + d.j * self.plot.size + \")\");\r\n\r\n        if(conf.brush){\r\n            this.drawBrush(cellMerge);\r\n        }\r\n\r\n\r\n        cellMerge.each(plotSubplot);\r\n\r\n        //Labels\r\n        cellMerge.select(\"text\")\r\n            .attr(\"x\", conf.padding)\r\n            .attr(\"y\", conf.padding)\r\n            .attr(\"dy\", \".71em\")\r\n            .text( d => self.plot.labelByVariable[d.x]);\r\n\r\n        cell.exit().remove();\r\n\r\n        function plotSubplot(p) {\r\n            var plot = self.plot;\r\n            plot.subplots.push(p);\r\n            var cell = d3.select(this);\r\n\r\n            plot.x.scale.domain(plot.domainByVariable[p.x]);\r\n            plot.y.scale.domain(plot.domainByVariable[p.y]);\r\n\r\n            var frameClass =  self.prefixClass(\"frame\");\r\n            cell.selectOrAppend(\"rect.\"+frameClass)\r\n                .attr(\"class\", frameClass)\r\n                .attr(\"x\", conf.padding / 2)\r\n                .attr(\"y\", conf.padding / 2)\r\n                .attr(\"width\", plot.size - conf.padding)\r\n                .attr(\"height\", plot.size - conf.padding);\r\n            \r\n            p.update = function() {\r\n\r\n                var subplot = this;\r\n                var layerClass = self.prefixClass('layer');\r\n\r\n\r\n                var layer = cell.selectAll(\"g.\"+layerClass).data(self.plot.groupedData);\r\n\r\n                var layerMerge = layer.enter().appendSelector(\"g.\"+layerClass).merge(layer);\r\n\r\n                var dots = layerMerge.selectAll(\"circle\")\r\n                    .data(d=>d.values);\r\n\r\n                var dotsMerge = dots.enter().append(\"circle\").merge(dots);\r\n\r\n                var dotsT = dotsMerge;\r\n                if (self.transitionEnabled()) {\r\n                    dotsT = dotsMerge.transition();\r\n                }\r\n\r\n                dotsT.attr(\"cx\", (d) => plot.x.map(d, subplot.x))\r\n                    .attr(\"cy\", (d) => plot.y.map(d, subplot.y))\r\n                    .attr(\"r\", self.config.dotRadius);\r\n\r\n\r\n                if (plot.seriesColor) {\r\n                    layerMerge.style(\"fill\", plot.seriesColor)\r\n                }else if(plot.color){\r\n                    dotsMerge.style(\"fill\", plot.color)\r\n                }\r\n\r\n\r\n                if (plot.tooltip) {\r\n                    dotsMerge.on(\"mouseover\", (d) => {\r\n\r\n                        var html = \"(\" + plot.x.value(d, subplot.x) + \", \" + plot.y.value(d, subplot.y) + \")\";\r\n                        var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\r\n                        if (group || group === 0) {\r\n                            group = plot.groupToLabel[group];\r\n                            html += \"<br/>\";\r\n                            var label = self.config.groups.label;\r\n                            if (label) {\r\n                                html += label + \": \";\r\n                            }\r\n                            html += group\r\n                        }\r\n                        self.showTooltip(html);\r\n                    })\r\n                        .on(\"mouseout\", (d)=> {\r\n                            self.hideTooltip();\r\n                        });\r\n                }\r\n\r\n                dots.exit().remove();\r\n                layer.exit().remove();\r\n            };\r\n            p.update();\r\n\r\n        }\r\n    };\r\n\r\n    drawBrush(cell) {\r\n        var self = this;\r\n        var hiddenClass = self.plot.hiddenClass =  self.prefixClass(\"hidden\");\r\n        var brush = d3.brush()\r\n            // .x(self.plot.x.scale)\r\n            // .y(self.plot.y.scale)\r\n            .on(\"start\", brushstart)\r\n            .on(\"brush\", brushmove)\r\n            .on(\"end\", brushend);\r\n\r\n        brush.extent([[0, 0], [self.plot.size, self.plot.size]]);\r\n        cell.selectOrAppend(\"g.brush-container\").call(brush);\r\n\r\n        self.clearBrush();\r\n\r\n        // Clear the previously-active brush, if any.\r\n        function brushstart(p) {\r\n            if (self.plot.brushCell !== this) {\r\n                self.clearBrush();\r\n                self.plot.x.scale.domain(self.plot.domainByVariable[p.x]);\r\n                self.plot.y.scale.domain(self.plot.domainByVariable[p.y]);\r\n                self.plot.brushCell = this;\r\n                self.plot.brush = brush;\r\n            }\r\n        }\r\n\r\n        // Highlight the selected circles.\r\n        function brushmove(p) {\r\n            var s = d3.event.selection;\r\n            if(!s)return;\r\n            var e = s.map(_=> [self.plot.x.scale.invert(_[0]), self.plot.y.scale.invert(_[1])]);\r\n            // console.log(e);\r\n\r\n            self.svgG.selectAll(\"circle\").classed(hiddenClass, function (d) {\r\n                var x = parseFloat(d[p.x]),\r\n                    y = parseFloat(d[p.y]);\r\n\r\n                return e[0][0] > x || x > e[1][0]\r\n                    || e[1][1] > y || y > e[0][1];\r\n            });\r\n        }\r\n        // If the brush is empty, select all circles.\r\n        function brushend() {\r\n            if (!d3.event.selection) self.svgG.selectAll(\".\"+hiddenClass).classed(hiddenClass, false);\r\n        }\r\n    };\r\n\r\n    clearBrush(){\r\n        var self = this;\r\n        if(!self.plot.brushCell){\r\n            return;\r\n        }\r\n        \r\n        self.plot.brush.move(d3.select(self.plot.brushCell), null);\r\n        self.svgG.selectAll(\".\"+self.plot.hiddenClass).classed(self.plot.hiddenClass, false);\r\n        self.plot.brushCell=null;\r\n\r\n    }\r\n}","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\n\r\nexport class ScatterPlotConfig extends ChartWithColorGroupsConfig{\r\n\r\n    svgClass= this.cssClassPrefix+'scatterplot';\r\n    guides= false; //show axis guides\r\n    showTooltip= true; //show tooltip on dot hover\r\n\r\n    x={// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => d[key], // x value accessor\r\n        orient: \"bottom\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    y={// Y axis config\r\n        title: '', // axis label,\r\n        key: 1,\r\n        value: (d, key) => d[key], // y value accessor\r\n        orient: \"left\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    groups={\r\n        key: 2\r\n    };\r\n    dotRadius = 2;\r\n    transition= true;\r\n\r\n    constructor(custom){\r\n        super();\r\n\r\n\r\n\r\n        if(custom){\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class ScatterPlot extends ChartWithColorGroups{\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ScatterPlotConfig(config));\r\n    }\r\n\r\n    setConfig(config){\r\n        return super.setConfig(new ScatterPlotConfig(config));\r\n    }\r\n\r\n    initPlot(){\r\n        super.initPlot();\r\n        var self=this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x={};\r\n        this.plot.y={};\r\n\r\n        this.computePlotSize();\r\n        this.setupX();\r\n        this.setupY();\r\n\r\n        return this;\r\n    }\r\n\r\n    setupX(){\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n        \r\n        x.scale = Utils.createScale(conf.scale).range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n        \r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s=>d3.min(s.values, plot.x.value))), parseFloat(d3.max(data, s=>d3.max(s.values, plot.x.value)))];\r\n        var margin = (domain[1]-domain[0])* conf.domainMargin;\r\n        domain[0]-=margin;\r\n        domain[1]+=margin;\r\n        plot.x.scale.domain(domain);\r\n        if(this.config.guides) {\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n    };\r\n\r\n    setupY (){\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n\r\n        /*\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         */\r\n        y.value = d => conf.value(d, conf.key);\r\n\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n\r\n        if(this.config.guides){\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s=>d3.min(s.values, plot.y.value))), parseFloat(d3.max(data, s=>d3.max(s.values, plot.y.value)))];\r\n        var margin = (domain[1]-domain[0])* conf.domainMargin;\r\n        domain[0]-=margin;\r\n        domain[1]+=margin;\r\n        plot.y.scale.domain(domain);\r\n        // plot.y.scale.domain([d3.min(data, plot.y.value)-1, d3.max(data, plot.y.value)+1]);\r\n    };\r\n\r\n    drawAxisX(){\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\"+self.prefixClass('axis-x')+\".\"+self.prefixClass('axis')+(self.config.guides ? '' : '.'+self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n        \r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n        \r\n        axis.selectOrAppend(\"text.\"+self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\"+ (plot.width/2) +\",\"+ (plot.margin.bottom) +\")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY(){\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\"+self.prefixClass('axis-y')+\".\"+self.prefixClass('axis')+(self.config.guides ? '' : '.'+self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\"+self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\"+ -plot.margin.left +\",\"+(plot.height/2)+\")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    update(newData){\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n\r\n        this.updateDots();\r\n    };\r\n\r\n    updateDots() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var data = plot.data;\r\n        var layerClass = self.prefixClass('layer');\r\n        var dotClass = self.prefixClass('dot');\r\n        self.dotsContainerClass = self.prefixClass('dots-container');\r\n\r\n        var dotsContainer = self.svgG.selectOrAppend(\"g.\" + self.dotsContainerClass);\r\n\r\n        var layer = dotsContainer.selectAll(\"g.\"+layerClass).data(plot.groupedData);\r\n\r\n        var layerEnter = layer.enter().appendSelector(\"g.\"+layerClass);\r\n\r\n        var layerMerge = layerEnter.merge(layer);\r\n\r\n        var dots = layerMerge.selectAll('.' + dotClass)\r\n            .data(d=>d.values)\r\n\r\n        var dotsEnter = dots.enter().append(\"circle\")\r\n            .attr(\"class\", dotClass);\r\n\r\n        var dotsMerge = dotsEnter.merge(dots);\r\n\r\n        var dotsT = dotsMerge;\r\n        if (self.transitionEnabled()) {\r\n            dotsT = dotsMerge.transition();\r\n        }\r\n\r\n        dotsT.attr(\"r\", self.config.dotRadius)\r\n            .attr(\"cx\", plot.x.map)\r\n            .attr(\"cy\", plot.y.map);\r\n\r\n        if (plot.tooltip) {\r\n            dotsMerge.on(\"mouseover\", d => {\r\n                var html = \"(\" + plot.x.value(d) + \", \" + plot.y.value(d) + \")\";\r\n                var group = self.config.groups ?  self.config.groups.value.call(self.config,d) : null;\r\n                if (group || group === 0) {\r\n                    group = plot.groupToLabel[group];\r\n                    html += \"<br/>\";\r\n                    var label = self.config.groups.label;\r\n                    if (label) {\r\n                        html += label + \": \";\r\n                    }\r\n                    html += group\r\n                }\r\n                self.showTooltip(html);\r\n            })\r\n                .on(\"mouseout\", d => {\r\n                    self.hideTooltip();\r\n                });\r\n        }\r\n\r\n        if (plot.seriesColor) {\r\n            layerMerge.style(\"fill\", plot.seriesColor)\r\n        }else if(plot.color){\r\n            dotsMerge.style(\"fill\", plot.color)\r\n        }\r\n\r\n        dots.exit().remove();\r\n        layer.exit().remove();\r\n    }\r\n}\r\n","/*\r\n * https://gist.github.com/benrasmusen/1261977\r\n * NAME\r\n * \r\n * statistics-distributions.js - JavaScript library for calculating\r\n *   critical values and upper probabilities of common statistical\r\n *   distributions\r\n * \r\n * SYNOPSIS\r\n * \r\n * \r\n *   // Chi-squared-crit (2 degrees of freedom, 95th percentile = 0.05 level\r\n *   chisqrdistr(2, .05)\r\n *   \r\n *   // u-crit (95th percentile = 0.05 level)\r\n *   udistr(.05);\r\n *   \r\n *   // t-crit (1 degree of freedom, 99.5th percentile = 0.005 level) \r\n *   tdistr(1,.005);\r\n *   \r\n *   // F-crit (1 degree of freedom in numerator, 3 degrees of freedom \r\n *   //         in denominator, 99th percentile = 0.01 level)\r\n *   fdistr(1,3,.01);\r\n *   \r\n *   // upper probability of the u distribution (u = -0.85): Q(u) = 1-G(u)\r\n *   uprob(-0.85);\r\n *   \r\n *   // upper probability of the chi-square distribution\r\n *   // (3 degrees of freedom, chi-squared = 6.25): Q = 1-G\r\n *   chisqrprob(3,6.25);\r\n *   \r\n *   // upper probability of the t distribution\r\n *   // (3 degrees of freedom, t = 6.251): Q = 1-G\r\n *   tprob(3,6.251);\r\n *   \r\n *   // upper probability of the F distribution\r\n *   // (3 degrees of freedom in numerator, 5 degrees of freedom in\r\n *   //  denominator, F = 6.25): Q = 1-G\r\n *   fprob(3,5,.625);\r\n * \r\n * \r\n *  DESCRIPTION\r\n * \r\n * This library calculates percentage points (5 significant digits) of the u\r\n * (standard normal) distribution, the student's t distribution, the\r\n * chi-square distribution and the F distribution. It can also calculate the\r\n * upper probability (5 significant digits) of the u (standard normal), the\r\n * chi-square, the t and the F distribution.\r\n * \r\n * These critical values are needed to perform statistical tests, like the u\r\n * test, the t test, the F test and the chi-squared test, and to calculate\r\n * confidence intervals.\r\n * \r\n * If you are interested in more precise algorithms you could look at:\r\n *   StatLib: http://lib.stat.cmu.edu/apstat/ ; \r\n *   Applied Statistics Algorithms by Griffiths, P. and Hill, I.D.\r\n *   , Ellis Horwood: Chichester (1985)\r\n * \r\n * BUGS \r\n * \r\n * This port was produced from the Perl module Statistics::Distributions\r\n * that has had no bug reports in several years.  If you find a bug then\r\n * please double-check that JavaScript does not thing the numbers you are\r\n * passing in are strings.  (You can subtract 0 from them as you pass them\r\n * in so that \"5\" is properly understood to be 5.)  If you have passed in a\r\n * number then please contact the author\r\n * \r\n * AUTHOR\r\n * \r\n * Ben Tilly <btilly@gmail.com>\r\n * \r\n * Originl Perl version by Michael Kospach <mike.perl@gmx.at>\r\n * \r\n * Nice formating, simplification and bug repair by Matthias Trautner Kromann\r\n * <mtk@id.cbs.dk>\r\n * \r\n * COPYRIGHT \r\n * \r\n * Copyright 2008 Ben Tilly.\r\n * \r\n * This library is free software; you can redistribute it and/or modify it\r\n * under the same terms as Perl itself.  This means under either the Perl\r\n * Artistic License or the GPL v1 or later.\r\n */\r\n\r\nvar SIGNIFICANT = 5; // number of significant digits to be returned\r\n\r\nfunction chisqrdistr ($n, $p) {\r\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\tif ($p <= 0 || $p > 1) {\r\n\t\tthrow(\"Invalid p: $p\\n\"); \r\n\t}\r\n\treturn precision_string(_subchisqr($n-0, $p-0));\r\n}\r\n\r\nfunction udistr ($p) {\r\n\tif ($p > 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subu($p-0));\r\n}\r\n\r\nexport function tdistr ($n, $p) {\r\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\r\n\t\tthrow(\"Invalid n: $n\\n\");\r\n\t}\r\n\tif ($p <= 0 || $p >= 1) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subt($n-0, $p-0));\r\n}\r\n\r\nfunction fdistr ($n, $m, $p) {\r\n\tif (($n<=0) || ((Math.abs($n)-(Math.abs(integer($n))))!=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* first degree of freedom */\r\n\t}\r\n\tif (($m<=0) || ((Math.abs($m)-(Math.abs(integer($m))))!=0)) {\r\n\t\tthrow(\"Invalid m: $m\\n\"); /* second degree of freedom */\r\n\t}\r\n\tif (($p<=0) || ($p>1)) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subf($n-0, $m-0, $p-0));\r\n}\r\n\r\nfunction uprob ($x) {\r\n\treturn precision_string(_subuprob($x-0));\r\n}\r\n\r\nfunction chisqrprob ($n,$x) {\r\n\tif (($n <= 0) || ((Math.abs($n) - (Math.abs(integer($n)))) != 0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\treturn precision_string(_subchisqrprob($n-0, $x-0));\r\n}\r\n\r\nfunction tprob ($n, $x) {\r\n\tif (($n <= 0) || ((Math.abs($n) - Math.abs(integer($n))) !=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\treturn precision_string(_subtprob($n-0, $x-0));\r\n}\r\n\r\nfunction fprob ($n, $m, $x) {\r\n\tif (($n<=0) || ((Math.abs($n)-(Math.abs(integer($n))))!=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* first degree of freedom */\r\n\t}\r\n\tif (($m<=0) || ((Math.abs($m)-(Math.abs(integer($m))))!=0)) {\r\n\t\tthrow(\"Invalid m: $m\\n\"); /* second degree of freedom */\r\n\t} \r\n\treturn precision_string(_subfprob($n-0, $m-0, $x-0));\r\n}\r\n\r\n\r\nfunction _subfprob ($n, $m, $x) {\r\n\tvar $p;\r\n\r\n\tif ($x<=0) {\r\n\t\t$p=1;\r\n\t} else if ($m % 2 == 0) {\r\n\t\tvar $z = $m / ($m + $n * $x);\r\n\t\tvar $a = 1;\r\n\t\tfor (var $i = $m - 2; $i >= 2; $i -= 2) {\r\n\t\t\t$a = 1 + ($n + $i - 2) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = 1 - Math.pow((1 - $z), ($n / 2) * $a);\r\n\t} else if ($n % 2 == 0) {\r\n\t\tvar $z = $n * $x / ($m + $n * $x);\r\n\t\tvar $a = 1;\r\n\t\tfor (var $i = $n - 2; $i >= 2; $i -= 2) {\r\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = Math.pow((1 - $z), ($m / 2)) * $a;\r\n\t} else {\r\n\t\tvar $y = Math.atan2(Math.sqrt($n * $x / $m), 1);\r\n\t\tvar $z = Math.pow(Math.sin($y), 2);\r\n\t\tvar $a = ($n == 1) ? 0 : 1;\r\n\t\tfor (var $i = $n - 2; $i >= 3; $i -= 2) {\r\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\r\n\t\t} \r\n\t\tvar $b = Math.PI;\r\n\t\tfor (var $i = 2; $i <= $m - 1; $i += 2) {\r\n\t\t\t$b *= ($i - 1) / $i;\r\n\t\t}\r\n\t\tvar $p1 = 2 / $b * Math.sin($y) * Math.pow(Math.cos($y), $m) * $a;\r\n\r\n\t\t$z = Math.pow(Math.cos($y), 2);\r\n\t\t$a = ($m == 1) ? 0 : 1;\r\n\t\tfor (var $i = $m-2; $i >= 3; $i -= 2) {\r\n\t\t\t$a = 1 + ($i - 1) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = max(0, $p1 + 1 - 2 * $y / Math.PI\r\n\t\t\t- 2 / Math.PI * Math.sin($y) * Math.cos($y) * $a);\r\n\t}\r\n\treturn $p;\r\n}\r\n\r\n\r\nfunction _subchisqrprob ($n,$x) {\r\n\tvar $p;\r\n\r\n\tif ($x <= 0) {\r\n\t\t$p = 1;\r\n\t} else if ($n > 100) {\r\n\t\t$p = _subuprob((Math.pow(($x / $n), 1/3)\r\n\t\t\t\t- (1 - 2/9/$n)) / Math.sqrt(2/9/$n));\r\n\t} else if ($x > 400) {\r\n\t\t$p = 0;\r\n\t} else {   \r\n\t\tvar $a;\r\n                var $i;\r\n                var $i1;\r\n\t\tif (($n % 2) != 0) {\r\n\t\t\t$p = 2 * _subuprob(Math.sqrt($x));\r\n\t\t\t$a = Math.sqrt(2/Math.PI) * Math.exp(-$x/2) / Math.sqrt($x);\r\n\t\t\t$i1 = 1;\r\n\t\t} else {\r\n\t\t\t$p = $a = Math.exp(-$x/2);\r\n\t\t\t$i1 = 2;\r\n\t\t}\r\n\r\n\t\tfor ($i = $i1; $i <= ($n-2); $i += 2) {\r\n\t\t\t$a *= $x / $i;\r\n\t\t\t$p += $a;\r\n\t\t}\r\n\t}\r\n\treturn $p;\r\n}\r\n\r\nfunction _subu ($p) {\r\n\tvar $y = -Math.log(4 * $p * (1 - $p));\r\n\tvar $x = Math.sqrt(\r\n\t\t$y * (1.570796288\r\n\t\t  + $y * (.03706987906\r\n\t\t  \t+ $y * (-.8364353589E-3\r\n\t\t\t  + $y *(-.2250947176E-3\r\n\t\t\t  \t+ $y * (.6841218299E-5\r\n\t\t\t\t  + $y * (0.5824238515E-5\r\n\t\t\t\t\t+ $y * (-.104527497E-5\r\n\t\t\t\t\t  + $y * (.8360937017E-7\r\n\t\t\t\t\t\t+ $y * (-.3231081277E-8\r\n\t\t\t\t\t\t  + $y * (.3657763036E-10\r\n\t\t\t\t\t\t\t+ $y *.6936233982E-12)))))))))));\r\n\tif ($p>.5)\r\n                $x = -$x;\r\n\treturn $x;\r\n}\r\n\r\nfunction _subuprob ($x) {\r\n\tvar $p = 0; /* if ($absx > 100) */\r\n\tvar $absx = Math.abs($x);\r\n\r\n\tif ($absx < 1.9) {\r\n\t\t$p = Math.pow((1 +\r\n\t\t\t$absx * (.049867347\r\n\t\t\t  + $absx * (.0211410061\r\n\t\t\t  \t+ $absx * (.0032776263\r\n\t\t\t\t  + $absx * (.0000380036\r\n\t\t\t\t\t+ $absx * (.0000488906\r\n\t\t\t\t\t  + $absx * .000005383)))))), -16)/2;\r\n\t} else if ($absx <= 100) {\r\n\t\tfor (var $i = 18; $i >= 1; $i--) {\r\n\t\t\t$p = $i / ($absx + $p);\r\n\t\t}\r\n\t\t$p = Math.exp(-.5 * $absx * $absx) \r\n\t\t\t/ Math.sqrt(2 * Math.PI) / ($absx + $p);\r\n\t}\r\n\r\n\tif ($x<0)\r\n        \t$p = 1 - $p;\r\n\treturn $p;\r\n}\r\n\r\n   \r\nfunction _subt ($n, $p) {\r\n\r\n\tif ($p >= 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\r\n\tif ($p == 0.5) {\r\n\t\treturn 0;\r\n\t} else if ($p < 0.5) {\r\n\t\treturn - _subt($n, 1 - $p);\r\n\t}\r\n\r\n\tvar $u = _subu($p);\r\n\tvar $u2 = Math.pow($u, 2);\r\n\r\n\tvar $a = ($u2 + 1) / 4;\r\n\tvar $b = ((5 * $u2 + 16) * $u2 + 3) / 96;\r\n\tvar $c = (((3 * $u2 + 19) * $u2 + 17) * $u2 - 15) / 384;\r\n\tvar $d = ((((79 * $u2 + 776) * $u2 + 1482) * $u2 - 1920) * $u2 - 945) \r\n\t\t\t\t/ 92160;\r\n\tvar $e = (((((27 * $u2 + 339) * $u2 + 930) * $u2 - 1782) * $u2 - 765) * $u2\r\n\t\t\t+ 17955) / 368640;\r\n\r\n\tvar $x = $u * (1 + ($a + ($b + ($c + ($d + $e / $n) / $n) / $n) / $n) / $n);\r\n\r\n\tif ($n <= Math.pow(log10($p), 2) + 3) {\r\n\t\tvar $round;\r\n\t\tdo { \r\n\t\t\tvar $p1 = _subtprob($n, $x);\r\n\t\t\tvar $n1 = $n + 1;\r\n\t\t\tvar $delta = ($p1 - $p) \r\n\t\t\t\t/ Math.exp(($n1 * Math.log($n1 / ($n + $x * $x)) \r\n\t\t\t\t\t+ Math.log($n/$n1/2/Math.PI) - 1 \r\n\t\t\t\t\t+ (1/$n1 - 1/$n) / 6) / 2);\r\n\t\t\t$x += $delta;\r\n\t\t\t$round = round_to_precision($delta, Math.abs(integer(log10(Math.abs($x))-4)));\r\n\t\t} while (($x) && ($round != 0));\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction _subtprob ($n, $x) {\r\n\r\n\tvar $a;\r\n        var $b;\r\n\tvar $w = Math.atan2($x / Math.sqrt($n), 1);\r\n\tvar $z = Math.pow(Math.cos($w), 2);\r\n\tvar $y = 1;\r\n\r\n\tfor (var $i = $n-2; $i >= 2; $i -= 2) {\r\n\t\t$y = 1 + ($i-1) / $i * $z * $y;\r\n\t} \r\n\r\n\tif ($n % 2 == 0) {\r\n\t\t$a = Math.sin($w)/2;\r\n\t\t$b = .5;\r\n\t} else {\r\n\t\t$a = ($n == 1) ? 0 : Math.sin($w)*Math.cos($w)/Math.PI;\r\n\t\t$b= .5 + $w/Math.PI;\r\n\t}\r\n\treturn max(0, 1 - $b - $a * $y);\r\n}\r\n\r\nfunction _subf ($n, $m, $p) {\r\n\tvar $x;\r\n\r\n\tif ($p >= 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\r\n\tif ($p == 1) {\r\n\t\t$x = 0;\r\n\t} else if ($m == 1) {\r\n\t\t$x = 1 / Math.pow(_subt($n, 0.5 - $p / 2), 2);\r\n\t} else if ($n == 1) {\r\n\t\t$x = Math.pow(_subt($m, $p/2), 2);\r\n\t} else if ($m == 2) {\r\n\t\tvar $u = _subchisqr($m, 1 - $p);\r\n\t\tvar $a = $m - 2;\r\n\t\t$x = 1 / ($u / $m * (1 +\r\n\t\t\t(($u - $a) / 2 +\r\n\t\t\t\t(((4 * $u - 11 * $a) * $u + $a * (7 * $m - 10)) / 24 +\r\n\t\t\t\t\t(((2 * $u - 10 * $a) * $u + $a * (17 * $m - 26)) * $u\r\n\t\t\t\t\t\t- $a * $a * (9 * $m - 6)\r\n\t\t\t\t\t)/48/$n\r\n\t\t\t\t)/$n\r\n\t\t\t)/$n));\r\n\t} else if ($n > $m) {\r\n\t\t$x = 1 / _subf2($m, $n, 1 - $p)\r\n\t} else {\r\n\t\t$x = _subf2($n, $m, $p)\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction _subf2 ($n, $m, $p) {\r\n\tvar $u = _subchisqr($n, $p);\r\n\tvar $n2 = $n - 2;\r\n\tvar $x = $u / $n * \r\n\t\t(1 + \r\n\t\t\t(($u - $n2) / 2 + \r\n\t\t\t\t(((4 * $u - 11 * $n2) * $u + $n2 * (7 * $n - 10)) / 24 + \r\n\t\t\t\t\t(((2 * $u - 10 * $n2) * $u + $n2 * (17 * $n - 26)) * $u \r\n\t\t\t\t\t\t- $n2 * $n2 * (9 * $n - 6)) / 48 / $m) / $m) / $m);\r\n\tvar $delta;\r\n\tdo {\r\n\t\tvar $z = Math.exp(\r\n\t\t\t(($n+$m) * Math.log(($n+$m) / ($n * $x + $m)) \r\n\t\t\t\t+ ($n - 2) * Math.log($x)\r\n\t\t\t\t+ Math.log($n * $m / ($n+$m))\r\n\t\t\t\t- Math.log(4 * Math.PI)\r\n\t\t\t\t- (1/$n  + 1/$m - 1/($n+$m))/6\r\n\t\t\t)/2);\r\n\t\t$delta = (_subfprob($n, $m, $x) - $p) / $z;\r\n\t\t$x += $delta;\r\n\t} while (Math.abs($delta)>3e-4);\r\n\treturn $x;\r\n}\r\n\r\nfunction _subchisqr ($n, $p) {\r\n\tvar $x;\r\n\r\n\tif (($p > 1) || ($p <= 0)) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t} else if ($p == 1){\r\n\t\t$x = 0;\r\n\t} else if ($n == 1) {\r\n\t\t$x = Math.pow(_subu($p / 2), 2);\r\n\t} else if ($n == 2) {\r\n\t\t$x = -2 * Math.log($p);\r\n\t} else {\r\n\t\tvar $u = _subu($p);\r\n\t\tvar $u2 = $u * $u;\r\n\r\n\t\t$x = max(0, $n + Math.sqrt(2 * $n) * $u \r\n\t\t\t+ 2/3 * ($u2 - 1)\r\n\t\t\t+ $u * ($u2 - 7) / 9 / Math.sqrt(2 * $n)\r\n\t\t\t- 2/405 / $n * ($u2 * (3 *$u2 + 7) - 16));\r\n\r\n\t\tif ($n <= 100) {\r\n\t\t\tvar $x0;\r\n                        var $p1;\r\n                        var $z;\r\n\t\t\tdo {\r\n\t\t\t\t$x0 = $x;\r\n\t\t\t\tif ($x < 0) {\r\n\t\t\t\t\t$p1 = 1;\r\n\t\t\t\t} else if ($n>100) {\r\n\t\t\t\t\t$p1 = _subuprob((Math.pow(($x / $n), (1/3)) - (1 - 2/9/$n))\r\n\t\t\t\t\t\t/ Math.sqrt(2/9/$n));\r\n\t\t\t\t} else if ($x>400) {\r\n\t\t\t\t\t$p1 = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar $i0\r\n                                        var $a;\r\n\t\t\t\t\tif (($n % 2) != 0) {\r\n\t\t\t\t\t\t$p1 = 2 * _subuprob(Math.sqrt($x));\r\n\t\t\t\t\t\t$a = Math.sqrt(2/Math.PI) * Math.exp(-$x/2) / Math.sqrt($x);\r\n\t\t\t\t\t\t$i0 = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$p1 = $a = Math.exp(-$x/2);\r\n\t\t\t\t\t\t$i0 = 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var $i = $i0; $i <= $n-2; $i += 2) {\r\n\t\t\t\t\t\t$a *= $x / $i;\r\n\t\t\t\t\t\t$p1 += $a;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$z = Math.exp((($n-1) * Math.log($x/$n) - Math.log(4*Math.PI*$x) \r\n\t\t\t\t\t+ $n - $x - 1/$n/6) / 2);\r\n\t\t\t\t$x += ($p1 - $p) / $z;\r\n\t\t\t\t$x = round_to_precision($x, 5);\r\n\t\t\t} while (($n < 31) && (Math.abs($x0 - $x) > 1e-4));\r\n\t\t}\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction log10 ($n) {\r\n\treturn Math.log($n) / Math.log(10);\r\n}\r\n \r\nfunction max () {\r\n\tvar $max = arguments[0];\r\n\tfor (var $i = 0; i < arguments.length; i++) {\r\n                if ($max < arguments[$i])\r\n                        $max = arguments[$i];\r\n\t}\t\r\n\treturn $max;\r\n}\r\n\r\nfunction min () {\r\n\tvar $min = arguments[0];\r\n\tfor (var $i = 0; i < arguments.length; i++) {\r\n                if ($min > arguments[$i])\r\n                        $min = arguments[$i];\r\n\t}\r\n\treturn $min;\r\n}\r\n\r\nfunction precision ($x) {\r\n\treturn Math.abs(integer(log10(Math.abs($x)) - SIGNIFICANT));\r\n}\r\n\r\nfunction precision_string ($x) {\r\n\tif ($x) {\r\n\t\treturn round_to_precision($x, precision($x));\r\n\t} else {\r\n\t\treturn \"0\";\r\n\t}\r\n}\r\n\r\nfunction round_to_precision ($x, $p) {\r\n        $x = $x * Math.pow(10, $p);\r\n        $x = Math.round($x);\r\n        return $x / Math.pow(10, $p);\r\n}\r\n\r\nfunction integer ($i) {\r\n        if ($i > 0)\r\n                return Math.floor($i);\r\n        else\r\n                return Math.ceil($i);\r\n}","import {tdistr} from \"./statistics-distributions\"\r\n\r\nvar su = module.exports.StatisticsUtils ={};\r\nsu.sampleCorrelation = require('../bower_components/simple-statistics/src/sample_correlation');\r\nsu.linearRegression = require('../bower_components/simple-statistics/src/linear_regression');\r\nsu.linearRegressionLine = require('../bower_components/simple-statistics/src/linear_regression_line');\r\nsu.errorFunction = require('../bower_components/simple-statistics/src/error_function');\r\nsu.standardDeviation = require('../bower_components/simple-statistics/src/standard_deviation');\r\nsu.sampleStandardDeviation = require('../bower_components/simple-statistics/src/sample_standard_deviation');\r\nsu.variance = require('../bower_components/simple-statistics/src/variance');\r\nsu.mean = require('../bower_components/simple-statistics/src/mean');\r\nsu.zScore = require('../bower_components/simple-statistics/src/z_score');\r\nsu.standardError= arr => Math.sqrt(su.variance(arr)/(arr.length-1));\r\nsu.quantile = require('../bower_components/simple-statistics/src/quantile');\r\n\r\nsu.tValue= (degreesOfFreedom, criticalProbability) => { //as in http://stattrek.com/online-calculator/t-distribution.aspx\r\n    return tdistr(degreesOfFreedom, criticalProbability);\r\n};","export class Utils {\r\n    static SQRT_2 = 1.41421356237;\r\n    // usage example deepExtend({}, objA, objB); => should work similar to $.extend(true, {}, objA, objB);\r\n    static deepExtend(out) {\r\n\r\n        var utils = this;\r\n        var emptyOut = {};\r\n\r\n\r\n        if (!out && arguments.length > 1 && Array.isArray(arguments[1])) {\r\n            out = [];\r\n        }\r\n        out = out || {};\r\n\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            var source = arguments[i];\r\n            if (!source)\r\n                continue;\r\n\r\n            for (var key in source) {\r\n                if (!source.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n                var isArray = Array.isArray(out[key]);\r\n                var isObject = utils.isObject(out[key]);\r\n                var srcObj = utils.isObject(source[key]);\r\n\r\n                if (isObject && !isArray && srcObj) {\r\n                    utils.deepExtend(out[key], source[key]);\r\n                } else {\r\n                    out[key] = source[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    };\r\n\r\n    static mergeDeep(target, source) {\r\n        let output = Object.assign({}, target);\r\n        if (Utils.isObjectNotArray(target) && Utils.isObjectNotArray(source)) {\r\n            Object.keys(source).forEach(key => {\r\n                if (Utils.isObjectNotArray(source[key])) {\r\n                    if (!(key in target))\r\n                        Object.assign(output, {[key]: source[key]});\r\n                    else\r\n                        output[key] = Utils.mergeDeep(target[key], source[key]);\r\n                } else {\r\n                    Object.assign(output, {[key]: source[key]});\r\n                }\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n\r\n    static cross(a, b) {\r\n        var c = [], n = a.length, m = b.length, i, j;\r\n        for (i = -1; ++i < n;) for (j = -1; ++j < m;) c.push({x: a[i], i: i, y: b[j], j: j});\r\n        return c;\r\n    };\r\n\r\n    static inferVariables(data, groupKey, includeGroup) {\r\n        var res = [];\r\n        if(!data){\r\n            return res;\r\n        }\r\n\r\n        if (data.length) {\r\n            var d = data[0];\r\n            if (d instanceof Array) {\r\n                res = d.map(function (v, i) {\r\n                    return i;\r\n                });\r\n            } else if (typeof d === 'object') {\r\n\r\n                for (var prop in d) {\r\n                    if (!d.hasOwnProperty(prop)) continue;\r\n\r\n                    res.push(prop);\r\n                }\r\n            }\r\n        }\r\n        if (groupKey !== null && groupKey !== undefined && !includeGroup) {\r\n            var index = res.indexOf(groupKey);\r\n            if (index > -1) {\r\n                res.splice(index, 1);\r\n            }\r\n        }\r\n        return res\r\n    };\r\n\r\n    static isObjectNotArray(item) {\r\n        return (item && typeof item === 'object' && !Array.isArray(item) && item !== null);\r\n    };\r\n\r\n    static isArray(item) {\r\n        return Array.isArray(item);\r\n    };\r\n\r\n    static isObject(a) {\r\n        return a !== null && typeof a === 'object';\r\n    };\r\n\r\n    static isNumber(a) {\r\n        return !isNaN(a) && typeof a === 'number';\r\n    };\r\n\r\n    static isFunction(a) {\r\n        return typeof a === 'function';\r\n    };\r\n\r\n    static isDate(a){\r\n        return Object.prototype.toString.call(a) === '[object Date]'\r\n    }\r\n\r\n    static isString(a){\r\n        return typeof a === 'string' || a instanceof String\r\n    }\r\n\r\n    static insertOrAppendSelector(parent, selector, operation, before) {\r\n\r\n        var selectorParts = selector.split(/([\\.\\#])/);\r\n        var element = parent[operation](selectorParts.shift(), before);//\":first-child\"\r\n        \r\n        while (selectorParts.length > 1) {\r\n            var selectorModifier = selectorParts.shift();\r\n            var selectorItem = selectorParts.shift();\r\n            if (selectorModifier === \".\") {\r\n                element = element.classed(selectorItem, true);\r\n            } else if (selectorModifier === \"#\") {\r\n                element = element.attr('id', selectorItem);\r\n            }\r\n        }\r\n        return element;\r\n    }\r\n\r\n    static insertSelector(parent, selector, before) {\r\n        return Utils.insertOrAppendSelector(parent, selector, \"insert\", before);\r\n    }\r\n\r\n    static appendSelector(parent, selector) {\r\n        return Utils.insertOrAppendSelector(parent, selector, \"append\");\r\n    }\r\n\r\n    static selectOrAppend(parent, selector, element) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            if (element) {\r\n                return parent.append(element);\r\n            }\r\n            return Utils.appendSelector(parent, selector);\r\n\r\n        }\r\n        return selection;\r\n    };\r\n\r\n    static selectOrInsert(parent, selector, before) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            return Utils.insertSelector(parent, selector, before);\r\n        }\r\n        return selection;\r\n    };\r\n\r\n    static linearGradient(svg, gradientId, range, x1, y1, x2, y2) {\r\n        var defs = Utils.selectOrAppend(svg, \"defs\");\r\n        var linearGradient = defs.append(\"linearGradient\")\r\n            .attr(\"id\", gradientId);\r\n\r\n        linearGradient\r\n            .attr(\"x1\", x1 + \"%\")\r\n            .attr(\"y1\", y1 + \"%\")\r\n            .attr(\"x2\", x2 + \"%\")\r\n            .attr(\"y2\", y2 + \"%\");\r\n\r\n        //Append multiple color stops by using D3's data/enter step\r\n        var stops = linearGradient.selectAll(\"stop\")\r\n            .data(range);\r\n\r\n        var stopsMerge = stops.enter().append(\"stop\").merge(stops);\r\n\r\n        stopsMerge.attr(\"offset\", (d, i) => i / (range.length - 1))\r\n            .attr(\"stop-color\", d => d);\r\n\r\n        stops.exit().remove();\r\n    }\r\n\r\n    static sanitizeHeight = function (height, container) {\r\n        return (height || parseInt(container.style('height'), 10) || 400);\r\n    };\r\n\r\n    static sanitizeWidth = function (width, container) {\r\n        return (width || parseInt(container.style('width'), 10) || 960);\r\n    };\r\n\r\n    static availableHeight = function (height, container, margin) {\r\n        return Math.max(0, Utils.sanitizeHeight(height, container) - margin.top - margin.bottom);\r\n    };\r\n\r\n    static availableWidth = function (width, container, margin) {\r\n        return Math.max(0, Utils.sanitizeWidth(width, container) - margin.left - margin.right);\r\n    };\r\n\r\n    static guid() {\r\n        function s4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n            s4() + '-' + s4() + s4() + s4();\r\n    }\r\n\r\n    //places textString in textObj, adds an ellipsis if text can't fit in width\r\n    static placeTextWithEllipsis(textD3Obj, textString, width){\r\n        var textObj = textD3Obj.node();\r\n        textObj.textContent=textString;\r\n\r\n        var margin = 0;\r\n        var ellipsisLength = 9;\r\n        //ellipsis is needed\r\n        if (textObj.getComputedTextLength()>width+margin){\r\n            for (var x=textString.length-3;x>0;x-=1){\r\n                if (textObj.getSubStringLength(0,x)+ellipsisLength<=width+margin){\r\n                    textObj.textContent=textString.substring(0,x)+\"...\";\r\n                    return true;\r\n                }\r\n            }\r\n            textObj.textContent=\"...\"; //can't place at all\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static placeTextWithEllipsisAndTooltip(textD3Obj, textString, width, tooltip){\r\n        var ellipsisPlaced = Utils.placeTextWithEllipsis(textD3Obj, textString, width);\r\n        if(ellipsisPlaced && tooltip){\r\n            textD3Obj.on(\"mouseover\", function (d) {\r\n                tooltip.transition()\r\n                    .duration(200)\r\n                    .style(\"opacity\", .9);\r\n                tooltip.html(textString)\r\n                    .style(\"left\", (d3.event.pageX + 5) + \"px\")\r\n                    .style(\"top\", (d3.event.pageY - 28) + \"px\");\r\n            });\r\n\r\n            textD3Obj.on(\"mouseout\", function (d) {\r\n                tooltip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    static getFontSize(element){\r\n        return window.getComputedStyle(element, null).getPropertyValue(\"font-size\");\r\n    }\r\n\r\n    static capitalizeFirstLetter(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    static createScale(scaleName) {\r\n        var scaleFunctionName = 'scale'+Utils.capitalizeFirstLetter(scaleName);\r\n        try{\r\n            return d3[scaleFunctionName]();\r\n        }catch (e){\r\n            throw 'ODC-D3 - scale not supported: '+scaleName+ ' ('+scaleFunctionName+')';\r\n        }\r\n    }\r\n\r\n    static createAxis(orient, scale){\r\n        var axisFnName = 'axis'+Utils.capitalizeFirstLetter(orient);\r\n        try{\r\n            return d3[axisFnName](scale)\r\n        }catch (e){\r\n            throw 'ODC-D3 - axis orient not supported: '+orient;\r\n        }\r\n    }\r\n}\r\n"]}