{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/d3-collection/dist/d3-collection.js","node_modules/d3-color/dist/d3-color.js","node_modules/d3-interpolate/dist/d3-interpolate.js","node_modules/d3-svg-legend/src/legend.js","node_modules/d3-svg-legend/src/color.js","node_modules/d3-svg-legend/src/size.js","node_modules/d3-svg-legend/src/symbol.js","node_modules/d3-svg-legend/src/helpers.js","node_modules/d3-svg-legend/index.js","node_modules/d3-svg-legend/node_modules/d3-array/build/d3-array.js","node_modules/d3-svg-legend/node_modules/d3-dispatch/build/d3-dispatch.js","node_modules/d3-svg-legend/node_modules/d3-format/build/d3-format.js","node_modules/d3-svg-legend/node_modules/d3-scale/build/d3-scale.js","node_modules/d3-svg-legend/node_modules/d3-selection/build/d3-selection.js","node_modules/d3-time-format/dist/d3-time-format.js","node_modules/d3-time/dist/d3-time.js","node_modules/simple-statistics/src/error_function.js","node_modules/simple-statistics/src/linear_regression.js","node_modules/simple-statistics/src/linear_regression_line.js","node_modules/simple-statistics/src/mean.js","node_modules/simple-statistics/src/quantile.js","node_modules/simple-statistics/src/quantile_sorted.js","node_modules/simple-statistics/src/quickselect.js","node_modules/simple-statistics/src/sample_correlation.js","node_modules/simple-statistics/src/sample_covariance.js","node_modules/simple-statistics/src/sample_standard_deviation.js","node_modules/simple-statistics/src/sample_variance.js","node_modules/simple-statistics/src/standard_deviation.js","node_modules/simple-statistics/src/sum.js","node_modules/simple-statistics/src/sum_nth_power_deviations.js","node_modules/simple-statistics/src/variance.js","node_modules/simple-statistics/src/z_score.js","src/bar-chart.js","src/box-plot-base.js","src/box-plot.js","src/chart-with-color-groups.js","src/chart.js","src/correlation-matrix.js","src/d3-extensions.js","src/d3.js","src/diverging-stacked-bar-chart.js","src/heatmap-timeseries.js","src/heatmap.js","src/histogram.js","src/index.js","src/legend.js","src/line-chart.js","src/regression.js","src/scatterplot-matrix.js","src/scatterplot.js","src/statistics-distributions.js","src/statistics-utils.js","src/utils.js"],"names":["f","exports","module","define","amd","window","global","self","this","ODCD3","r","e","n","t","o","i","c","require","u","a","Error","code","p","call","length","1","factory","prefix","Map","map","object","each","value","key","set","Array","isArray","createObject","setObject","createMap","setMap","map$$1","Set","prototype","constructor","has","get","remove","property","clear","keys","push","slice","values","entries","size","empty","proto","add","nest","_sortValues","_rollup","_sortKeys","apply","array","depth","createResult","setResult","sort","keyValue","valuesByKey","result","_entries","sortKey","v","k","b","d","sortKeys","order","sortValues","rollup","Object","defineProperty","_typeof","d3","extend","parent","definition","create","Color","_brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","format","m","trim","toLowerCase","exec","Rgb","parseInt","rgbn","rgba","hsla","hasOwnProperty","NaN","g","rgbConvert","rgb","opacity","arguments","_hex","Math","max","min","round","toString","h","s","l","Hsl","hsl","hslConvert","hsl2rgb","m1","m2","displayable","hex","brighter","pow","darker","isNaN","deg2rad","PI","rad2deg","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","cos","sin","x","z","rgb2lrgb","y","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","sqrt","hcl","B","C","D","E","ED","EB","BC_DA","cubehelix","Cubehelix","bl","cubehelixConvert","cosh","sinh","lch","d3Color","basis","v0","v1","v2","v3","basis$1","floor","basisClosed","constant","linear","hue","gamma","nogamma","exponential","rgbGamma","start","end","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","nb","na","date","Date","setTime","number","reA","reB","source","string","am","bm","bs","bi","lastIndex","q","index","one","zero","join","valueOf","cssNode","cssRoot","cssView","svgNode","degrees","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","scale","interpolateTransformCss","document","createElement","documentElement","defaultView","style","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","split","interpolateTransformSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","rho","SQRT2","exp","hue$$1","hsl$1","hslLong","hcl$1","hclLong","cubehelixGamma","cubehelix$1","cubehelixLong","interpolate","interpolateArray","interpolateBasis","interpolateBasisClosed","interpolateDate","interpolateDiscrete","range","interpolateHue","interpolateNumber","interpolateObject","interpolateRound","interpolateString","interpolateZoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","b0","b1","r0","r1","coshr0","tanh","duration","interpolateRgb","interpolateRgbBasis","interpolateRgbBasisClosed","interpolateHsl","interpolateHslLong","interpolateLab","interpolateHcl","interpolateHclLong","interpolateCubehelix","interpolateCubehelixLong","piecewise","I","quantize","interpolator","samples","d3_identity","d3_reverse","arr","mirror","d3_textWrapping","text","width","word","d3Selection","select","words","reverse","line","attr","parseFloat","tspan","append","node","getComputedTextLength","helper","shape","shapes","shapeHeight","shapeWidth","shapeRadius","path","svg","enter","labels","classPrefix","labelWidth","selectAll","data","ascending","cells","labelFormat","labelDelimiter","type","invertExtent","invert","d3_quantLegend","ticks","domain","increment","d3_linearLegend","d3_ordinalLegend","gen","undefined","customLabels","genLength","_i","d3_mergeLabels","cellFilter","filterCells","label","filter","dataValues","labelValues","indexOf","orient","cell","cellTrans","textTrans","labelAlign","dispatcher","on","cellDispatcher","obj","title","titleWidth","cellsSvg","yOffset","nodes","getBBox","height","xOffset","d3Scale","scaleLinear","shapePadding","useClass","locale","d3_defaultLocale","specifier","d3_defaultFormatSpecifier","labelOffset","d3_defaultDelimiter","labelWrap","legendDispatcher","d3Dispatch","dispatch","legend","d3_calcType","d3_filterCells","cellEnter","d3_addEvents","exit","transition","merge","d3_drawShapes","d3_addText","textSize","shapeSize","feature","cellSize","textAlign","d3Array","sum","d3_placement","d3_title","_","d3Format","formatLocale","formatSpecifier","textWrap","legendG","bbox","stroke","maxH","maxW","offset","symbol","legendHelpers","_ref","generatedLabels","bisector","compare","ascendingComparator","left","lo","hi","mid","right","ascendingBisect","bisectRight","bisectLeft","variance","j","deviation","extent","stop","step","ceil","e10","e5","e2","count","tickStep","step0","abs","step1","LN10","error","sturges","LN2","quantile","transpose","row","bisect","descending","histogram","threshold","xz","x0","x1","tz","shift","bin","bins","thresholds","thresholdFreedmanDiaconis","thresholdScott","thresholdSturges","mean","median","numbers","arrays","merged","pairs","permute","indexes","permutes","scan","xi","xj","shuffle","i0","i1","random","zip","noop","Dispatch","name","callback","concat","typename","T","typenames","types","parseTypenames","copy","that","args","formatDecimal","toExponential","coefficient","exponent","prefixExponent","formatRounded","formatTypes","","out","toPrecision","%","toFixed","_p","X","toUpperCase","_x","re","FormatSpecifier","match","fill","align","sign","comma","precision","prefixes","group","grouping","thousands","substring","formatGroup","currency","decimal","newFormat","test","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","Infinity","padding","formatPrefix","defaultLocale","formatDefaultLocale","precisionFixed","precisionPrefix","precisionRound","d3Collection","d3Interpolate","d3Time","d3TimeFormat","map$1","implicit","ordinal","unknown","band","bandwidth","ordinalRange","paddingInner","paddingOuter","rescale","rangeRound","unit","deinterpolate","bimap","reinterpolate","d0","polymap","target","clamp","continuous","deinterpolate$$","output","input","deinterpolateClamp","reinterpolateClamp","linearish","tickFormat","nice","interval","deinterpolate$1","pow10","isFinite","powp","base","logp","log10","log2","reflect","raise","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","number$1","calendar","year","month","week","day","hour","minute","second","millisecond","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","tickInterval","every","category10","category20b","category20c","category20","warm","cool","rainbow","ramp","viridis","magma","inferno","plasma","scaleBand","scalePoint","pointish","scaleIdentity","scaleLog","logs","pows","scaleOrdinal","scaleImplicit","scalePow","scaleSqrt","scaleQuantile","quantile$1","quantiles","scaleQuantize","scaleThreshold","scaleTime","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","timeFormat","scaleUtc","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","utcFormat","UTC","schemeCategory10","schemeCategory20b","schemeCategory20c","schemeCategory20","interpolateCubehelixDefault","interpolateRainbow","ts","interpolateWarm","interpolateCool","interpolateViridis","interpolateMagma","interpolateInferno","interpolatePlasma","scaleSequential","sequential","xhtml","namespaces","xlink","xml","xmlns","namespace","space","local","creator","fullname","ownerDocument","uri","namespaceURI","nextId","Local","id","parentNode","matcher","selector","matches","element","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","matcher$1","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","sourceEvent","current","point","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","clientLeft","top","clientTop","none","querySelector","selectorAll","querySelectorAll","sparse","update","EnterNode","datum","_next","_parent","child","insertBefore","next","keyPrefix","bindIndex","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","textRemove","textContent","htmlRemove","innerHTML","nextSibling","lower","previousSibling","firstChild","constantNull","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","splice","contains","root","Selection","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","bind","enterGroup","updateGroup","previous","_enter","_exit","groups0","groups1","m0","merges","group0","group1","compareNode","sortgroups","sortgroup","getAttributeNS","removeAttributeNS","removeAttribute","setAttributeNS","priority","removeProperty","setProperty","classed","html","insert","before","mouse","changedTouches","touch","touches","identifier","points","customEvent","localDate","H","M","L","setFullYear","utcDate","setUTCFullYear","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","getDay","A","getMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","getHours","Q","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","U","formatWeekNumberSunday","V","formatWeekNumberISO","w","formatWeekdayNumberSunday","W","formatWeekNumberMonday","Y","formatFullYear","Z","formatZone","formatLiteralPercent","utcFormats","getUTCDay","getUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","getUTCHours","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseSpecifier","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","newDate","utcMonday","getUTCFullYear","getUTCDate","timeMonday","getFullYear","getDate","utcParse","-","0","numberRe","percentRe","requoteRe","requote","replace","getMilliseconds","getMinutes","getSeconds","timeSunday","timeThursday","getTimezoneOffset","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","utcSunday","utcThursday","timeParse","isoSpecifier","formatIso","toISOString","parseIso","timeFormatDefaultLocale","timeFormatLocale","isoFormat","isoParse","newInterval","floori","offseti","field","milliseconds","seconds","minutes","hours","setHours","setDate","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","setMonth","years","setUTCSeconds","utcMinutes","setUTCMinutes","utcHours","setUTCHours","setUTCDate","utcDays","utcWeekday","utcTuesday","utcWednesday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","setUTCMonth","utcMonths","utcYears","timeInterval","timeMilliseconds","utcMilliseconds","timeSeconds","utcSeconds","timeMinutes","timeHours","timeDays","timeWeeks","timeSundays","timeMondays","timeTuesday","timeTuesdays","timeWednesday","timeWednesdays","timeThursdays","timeFriday","timeFridays","timeSaturday","timeSaturdays","timeMonths","timeYears","utcWeeks","tau","sumX","sumY","sumXX","sumXY","mb","quantileSorted","quickselect","quantileSelect","quantileIndex","len","idx","indices","stack","multiQuantileSelect","results","swap","tmp","sd","newLeft","newRight","sampleCovariance","sampleStandardDeviation","xmean","ymean","sampleVariance","sampleVarianceX","sumNthPowerDeviations","correction","tempValue","meanValue","standardDeviation","_chartWithColorGroups","_utils","_interopRequireWildcard","BarChartConfig","ChartWithColorGroupsConfig","custom","_this","_classCallCheck","_super","svgClass","cssClassPrefix","showLegend","showTooltip","Utils","isNumber","_assertThisInitialized","deepExtend","BarChart","ChartWithColorGroups","placeholderSelector","config","_super2","_get","_getPrototypeOf","plot","computePlotSize","setupY","setupX","setupGroupStacks","setupYDomain","conf","axis","createAxis","series","from","createScale","layers","layer","y0","groupData","y0s","groupedData","forEach","mapToPoint","prevY0","axisConf","svgG","selectOrAppend","prefixClass","guides","axisT","ease","easeSinInOut","margin","bottom","layerClass","barClass","layerMerge","bar","barEnter","barRectEnter","barMerge","barRect","barRectT","barT","layerT","transitionEnabled","yDomain","seriesColor","tooltip","hideTooltip","newData","drawAxisX","drawAxisY","drawBars","_chart","BoxPlotBaseConfig","ChartConfig","domainMargin","Q1","Q2","Q3","Wl","whiskerLow","Wh","whiskerHigh","outliers","outlierValue","outlierLabel","minBoxWidth","maxBoxWidth","d3ColorCategory","BoxPlotBase","Chart","getDataToPlot","setupColor","tickSize","_this2","yMin","yMax","q1","q3","wl","wh","boxplotClass","boxplots","boxplotEnter","boxplotsMerge","boxplotsT","delay","boxWidth","boxLeft","boxRight","boxClass","boxRects","boxRectsT","medianClass","medianLine","whiskerClass","tickClass","whiskers","box","endpoint","whisker","tick","outlierClass","outlierEnterCircle","outliersMerge","outliersT","drawBoxPlots","_this3","colorSchemeCategory","capitalizeFirstLetter","colorCategory","colorValue","String","_boxPlotBase","_statisticsUtils","BoxPlotConfig","displayValue","tukey","BoxPlot","groupingEnabled","isGroupingEnabled","groupValue","getDisplayValue","isFunction","isObject","StatisticsUtils","IQR","_legend","forceLegend","setupGroups","getOwnPropertyNames","groupToLabel","computeGroupColorDomain","getLabel","groupColorDomain","_this4","enabledGroups","updateLegend","legendX","legendY","Legend","legendColor","onLegendCellClick","container","updateLegendCellStatuses","cellValue","updateEnabledGroups","init","isDisabled","titleSize","titleMargin","subtitle","subtitleSize","subtitleMargin","utils","_attached","_layers","_events","_isInitialized","_id","guid","_isAttached","baseContainer","setConfig","setData","postInit","initConfigAccessors","initPlot","initSvg","initTooltip","draw","svgWidth","svgHeight","titleMarginSize","attachmentData","attachmentName","updateTitle","updateSubtitle","titleClass","subtitleClass","chart","context","once","off","events","ev","getBaseContainer","clazz","addDot","availableWidth","availableHeight","pageX","pageY","clean","removePropertyAccessors","initPropertyAccessors","bindTo","returnObj","recursive","accessor","initPropertyAccessor","isObjectNotArray","propertyKey","_scatterplot","CorrelationMatrixConfig","highlightLabels","rotateLabelsX","rotateLabelsY","variables","variableKey","correlation","xValues","yValues","sampleCorrelation","sizeMin","sizeMax","CorrelationMatrix","setupVariables","placeholderNode","getBaseContainerNode","parentWidth","setupVariablesScales","setupCorrelationScales","setupCorrelationMatrix","corrConf","cellConf","radiusMax","radiusScale","radius","radiusX","radiusY","rotateVal","variablesConf","domainByVariable","inferVariables","includeInPlot","labelByVariable","matrixCells","variableToValues","corr","rowVar","colVar","col","updateCells","updateVariableLabels","labelClass","updateAxisX","updateAxisY","labelXClass","labelsMerge","maxWidth","computeXAxisLabelsWidth","placeTextWithEllipsisAndTooltip","labelYClass","computeYAxisLabelsWidth","SQRT_2","fontSize","cellClass","cellShape","cellsMerge","scatterPlot","mouseoverCallbacks","mouseoutCallbacks","highlightClass","xLabelClass","yLabelClass","trigger","barHeight","linearGradientBar","containerSelector","scatterPlotConfig","ScatterPlot","attach","D3Extensions","insertSelector","appendSelector","selectOrInsert","operation","selectorParts","selectorModifier","selectorItem","insertOrAppendSelector","DivergingStackedBarChartConfig","showBarValues","colorRange","categoryNames","middleValue","DivergingStackedBarChart","neutralIndex","rows","originalValues","total","categories","catIndex","boxes","originalValue","_toConsumableArray","titleY","titleDY","rowClass","rowMerge","bars","barsEnter","barsM","textM","_heatmap","HeatmapTimeSeriesConfig","HeatmapConfig","fillMissing","intervalStep","displayFormat","intervalToFormats","sortComparator","isString","localeCompare","formatter","Number","Intl","NumberFormat","HeatmapTimeSeries","Heatmap","guessTimeFormat","initTimeFormatAndInterval","timeParser","getTimeParser","uniqueValues","prev","parseTime","nextTimeTickValue","missing","iteration","compareTimeValues","timeString","formatTime","updateGroups","parser","getTimeFormatter","isDate","rowIndex","prevRowValue","colIndex","guessInterval","intervalFormat","some","timeFormatter","noDataText","rotateLabels","decimalPlaces","sortLabels","overlap","notAvailableValue","noDataColor","reverseScale","matrixes","setupValues","buildCells","groupByX","allTitlesWidth","groupByY","_allTitlesWidth","setupZScale","children","level","valueMap","minZ","maxZ","xVal","yVal","zValRaw","zVal","groupY","groupX","setupValuesBeforeGroupsSort","gaps","totalValuesCount","allValuesList","sortGroups","val","axisVal","rootGroup","axisGroupsConfig","currentGroup","groupKey","groupKeyIndex","groupingValue","axisConfig","allValuesCount","allValuesBeforeCount","gapsBefore","gapsSize","computeGapsSize","gapsBeforeSize","childrenList","childrenCount","childProp","gapsInside","gapsInsideSize","cellWidth","xGapsSize","computedCellWidth","yGapsSize","computedCellHeight","cellHeight","unshift","drawGroupsY","drawGroupsX","updateAxisTitles","offsetX","gapSize","computeGapSize","formatValueX","elem","offsetY","formatValueY","parentGroup","groupClass","groupYClass","valuesBeforeCount","groupsEnter","titleGroupEnter","titleRectWidth","groupTitleRectHeight","groupsMerge","groupWidth","tileRects","setGroupMouseCallbacks","groupXClass","titleRectHeight","groupHeight","cellContainerClass","paddingX","paddingY","cellContainer","formatValueZ","formatLegendValue","setRotateLabels","gapLevel","maxGroupGapSize","gapsNumber","gapsLevel","HistogramConfig","frequency","Histogram","setupHistogram","yStackMax","stackedHistograms","histogramBins","drawHistogram","_d3Extensions","_scatterplotMatrix","_regression","_correlationMatrix","_heatmapTimeseries","_histogram","_barChart","_boxPlot","_divergingStackedBarChart","_lineChart","_d3SvgLegend","legendParent","legendClass","legendSize","legendSymbol","barWidth","gradientId","linearGradient","ticksNumber","ticksMerge","LineChartConfig","dotRadius","dotId","onDotHover","onDotHoverOut","lineId","onLineHover","onLineHoverOut","LineChart","updateLines","lineClass","linesContainerClass","layerEnter","linePathEnter","linePath","linePathMerge","linePathT","dotClass","dots","dotsMerge","dotsT","RegressionConfig","ScatterPlotConfig","mainRegression","groupRegression","confidence","criticalValue","degreesOfFreedom","criticalProbability","tValue","marginOfError","areaCurve","curveNatural","Regression","initRegressionLines","groupsAvailable","regressions","regression","initRegression","initGroupRegression","groupVal","linearRegression","linearRegressionLine","extentX","linePoints","curve","curveBasis","computeConfidence","meanX","xMySum","xSum","xPowSum","ySum","yPowSum","Sy2","Sa2","errorFn","fitInPlot","centerX","confidenceAreaPoints","moe","y1","area","updateRegressionLines","regressionContainerSelector","clipPathId","regressionContainer","dotsContainerClass","regressionClass","confidenceAreaClass","regressionSelector","regressionEnter","regressionMerge","lineT","areaT","ScatterPlotMatrixConfig","minCellSize","maxCellSize","brush","ScatterPlotMatrix","dot","subplots","variable","axisClass","xAxisSelector","yAxisSelector","noGuidesClass","xAxis","yAxis","yAxisMerge","cross","cellMerge","drawBrush","frameClass","subplot","hiddenClass","brushCell","clearBrush","move","updateDots","$n","$p","integer","precision_string","_subt","SIGNIFICANT","_subu","$y","$x","$round","$u","$u2","$n1","$delta","_subtprob","round_to_precision","$a","$w","$z","$i","$max","_statisticsDistributions","su","errorFunction","zScore","standardError","tdistr","srcObj","assign","mergeDeep","_defineProperty","includeGroup","res","prop","item","x2","y2","stops","s4","textD3Obj","textString","textObj","getSubStringLength","placeTextWithEllipsis","scaleName","scaleFunctionName","axisFnName","sanitizeHeight","sanitizeWidth"],"mappings":"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","file":"odc-d3.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// https://d3js.org/d3-collection/ v1.0.7 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nfunction nest() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map$$1, depth) {\n    if (++depth > keys.length) return map$$1;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map$$1.entries();\n    else array = [], map$$1.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map$$1, key, value) {\n  map$$1.set(key, value);\n}\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nfunction keys(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n\nfunction values(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n\nfunction entries(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n\nexports.nest = nest;\nexports.set = set;\nexports.map = map;\nexports.keys = keys;\nexports.values = values;\nexports.entries = entries;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-color/ v1.2.3 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nfunction color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nvar deg2rad = Math.PI / 180;\nvar rad2deg = 180 / Math.PI;\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nfunction gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nfunction lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nfunction cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n\nexports.color = color;\nexports.rgb = rgb;\nexports.hsl = hsl;\nexports.lab = lab;\nexports.hcl = hcl;\nexports.lch = lch;\nexports.gray = gray;\nexports.cubehelix = cubehelix;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-interpolate/ v1.3.2 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-color')) :\ntypeof define === 'function' && define.amd ? define(['exports', 'd3-color'], factory) :\n(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Color) { 'use strict';\n\nfunction basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nfunction basis$1(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\nfunction basisClosed(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n\nvar rgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = d3Color.rgb(start)).r, (end = d3Color.rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = d3Color.rgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nvar rgbBasis = rgbSpline(basis$1);\nvar rgbBasisClosed = rgbSpline(basisClosed);\n\nfunction array(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n\nfunction number(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction value(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = d3Color.color(b)) ? (b = c, rgb) : string)\n      : b instanceof d3Color.color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n\nfunction discrete(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nfunction hue$1(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n\nfunction round(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\n\nvar identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nfunction zoom(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0  u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n\nfunction hsl(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hsl(start)).h, (end = d3Color.hsl(end)).h),\n        s = nogamma(start.s, end.s),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hsl$1 = hsl(hue);\nvar hslLong = hsl(nogamma);\n\nfunction lab(start, end) {\n  var l = nogamma((start = d3Color.lab(start)).l, (end = d3Color.lab(end)).l),\n      a = nogamma(start.a, end.a),\n      b = nogamma(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n\nfunction hcl(hue$$1) {\n  return function(start, end) {\n    var h = hue$$1((start = d3Color.hcl(start)).h, (end = d3Color.hcl(end)).h),\n        c = nogamma(start.c, end.c),\n        l = nogamma(start.l, end.l),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nvar hcl$1 = hcl(hue);\nvar hclLong = hcl(nogamma);\n\nfunction cubehelix(hue$$1) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue$$1((start = d3Color.cubehelix(start)).h, (end = d3Color.cubehelix(end)).h),\n          s = nogamma(start.s, end.s),\n          l = nogamma(start.l, end.l),\n          opacity = nogamma(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nvar cubehelix$1 = cubehelix(hue);\nvar cubehelixLong = cubehelix(nogamma);\n\nfunction piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n\nfunction quantize(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n\nexports.interpolate = value;\nexports.interpolateArray = array;\nexports.interpolateBasis = basis$1;\nexports.interpolateBasisClosed = basisClosed;\nexports.interpolateDate = date;\nexports.interpolateDiscrete = discrete;\nexports.interpolateHue = hue$1;\nexports.interpolateNumber = number;\nexports.interpolateObject = object;\nexports.interpolateRound = round;\nexports.interpolateString = string;\nexports.interpolateTransformCss = interpolateTransformCss;\nexports.interpolateTransformSvg = interpolateTransformSvg;\nexports.interpolateZoom = zoom;\nexports.interpolateRgb = rgb;\nexports.interpolateRgbBasis = rgbBasis;\nexports.interpolateRgbBasisClosed = rgbBasisClosed;\nexports.interpolateHsl = hsl$1;\nexports.interpolateHslLong = hslLong;\nexports.interpolateLab = lab;\nexports.interpolateHcl = hcl$1;\nexports.interpolateHclLong = hclLong;\nexports.interpolateCubehelix = cubehelix$1;\nexports.interpolateCubehelixLong = cubehelixLong;\nexports.piecewise = piecewise;\nexports.quantize = quantize;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import { select } from \"d3-selection\"\nimport { format, formatPrefix } from \"d3-format\"\n\nconst d3_identity = d => d\n\nconst d3_reverse = arr => {\n  const mirror = []\n  for (let i = 0, l = arr.length; i < l; i++) {\n    mirror[i] = arr[l - i - 1]\n  }\n  return mirror\n}\n\n//Text wrapping code adapted from Mike Bostock\nconst d3_textWrapping = (text, width) => {\n  text.each(function() {\n    var text = select(this),\n      words = text\n        .text()\n        .split(/\\s+/)\n        .reverse(),\n      word,\n      line = [],\n      lineNumber = 0,\n      lineHeight = 1.2, //ems\n      y = text.attr(\"y\"),\n      dy = parseFloat(text.attr(\"dy\")) || 0,\n      tspan = text\n        .text(null)\n        .append(\"tspan\")\n        .attr(\"x\", 0)\n        .attr(\"dy\", dy + \"em\")\n\n    while ((word = words.pop())) {\n      line.push(word)\n      tspan.text(line.join(\" \"))\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\n        line.pop()\n        tspan.text(line.join(\" \"))\n        line = [word]\n        tspan = text\n          .append(\"tspan\")\n          .attr(\"x\", 0)\n          .attr(\"dy\", lineHeight + dy + \"em\")\n          .text(word)\n      }\n    }\n  })\n}\n\nconst d3_mergeLabels = (gen = [], labels, domain, range, labelDelimiter) => {\n  if (typeof labels === \"object\") {\n    if (labels.length === 0) return gen\n\n    let i = labels.length\n    for (; i < gen.length; i++) {\n      labels.push(gen[i])\n    }\n    return labels\n  } else if (typeof labels === \"function\") {\n    const customLabels = []\n    const genLength = gen.length\n    for (let i = 0; i < genLength; i++) {\n      customLabels.push(\n        labels({\n          i,\n          genLength,\n          generatedLabels: gen,\n          domain,\n          range,\n          labelDelimiter\n        })\n      )\n    }\n    return customLabels\n  }\n\n  return gen\n}\n\nconst d3_linearLegend = (scale, cells, labelFormat) => {\n  let data = []\n\n  if (cells.length > 1) {\n    data = cells\n  } else {\n    const domain = scale.domain(),\n      increment = (domain[domain.length - 1] - domain[0]) / (cells - 1)\n    let i = 0\n\n    for (; i < cells; i++) {\n      data.push(domain[0] + i * increment)\n    }\n  }\n\n  const labels = data.map(labelFormat)\n  return {\n    data: data,\n    labels: labels,\n    feature: d => scale(d)\n  }\n}\n\nconst d3_quantLegend = (scale, labelFormat, labelDelimiter) => {\n  const labels = scale.range().map(d => {\n    const invert = scale.invertExtent(d)\n    return (\n      labelFormat(invert[0]) +\n      \" \" +\n      labelDelimiter +\n      \" \" +\n      labelFormat(invert[1])\n    )\n  })\n\n  return {\n    data: scale.range(),\n    labels: labels,\n    feature: d3_identity\n  }\n}\n\nconst d3_ordinalLegend = scale => ({\n  data: scale.domain(),\n  labels: scale.domain(),\n  feature: d => scale(d)\n})\n\nconst d3_cellOver = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellover\", obj, d)\n}\n\nconst d3_cellOut = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellout\", obj, d)\n}\n\nconst d3_cellClick = (cellDispatcher, d, obj) => {\n  cellDispatcher.call(\"cellclick\", obj, d)\n}\n\nexport default {\n  d3_drawShapes: (\n    shape,\n    shapes,\n    shapeHeight,\n    shapeWidth,\n    shapeRadius,\n    path\n  ) => {\n    if (shape === \"rect\") {\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth)\n    } else if (shape === \"circle\") {\n      shapes.attr(\"r\", shapeRadius)\n    } else if (shape === \"line\") {\n      shapes\n        .attr(\"x1\", 0)\n        .attr(\"x2\", shapeWidth)\n        .attr(\"y1\", 0)\n        .attr(\"y2\", 0)\n    } else if (shape === \"path\") {\n      shapes.attr(\"d\", path)\n    }\n  },\n\n  d3_addText: function(svg, enter, labels, classPrefix, labelWidth) {\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\")\n    const text = svg\n      .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n      .data(labels)\n      .text(d3_identity)\n\n    if (labelWidth) {\n      svg\n        .selectAll(`g.${classPrefix}cell text.${classPrefix}label`)\n        .call(d3_textWrapping, labelWidth)\n    }\n\n    return text\n  },\n\n  d3_calcType: function(\n    scale,\n    ascending,\n    cells,\n    labels,\n    labelFormat,\n    labelDelimiter\n  ) {\n    const type = scale.invertExtent\n      ? d3_quantLegend(scale, labelFormat, labelDelimiter)\n      : scale.ticks\n        ? d3_linearLegend(scale, cells, labelFormat)\n        : d3_ordinalLegend(scale)\n\n    //for d3.scaleSequential that doesn't have a range function\n    const range = (scale.range && scale.range()) || scale.domain()\n    type.labels = d3_mergeLabels(\n      type.labels,\n      labels,\n      scale.domain(),\n      range,\n      labelDelimiter\n    )\n\n    if (ascending) {\n      type.labels = d3_reverse(type.labels)\n      type.data = d3_reverse(type.data)\n    }\n\n    return type\n  },\n\n  d3_filterCells: (type, cellFilter) => {\n    let filterCells = type.data\n      .map((d, i) => ({ data: d, label: type.labels[i] }))\n      .filter(cellFilter)\n    const dataValues = filterCells.map(d => d.data)\n    const labelValues = filterCells.map(d => d.label)\n    type.data = type.data.filter(d => dataValues.indexOf(d) !== -1)\n    type.labels = type.labels.filter(d => labelValues.indexOf(d) !== -1)\n    return type\n  },\n\n  d3_placement: (orient, cell, cellTrans, text, textTrans, labelAlign) => {\n    cell.attr(\"transform\", cellTrans)\n    text.attr(\"transform\", textTrans)\n    if (orient === \"horizontal\") {\n      text.style(\"text-anchor\", labelAlign)\n    }\n  },\n\n  d3_addEvents: function(cells, dispatcher) {\n    cells\n      .on(\"mouseover.legend\", function(d) {\n        d3_cellOver(dispatcher, d, this)\n      })\n      .on(\"mouseout.legend\", function(d) {\n        d3_cellOut(dispatcher, d, this)\n      })\n      .on(\"click.legend\", function(d) {\n        d3_cellClick(dispatcher, d, this)\n      })\n  },\n\n  d3_title: (svg, title, classPrefix, titleWidth) => {\n    if (title !== \"\") {\n      const titleText = svg.selectAll(\"text.\" + classPrefix + \"legendTitle\")\n\n      titleText\n        .data([title])\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", classPrefix + \"legendTitle\")\n\n      svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").text(title)\n\n      if (titleWidth) {\n        svg\n          .selectAll(\"text.\" + classPrefix + \"legendTitle\")\n          .call(d3_textWrapping, titleWidth)\n      }\n\n      const cellsSvg = svg.select(\".\" + classPrefix + \"legendCells\")\n      const yOffset = svg\n          .select(\".\" + classPrefix + \"legendTitle\")\n          .nodes()\n          .map(d => d.getBBox().height)[0],\n        xOffset = -cellsSvg.nodes().map(function(d) {\n          return d.getBBox().x\n        })[0]\n      cellsSvg.attr(\"transform\", \"translate(\" + xOffset + \",\" + yOffset + \")\")\n    }\n  },\n\n  d3_defaultLocale: {\n    format,\n    formatPrefix\n  },\n\n  d3_defaultFormatSpecifier: \".01f\",\n\n  d3_defaultDelimiter: \"to\"\n}\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\n\nimport { sum } from \"d3-array\"\n\nexport default function color() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    useClass = false,\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg\n      .selectAll(\n        \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n      )\n      .data(type.data)\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      path\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n    //sets scale\n    //everything is fill except for line which is stroke,\n    if (!useClass) {\n      if (shape == \"line\") {\n        shapes.style(\"stroke\", type.feature)\n      } else {\n        shapes.style(\"fill\", type.feature)\n      }\n    } else {\n      shapes.attr(\"class\", d => `${classPrefix}swatch ${type.feature(d)}`)\n    }\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) =>\n        `translate( ${shapeSize[i].width +\n          shapeSize[i].x +\n          labelOffset}, ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) =>\n        `translate(${i * (shapeSize[i].width + shapePadding)},0)`\n      textTrans = (d, i) => `translate(${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n          ${shapeSize[i].height + shapeSize[i].y + labelOffset + 8})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (\n      _ == \"rect\" ||\n      _ == \"circle\" ||\n      _ == \"line\" ||\n      (_ == \"path\" && typeof d === \"string\")\n    ) {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapeHeight = function(_) {\n    if (!arguments.length) return shapeHeight\n    shapeHeight = +_\n    return legend\n  }\n\n  legend.shapeRadius = function(_) {\n    if (!arguments.length) return shapeRadius\n    shapeRadius = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.useClass = function(_) {\n    if (!arguments.length) return useClass\n    if (_ === true || _ === false) {\n      useClass = _\n    }\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.textWrap = function(_) {\n    if (!arguments.length) return textWrap\n    textWrap = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function size() {\n  let scale = scaleLinear(),\n    shape = \"rect\",\n    shapeWidth = 15,\n    shapePadding = 2,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelOffset = 10,\n    labelAlign = \"middle\",\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    path,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\n      \"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\"\n    )\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    //creates shape\n    if (shape === \"line\") {\n      helper.d3_drawShapes(shape, shapes, 0, shapeWidth)\n      shapes.attr(\"stroke-width\", type.feature)\n    } else {\n      helper.d3_drawShapes(\n        shape,\n        shapes,\n        type.feature,\n        type.feature,\n        type.feature,\n        path\n      )\n    }\n\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    //sets placement\n\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map((d, i) => {\n        const bbox = d.getBBox()\n        const stroke = scale(type.data[i])\n\n        if (shape === \"line\" && orient === \"horizontal\") {\n          bbox.height = bbox.height + stroke\n        } else if (shape === \"line\" && orient === \"vertical\") {\n          bbox.width = bbox.width\n        }\n        return bbox\n      })\n\n    const maxH = max(shapeSize, d => d.height + d.y),\n      maxW = max(shapeSize, d => d.width + d.x)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) =>\n        Math.max(d.height, shapeSize[i].height)\n      )\n      const y =\n        shape == \"circle\" || shape == \"line\" ? shapeSize[0].height / 2 : 0\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n\n        return `translate(0, ${y + height + i * shapePadding})`\n      }\n\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n          ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => {\n        const width = sum(shapeSize.slice(0, i), d => d.width)\n        const y = shape == \"circle\" || shape == \"line\" ? maxH / 2 : 0\n        return `translate(${width + i * shapePadding}, ${y})`\n      }\n\n      const offset = shape == \"line\" ? maxH / 2 : maxH\n      textTrans = (d, i) => {\n        return `translate( ${shapeSize[i].width * textAlign + shapeSize[i].x},\n              ${offset + labelOffset})`\n      }\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shape = function(_, d) {\n    if (!arguments.length) return shape\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\n      shape = _\n      path = d\n    }\n    return legend\n  }\n\n  legend.shapeWidth = function(_) {\n    if (!arguments.length) return shapeWidth\n    shapeWidth = +_\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","import helper from \"./legend\"\nimport { dispatch } from \"d3-dispatch\"\nimport { scaleLinear } from \"d3-scale\"\nimport { formatLocale, formatSpecifier } from \"d3-format\"\nimport { sum, max } from \"d3-array\"\n\nexport default function symbol() {\n  let scale = scaleLinear(),\n    shape = \"path\",\n    shapeWidth = 15,\n    shapeHeight = 15,\n    shapeRadius = 10,\n    shapePadding = 5,\n    cells = [5],\n    cellFilter,\n    labels = [],\n    classPrefix = \"\",\n    title = \"\",\n    locale = helper.d3_defaultLocale,\n    specifier = helper.d3_defaultFormatSpecifier,\n    labelAlign = \"middle\",\n    labelOffset = 10,\n    labelDelimiter = helper.d3_defaultDelimiter,\n    labelWrap,\n    orient = \"vertical\",\n    ascending = false,\n    titleWidth,\n    legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\")\n\n  function legend(svg) {\n    const type = helper.d3_calcType(\n        scale,\n        ascending,\n        cells,\n        labels,\n        locale.format(specifier),\n        labelDelimiter\n      ),\n      legendG = svg.selectAll(\"g\").data([scale])\n\n    if (cellFilter) {\n      helper.d3_filterCells(type, cellFilter)\n    }\n\n    legendG\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"legendCells\")\n\n    let cell = svg\n      .select(\".\" + classPrefix + \"legendCells\")\n      .selectAll(\".\" + classPrefix + \"cell\")\n      .data(type.data)\n    const cellEnter = cell\n      .enter()\n      .append(\"g\")\n      .attr(\"class\", classPrefix + \"cell\")\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\")\n\n    let shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\")\n\n    //add event handlers\n    helper.d3_addEvents(cellEnter, legendDispatcher)\n\n    //remove old shapes\n    cell\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes\n      .exit()\n      .transition()\n      .style(\"opacity\", 0)\n      .remove()\n    shapes = shapes.merge(shapes)\n\n    helper.d3_drawShapes(\n      shape,\n      shapes,\n      shapeHeight,\n      shapeWidth,\n      shapeRadius,\n      type.feature\n    )\n    const text = helper.d3_addText(\n      svg,\n      cellEnter,\n      type.labels,\n      classPrefix,\n      labelWrap\n    )\n\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\n    cell = cellEnter.merge(cell)\n\n    // sets placement\n    const textSize = text.nodes().map(d => d.getBBox()),\n      shapeSize = shapes.nodes().map(d => d.getBBox())\n\n    const maxH = max(shapeSize, d => d.height),\n      maxW = max(shapeSize, d => d.width)\n\n    let cellTrans,\n      textTrans,\n      textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1\n\n    //positions cells and text\n    if (orient === \"vertical\") {\n      const cellSize = textSize.map((d, i) => Math.max(maxH, d.height))\n\n      cellTrans = (d, i) => {\n        const height = sum(cellSize.slice(0, i))\n        return `translate(0, ${height + i * shapePadding} )`\n      }\n      textTrans = (d, i) => `translate( ${maxW + labelOffset},\n              ${shapeSize[i].y + shapeSize[i].height / 2 + 5})`\n    } else if (orient === \"horizontal\") {\n      cellTrans = (d, i) => `translate( ${i * (maxW + shapePadding)},0)`\n      textTrans = (d, i) => `translate( ${shapeSize[i].width * textAlign +\n        shapeSize[i].x},\n              ${maxH + labelOffset})`\n    }\n\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign)\n    helper.d3_title(svg, title, classPrefix, titleWidth)\n    cell.transition().style(\"opacity\", 1)\n  }\n\n  legend.scale = function(_) {\n    if (!arguments.length) return scale\n    scale = _\n    return legend\n  }\n\n  legend.cells = function(_) {\n    if (!arguments.length) return cells\n    if (_.length > 1 || _ >= 2) {\n      cells = _\n    }\n    return legend\n  }\n\n  legend.cellFilter = function(_) {\n    if (!arguments.length) return cellFilter\n    cellFilter = _\n    return legend\n  }\n\n  legend.shapePadding = function(_) {\n    if (!arguments.length) return shapePadding\n    shapePadding = +_\n    return legend\n  }\n\n  legend.labels = function(_) {\n    if (!arguments.length) return labels\n    labels = _\n    return legend\n  }\n\n  legend.labelAlign = function(_) {\n    if (!arguments.length) return labelAlign\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\n      labelAlign = _\n    }\n    return legend\n  }\n\n  legend.locale = function(_) {\n    if (!arguments.length) return locale\n    locale = formatLocale(_)\n    return legend\n  }\n\n  legend.labelFormat = function(_) {\n    if (!arguments.length) return legend.locale().format(specifier)\n    specifier = formatSpecifier(_)\n    return legend\n  }\n\n  legend.labelOffset = function(_) {\n    if (!arguments.length) return labelOffset\n    labelOffset = +_\n    return legend\n  }\n\n  legend.labelDelimiter = function(_) {\n    if (!arguments.length) return labelDelimiter\n    labelDelimiter = _\n    return legend\n  }\n\n  legend.labelWrap = function(_) {\n    if (!arguments.length) return labelWrap\n    labelWrap = _\n    return legend\n  }\n\n  legend.orient = function(_) {\n    if (!arguments.length) return orient\n    _ = _.toLowerCase()\n    if (_ == \"horizontal\" || _ == \"vertical\") {\n      orient = _\n    }\n    return legend\n  }\n\n  legend.ascending = function(_) {\n    if (!arguments.length) return ascending\n    ascending = !!_\n    return legend\n  }\n\n  legend.classPrefix = function(_) {\n    if (!arguments.length) return classPrefix\n    classPrefix = _\n    return legend\n  }\n\n  legend.title = function(_) {\n    if (!arguments.length) return title\n    title = _\n    return legend\n  }\n\n  legend.titleWidth = function(_) {\n    if (!arguments.length) return titleWidth\n    titleWidth = _\n    return legend\n  }\n\n  legend.on = function() {\n    const value = legendDispatcher.on.apply(legendDispatcher, arguments)\n    return value === legendDispatcher ? legend : value\n  }\n\n  return legend\n}\n","export const thresholdLabels = function({\n  i,\n  genLength,\n  generatedLabels,\n  labelDelimiter\n}) {\n  if (i === 0) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `Less than ${values[1]}`\n  } else if (i === genLength - 1) {\n    const values = generatedLabels[i].split(` ${labelDelimiter} `)\n    return `${values[0]} or more`\n  }\n  return generatedLabels[i]\n}\n\nexport default {\n  thresholdLabels\n}\n","import legendColor from './src/color'\nimport legendSize from './src/size'\nimport legendSymbol from './src/symbol'\nimport legendHelpers from './src/helpers'\n\nexport { legendColor, legendSize, legendSymbol, legendHelpers }\n\nexport default {\n  legendColor,\n  legendSize,\n  legendSymbol,\n  legendHelpers\n};\n","// https://d3js.org/d3-array/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function bisector(compare) {\n    if (compare.length === 1) compare = ascendingComparator(compare);\n    return {\n      left: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) < 0) lo = mid + 1;\n          else hi = mid;\n        }\n        return lo;\n      },\n      right: function(a, x, lo, hi) {\n        if (lo == null) lo = 0;\n        if (hi == null) hi = a.length;\n        while (lo < hi) {\n          var mid = lo + hi >>> 1;\n          if (compare(a[mid], x) > 0) hi = mid;\n          else lo = mid + 1;\n        }\n        return lo;\n      }\n    };\n  }\n\n  function ascendingComparator(f) {\n    return function(d, x) {\n      return ascending(f(d), x);\n    };\n  }\n\n  var ascendingBisect = bisector(ascending);\n  var bisectRight = ascendingBisect.right;\n  var bisectLeft = ascendingBisect.left;\n\n  function descending(a, b) {\n    return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n  }\n\n  function number(x) {\n    return x === null ? NaN : +x;\n  }\n\n  function variance(array, f) {\n    var n = array.length,\n        m = 0,\n        a,\n        d,\n        s = 0,\n        i = -1,\n        j = 0;\n\n    if (f == null) {\n      while (++i < n) {\n        if (!isNaN(a = number(array[i]))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    else {\n      while (++i < n) {\n        if (!isNaN(a = number(f(array[i], i, array)))) {\n          d = a - m;\n          m += d / ++j;\n          s += d * (a - m);\n        }\n      }\n    }\n\n    if (j > 1) return s / (j - 1);\n  }\n\n  function deviation(array, f) {\n    var v = variance(array, f);\n    return v ? Math.sqrt(v) : v;\n  }\n\n  function extent(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b,\n        c;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = array[i]) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = c = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null) {\n        if (a > b) a = b;\n        if (c < b) c = b;\n      }\n    }\n\n    return [a, c];\n  }\n\n  var array = Array.prototype;\n\n  var slice = array.slice;\n  var map = array.map;\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function identity(x) {\n    return x;\n  }\n\n  function range(start, stop, step) {\n    start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n    var i = -1,\n        n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n        range = new Array(n);\n\n    while (++i < n) {\n      range[i] = start + i * step;\n    }\n\n    return range;\n  }\n\n  var e10 = Math.sqrt(50);\n  var e5 = Math.sqrt(10);\n  var e2 = Math.sqrt(2);\n  function ticks(start, stop, count) {\n    var step = tickStep(start, stop, count);\n    return range(\n      Math.ceil(start / step) * step,\n      Math.floor(stop / step) * step + step / 2, // inclusive\n      step\n    );\n  }\n\n  function tickStep(start, stop, count) {\n    var step0 = Math.abs(stop - start) / Math.max(0, count),\n        step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n        error = step0 / step1;\n    if (error >= e10) step1 *= 10;\n    else if (error >= e5) step1 *= 5;\n    else if (error >= e2) step1 *= 2;\n    return stop < start ? -step1 : step1;\n  }\n\n  function sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n  }\n\n  function histogram() {\n    var value = identity,\n        domain = extent,\n        threshold = sturges;\n\n    function histogram(data) {\n      var i,\n          n = data.length,\n          x,\n          values = new Array(n);\n\n      for (i = 0; i < n; ++i) {\n        values[i] = value(data[i], i, data);\n      }\n\n      var xz = domain(values),\n          x0 = xz[0],\n          x1 = xz[1],\n          tz = threshold(values, x0, x1);\n\n      // Convert number of thresholds into uniform thresholds.\n      if (!Array.isArray(tz)) tz = ticks(x0, x1, tz);\n\n      // Remove any thresholds outside the domain.\n      var m = tz.length;\n      while (tz[0] <= x0) tz.shift(), --m;\n      while (tz[m - 1] >= x1) tz.pop(), --m;\n\n      var bins = new Array(m + 1),\n          bin;\n\n      // Initialize bins.\n      for (i = 0; i <= m; ++i) {\n        bin = bins[i] = [];\n        bin.x0 = i > 0 ? tz[i - 1] : x0;\n        bin.x1 = i < m ? tz[i] : x1;\n      }\n\n      // Assign data to bins by value, ignoring any outside the domain.\n      for (i = 0; i < n; ++i) {\n        x = values[i];\n        if (x0 <= x && x <= x1) {\n          bins[bisectRight(tz, x, 0, m)].push(data[i]);\n        }\n      }\n\n      return bins;\n    }\n\n    histogram.value = function(_) {\n      return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n    };\n\n    histogram.domain = function(_) {\n      return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n    };\n\n    histogram.thresholds = function(_) {\n      return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n    };\n\n    return histogram;\n  }\n\n  function quantile(array, p, f) {\n    if (f == null) f = number;\n    if (!(n = array.length)) return;\n    if ((p = +p) <= 0 || n < 2) return +f(array[0], 0, array);\n    if (p >= 1) return +f(array[n - 1], n - 1, array);\n    var n,\n        h = (n - 1) * p,\n        i = Math.floor(h),\n        a = +f(array[i], i, array),\n        b = +f(array[i + 1], i + 1, array);\n    return a + (b - a) * (h - i);\n  }\n\n  function freedmanDiaconis(values, min, max) {\n    values = map.call(values, number).sort(ascending);\n    return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function scott(values, min, max) {\n    return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n  }\n\n  function max(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && b > a) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b > a) a = b;\n    }\n\n    return a;\n  }\n\n  function mean(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1,\n        j = n;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) s += a; else --j;\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) s += a; else --j;\n    }\n\n    if (j) return s / j;\n  }\n\n  function median(array, f) {\n    var numbers = [],\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (!isNaN(a = number(array[i]))) numbers.push(a);\n    }\n\n    else {\n      while (++i < n) if (!isNaN(a = number(f(array[i], i, array)))) numbers.push(a);\n    }\n\n    return quantile(numbers.sort(ascending), 0.5);\n  }\n\n  function merge(arrays) {\n    var n = arrays.length,\n        m,\n        i = -1,\n        j = 0,\n        merged,\n        array;\n\n    while (++i < n) j += arrays[i].length;\n    merged = new Array(j);\n\n    while (--n >= 0) {\n      array = arrays[n];\n      m = array.length;\n      while (--m >= 0) {\n        merged[--j] = array[m];\n      }\n    }\n\n    return merged;\n  }\n\n  function min(array, f) {\n    var i = -1,\n        n = array.length,\n        a,\n        b;\n\n    if (f == null) {\n      while (++i < n) if ((b = array[i]) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = array[i]) != null && a > b) a = b;\n    }\n\n    else {\n      while (++i < n) if ((b = f(array[i], i, array)) != null && b >= b) { a = b; break; }\n      while (++i < n) if ((b = f(array[i], i, array)) != null && a > b) a = b;\n    }\n\n    return a;\n  }\n\n  function pairs(array) {\n    var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n    while (i < n) pairs[i] = [p, p = array[++i]];\n    return pairs;\n  }\n\n  function permute(array, indexes) {\n    var i = indexes.length, permutes = new Array(i);\n    while (i--) permutes[i] = array[indexes[i]];\n    return permutes;\n  }\n\n  function scan(array, compare) {\n    if (!(n = array.length)) return;\n    var i = 0,\n        n,\n        j = 0,\n        xi,\n        xj = array[j];\n\n    if (!compare) compare = ascending;\n\n    while (++i < n) if (compare(xi = array[i], xj) < 0 || compare(xj, xj) !== 0) xj = xi, j = i;\n\n    if (compare(xj, xj) === 0) return j;\n  }\n\n  function shuffle(array, i0, i1) {\n    var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n        t,\n        i;\n\n    while (m) {\n      i = Math.random() * m-- | 0;\n      t = array[m + i0];\n      array[m + i0] = array[i + i0];\n      array[i + i0] = t;\n    }\n\n    return array;\n  }\n\n  function sum(array, f) {\n    var s = 0,\n        n = array.length,\n        a,\n        i = -1;\n\n    if (f == null) {\n      while (++i < n) if (a = +array[i]) s += a; // Note: zero and null are equivalent.\n    }\n\n    else {\n      while (++i < n) if (a = +f(array[i], i, array)) s += a;\n    }\n\n    return s;\n  }\n\n  function transpose(matrix) {\n    if (!(n = matrix.length)) return [];\n    for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n      for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n        row[j] = matrix[j][i];\n      }\n    }\n    return transpose;\n  }\n\n  function length(d) {\n    return d.length;\n  }\n\n  function zip() {\n    return transpose(arguments);\n  }\n\n  exports.bisect = bisectRight;\n  exports.bisectRight = bisectRight;\n  exports.bisectLeft = bisectLeft;\n  exports.ascending = ascending;\n  exports.bisector = bisector;\n  exports.descending = descending;\n  exports.deviation = deviation;\n  exports.extent = extent;\n  exports.histogram = histogram;\n  exports.thresholdFreedmanDiaconis = freedmanDiaconis;\n  exports.thresholdScott = scott;\n  exports.thresholdSturges = sturges;\n  exports.max = max;\n  exports.mean = mean;\n  exports.median = median;\n  exports.merge = merge;\n  exports.min = min;\n  exports.pairs = pairs;\n  exports.permute = permute;\n  exports.quantile = quantile;\n  exports.range = range;\n  exports.scan = scan;\n  exports.shuffle = shuffle;\n  exports.sum = sum;\n  exports.ticks = ticks;\n  exports.tickStep = tickStep;\n  exports.transpose = transpose;\n  exports.variance = variance;\n  exports.zip = zip;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-dispatch/ Version 1.0.1. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  var noop = {value: function() {}};\n\n  function dispatch() {\n    for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n      if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n      _[t] = [];\n    }\n    return new Dispatch(_);\n  }\n\n  function Dispatch(_) {\n    this._ = _;\n  }\n\n  function parseTypenames(typenames, types) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n      return {type: t, name: name};\n    });\n  }\n\n  Dispatch.prototype = dispatch.prototype = {\n    constructor: Dispatch,\n    on: function(typename, callback) {\n      var _ = this._,\n          T = parseTypenames(typename + \"\", _),\n          t,\n          i = -1,\n          n = T.length;\n\n      // If no callback was specified, return the callback of the given type and name.\n      if (arguments.length < 2) {\n        while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n        return;\n      }\n\n      // If a type was specified, set the callback for the given type and name.\n      // Otherwise, if a null callback was specified, remove callbacks of the given name.\n      if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n      while (++i < n) {\n        if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n        else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n      }\n\n      return this;\n    },\n    copy: function() {\n      var copy = {}, _ = this._;\n      for (var t in _) copy[t] = _[t].slice();\n      return new Dispatch(copy);\n    },\n    call: function(type, that) {\n      if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    },\n    apply: function(type, that, args) {\n      if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n      for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n    }\n  };\n\n  function get(type, name) {\n    for (var i = 0, n = type.length, c; i < n; ++i) {\n      if ((c = type[i]).name === name) {\n        return c.value;\n      }\n    }\n  }\n\n  function set(type, name, callback) {\n    for (var i = 0, n = type.length; i < n; ++i) {\n      if (type[i].name === name) {\n        type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n        break;\n      }\n    }\n    if (callback != null) type.push({name: name, value: callback});\n    return type;\n  }\n\n  exports.dispatch = dispatch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-format/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  // Computes the decimal coefficient and exponent of the specified number x with\n  // significant digits p, where x is positive and p is in [1, 21] or undefined.\n  // For example, formatDecimal(1.23) returns [\"123\", 0].\n  function formatDecimal(x, p) {\n    if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n    var i, coefficient = x.slice(0, i);\n\n    // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n    // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n    return [\n      coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n      +x.slice(i + 1)\n    ];\n  }\n\n  function exponent(x) {\n    return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n  }\n\n  function formatGroup(grouping, thousands) {\n    return function(value, width) {\n      var i = value.length,\n          t = [],\n          j = 0,\n          g = grouping[0],\n          length = 0;\n\n      while (i > 0 && g > 0) {\n        if (length + g + 1 > width) g = Math.max(1, width - length);\n        t.push(value.substring(i -= g, i + g));\n        if ((length += g + 1) > width) break;\n        g = grouping[j = (j + 1) % grouping.length];\n      }\n\n      return t.reverse().join(thousands);\n    };\n  }\n\n  function formatDefault(x, p) {\n    x = x.toPrecision(p);\n\n    out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n      switch (x[i]) {\n        case \".\": i0 = i1 = i; break;\n        case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n        case \"e\": break out;\n        default: if (i0 > 0) i0 = 0; break;\n      }\n    }\n\n    return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n  }\n\n  var prefixExponent;\n\n  function formatPrefixAuto(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1],\n        i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n        n = coefficient.length;\n    return i === n ? coefficient\n        : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n        : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n        : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n  }\n\n  function formatRounded(x, p) {\n    var d = formatDecimal(x, p);\n    if (!d) return x + \"\";\n    var coefficient = d[0],\n        exponent = d[1];\n    return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n        : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n        : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n  }\n\n  var formatTypes = {\n    \"\": formatDefault,\n    \"%\": function(x, p) { return (x * 100).toFixed(p); },\n    \"b\": function(x) { return Math.round(x).toString(2); },\n    \"c\": function(x) { return x + \"\"; },\n    \"d\": function(x) { return Math.round(x).toString(10); },\n    \"e\": function(x, p) { return x.toExponential(p); },\n    \"f\": function(x, p) { return x.toFixed(p); },\n    \"g\": function(x, p) { return x.toPrecision(p); },\n    \"o\": function(x) { return Math.round(x).toString(8); },\n    \"p\": function(x, p) { return formatRounded(x * 100, p); },\n    \"r\": formatRounded,\n    \"s\": formatPrefixAuto,\n    \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n    \"x\": function(x) { return Math.round(x).toString(16); }\n  };\n\n  // [[fill]align][sign][symbol][0][width][,][.precision][type]\n  var re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\n  function formatSpecifier(specifier) {\n    return new FormatSpecifier(specifier);\n  }\n\n  function FormatSpecifier(specifier) {\n    if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n    var match,\n        fill = match[1] || \" \",\n        align = match[2] || \">\",\n        sign = match[3] || \"-\",\n        symbol = match[4] || \"\",\n        zero = !!match[5],\n        width = match[6] && +match[6],\n        comma = !!match[7],\n        precision = match[8] && +match[8].slice(1),\n        type = match[9] || \"\";\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // Map invalid types to the default format.\n    else if (!formatTypes[type]) type = \"\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    this.fill = fill;\n    this.align = align;\n    this.sign = sign;\n    this.symbol = symbol;\n    this.zero = zero;\n    this.width = width;\n    this.comma = comma;\n    this.precision = precision;\n    this.type = type;\n  }\n\n  FormatSpecifier.prototype.toString = function() {\n    return this.fill\n        + this.align\n        + this.sign\n        + this.symbol\n        + (this.zero ? \"0\" : \"\")\n        + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n        + (this.comma ? \",\" : \"\")\n        + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n        + this.type;\n  };\n\n  var prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\n  function identity(x) {\n    return x;\n  }\n\n  function formatLocale(locale) {\n    var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n        currency = locale.currency,\n        decimal = locale.decimal;\n\n    function newFormat(specifier) {\n      specifier = formatSpecifier(specifier);\n\n      var fill = specifier.fill,\n          align = specifier.align,\n          sign = specifier.sign,\n          symbol = specifier.symbol,\n          zero = specifier.zero,\n          width = specifier.width,\n          comma = specifier.comma,\n          precision = specifier.precision,\n          type = specifier.type;\n\n      // Compute the prefix and suffix.\n      // For SI-prefix, the suffix is lazily computed.\n      var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n          suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n      // What format function should we use?\n      // Is this an integer type?\n      // Can this type generate exponential notation?\n      var formatType = formatTypes[type],\n          maybeSuffix = !type || /[defgprs%]/.test(type);\n\n      // Set the default precision if not specified,\n      // or clamp the specified precision to the supported range.\n      // For significant precision, it must be in [1, 21].\n      // For fixed precision, it must be in [0, 20].\n      precision = precision == null ? (type ? 6 : 12)\n          : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n          : Math.max(0, Math.min(20, precision));\n\n      function format(value) {\n        var valuePrefix = prefix,\n            valueSuffix = suffix,\n            i, n, c;\n\n        if (type === \"c\") {\n          valueSuffix = formatType(value) + valueSuffix;\n          value = \"\";\n        } else {\n          value = +value;\n\n          // Convert negative to positive, and compute the prefix.\n          // Note that -0 is not less than 0, but 1 / -0 is!\n          var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n          // Perform the initial formatting.\n          value = formatType(value, precision);\n\n          // If the original value was negative, it may be rounded to zero during\n          // formatting; treat this as (positive) zero.\n          if (valueNegative) {\n            i = -1, n = value.length;\n            valueNegative = false;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), (48 < c && c < 58)\n                  || (type === \"x\" && 96 < c && c < 103)\n                  || (type === \"X\" && 64 < c && c < 71)) {\n                valueNegative = true;\n                break;\n              }\n            }\n          }\n\n          // Compute the prefix and suffix.\n          valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n          valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n          // Break the formatted value into the integer value part that can be\n          // grouped, and fractional or exponential suffix part that is not.\n          if (maybeSuffix) {\n            i = -1, n = value.length;\n            while (++i < n) {\n              if (c = value.charCodeAt(i), 48 > c || c > 57) {\n                valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n                value = value.slice(0, i);\n                break;\n              }\n            }\n          }\n        }\n\n        // If the fill character is not \"0\", grouping is applied before padding.\n        if (comma && !zero) value = group(value, Infinity);\n\n        // Compute the padding.\n        var length = valuePrefix.length + value.length + valueSuffix.length,\n            padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n        // If the fill character is \"0\", grouping is applied after padding.\n        if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n        // Reconstruct the final output based on the desired alignment.\n        switch (align) {\n          case \"<\": return valuePrefix + value + valueSuffix + padding;\n          case \"=\": return valuePrefix + padding + value + valueSuffix;\n          case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n        }\n        return padding + valuePrefix + value + valueSuffix;\n      }\n\n      format.toString = function() {\n        return specifier + \"\";\n      };\n\n      return format;\n    }\n\n    function formatPrefix(specifier, value) {\n      var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n          e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n          k = Math.pow(10, -e),\n          prefix = prefixes[8 + e / 3];\n      return function(value) {\n        return f(k * value) + prefix;\n      };\n    }\n\n    return {\n      format: newFormat,\n      formatPrefix: formatPrefix\n    };\n  }\n\n  var locale;\n  defaultLocale({\n    decimal: \".\",\n    thousands: \",\",\n    grouping: [3],\n    currency: [\"$\", \"\"]\n  });\n\n  function defaultLocale(definition) {\n    locale = formatLocale(definition);\n    exports.format = locale.format;\n    exports.formatPrefix = locale.formatPrefix;\n    return locale;\n  }\n\n  function precisionFixed(step) {\n    return Math.max(0, -exponent(Math.abs(step)));\n  }\n\n  function precisionPrefix(step, value) {\n    return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n  }\n\n  function precisionRound(step, max) {\n    step = Math.abs(step), max = Math.abs(max) - step;\n    return Math.max(0, exponent(max) - exponent(step)) + 1;\n  }\n\n  exports.formatDefaultLocale = defaultLocale;\n  exports.formatLocale = formatLocale;\n  exports.formatSpecifier = formatSpecifier;\n  exports.precisionFixed = precisionFixed;\n  exports.precisionPrefix = precisionPrefix;\n  exports.precisionRound = precisionRound;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-scale/ Version 1.0.3. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-array'), require('d3-collection'), require('d3-interpolate'), require('d3-format'), require('d3-time'), require('d3-time-format'), require('d3-color')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'd3-array', 'd3-collection', 'd3-interpolate', 'd3-format', 'd3-time', 'd3-time-format', 'd3-color'], factory) :\n  (factory((global.d3 = global.d3 || {}),global.d3,global.d3,global.d3,global.d3,global.d3,global.d3,global.d3));\n}(this, function (exports,d3Array,d3Collection,d3Interpolate,d3Format,d3Time,d3TimeFormat,d3Color) { 'use strict';\n\n  var array = Array.prototype;\n\n  var map$1 = array.map;\n  var slice = array.slice;\n\n  var implicit = {name: \"implicit\"};\n\n  function ordinal(range) {\n    var index = d3Collection.map(),\n        domain = [],\n        unknown = implicit;\n\n    range = range == null ? [] : slice.call(range);\n\n    function scale(d) {\n      var key = d + \"\", i = index.get(key);\n      if (!i) {\n        if (unknown !== implicit) return unknown;\n        index.set(key, i = domain.push(d));\n      }\n      return range[(i - 1) % range.length];\n    }\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [], index = d3Collection.map();\n      var i = -1, n = _.length, d, key;\n      while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n      return scale;\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), scale) : range.slice();\n    };\n\n    scale.unknown = function(_) {\n      return arguments.length ? (unknown = _, scale) : unknown;\n    };\n\n    scale.copy = function() {\n      return ordinal()\n          .domain(domain)\n          .range(range)\n          .unknown(unknown);\n    };\n\n    return scale;\n  }\n\n  function band() {\n    var scale = ordinal().unknown(undefined),\n        domain = scale.domain,\n        ordinalRange = scale.range,\n        range = [0, 1],\n        step,\n        bandwidth,\n        round = false,\n        paddingInner = 0,\n        paddingOuter = 0,\n        align = 0.5;\n\n    delete scale.unknown;\n\n    function rescale() {\n      var n = domain().length,\n          reverse = range[1] < range[0],\n          start = range[reverse - 0],\n          stop = range[1 - reverse];\n      step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n      if (round) step = Math.floor(step);\n      start += (stop - start - step * (n - paddingInner)) * align;\n      bandwidth = step * (1 - paddingInner);\n      if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n      var values = d3Array.range(n).map(function(i) { return start + step * i; });\n      return ordinalRange(reverse ? values.reverse() : values);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = [+_[0], +_[1]], round = true, rescale();\n    };\n\n    scale.bandwidth = function() {\n      return bandwidth;\n    };\n\n    scale.step = function() {\n      return step;\n    };\n\n    scale.round = function(_) {\n      return arguments.length ? (round = !!_, rescale()) : round;\n    };\n\n    scale.padding = function(_) {\n      return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingInner = function(_) {\n      return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n    };\n\n    scale.paddingOuter = function(_) {\n      return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n    };\n\n    scale.align = function(_) {\n      return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n    };\n\n    scale.copy = function() {\n      return band()\n          .domain(domain())\n          .range(range)\n          .round(round)\n          .paddingInner(paddingInner)\n          .paddingOuter(paddingOuter)\n          .align(align);\n    };\n\n    return rescale();\n  }\n\n  function pointish(scale) {\n    var copy = scale.copy;\n\n    scale.padding = scale.paddingOuter;\n    delete scale.paddingInner;\n    delete scale.paddingOuter;\n\n    scale.copy = function() {\n      return pointish(copy());\n    };\n\n    return scale;\n  }\n\n  function point() {\n    return pointish(band().paddingInner(1));\n  }\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  function number(x) {\n    return +x;\n  }\n\n  var unit = [0, 1];\n\n  function deinterpolate(a, b) {\n    return (b -= (a = +a))\n        ? function(x) { return (x - a) / b; }\n        : constant(b);\n  }\n\n  function deinterpolateClamp(deinterpolate) {\n    return function(a, b) {\n      var d = deinterpolate(a = +a, b = +b);\n      return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n    };\n  }\n\n  function reinterpolateClamp(reinterpolate) {\n    return function(a, b) {\n      var r = reinterpolate(a = +a, b = +b);\n      return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n    };\n  }\n\n  function bimap(domain, range, deinterpolate, reinterpolate) {\n    var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n    if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n    else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n    return function(x) { return r0(d0(x)); };\n  }\n\n  function polymap(domain, range, deinterpolate, reinterpolate) {\n    var j = Math.min(domain.length, range.length) - 1,\n        d = new Array(j),\n        r = new Array(j),\n        i = -1;\n\n    // Reverse descending domains.\n    if (domain[j] < domain[0]) {\n      domain = domain.slice().reverse();\n      range = range.slice().reverse();\n    }\n\n    while (++i < j) {\n      d[i] = deinterpolate(domain[i], domain[i + 1]);\n      r[i] = reinterpolate(range[i], range[i + 1]);\n    }\n\n    return function(x) {\n      var i = d3Array.bisect(domain, x, 1, j) - 1;\n      return r[i](d[i](x));\n    };\n  }\n\n  function copy(source, target) {\n    return target\n        .domain(source.domain())\n        .range(source.range())\n        .interpolate(source.interpolate())\n        .clamp(source.clamp());\n  }\n\n  // deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n  // reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\n  function continuous(deinterpolate$$, reinterpolate) {\n    var domain = unit,\n        range = unit,\n        interpolate = d3Interpolate.interpolate,\n        clamp = false,\n        piecewise,\n        output,\n        input;\n\n    function rescale() {\n      piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n      output = input = null;\n      return scale;\n    }\n\n    function scale(x) {\n      return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate$$) : deinterpolate$$, interpolate)))(+x);\n    }\n\n    scale.invert = function(y) {\n      return (input || (input = piecewise(range, domain, deinterpolate, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), rescale()) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.rangeRound = function(_) {\n      return range = slice.call(_), interpolate = d3Interpolate.interpolateRound, rescale();\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, rescale()) : clamp;\n    };\n\n    scale.interpolate = function(_) {\n      return arguments.length ? (interpolate = _, rescale()) : interpolate;\n    };\n\n    return rescale();\n  }\n\n  function tickFormat(domain, count, specifier) {\n    var start = domain[0],\n        stop = domain[domain.length - 1],\n        step = d3Array.tickStep(start, stop, count == null ? 10 : count),\n        precision;\n    specifier = d3Format.formatSpecifier(specifier == null ? \",f\" : specifier);\n    switch (specifier.type) {\n      case \"s\": {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionPrefix(step, value))) specifier.precision = precision;\n        return d3Format.formatPrefix(specifier, value);\n      }\n      case \"\":\n      case \"e\":\n      case \"g\":\n      case \"p\":\n      case \"r\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n      case \"f\":\n      case \"%\": {\n        if (specifier.precision == null && !isNaN(precision = d3Format.precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n    }\n    return d3Format.format(specifier);\n  }\n\n  function linearish(scale) {\n    var domain = scale.domain;\n\n    scale.ticks = function(count) {\n      var d = domain();\n      return d3Array.ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return tickFormat(domain(), count, specifier);\n    };\n\n    scale.nice = function(count) {\n      var d = domain(),\n          i = d.length - 1,\n          n = count == null ? 10 : count,\n          start = d[0],\n          stop = d[i],\n          step = d3Array.tickStep(start, stop, n);\n\n      if (step) {\n        step = d3Array.tickStep(Math.floor(start / step) * step, Math.ceil(stop / step) * step, n);\n        d[0] = Math.floor(start / step) * step;\n        d[i] = Math.ceil(stop / step) * step;\n        domain(d);\n      }\n\n      return scale;\n    };\n\n    return scale;\n  }\n\n  function linear() {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber);\n\n    scale.copy = function() {\n      return copy(scale, linear());\n    };\n\n    return linearish(scale);\n  }\n\n  function identity() {\n    var domain = [0, 1];\n\n    function scale(x) {\n      return +x;\n    }\n\n    scale.invert = scale;\n\n    scale.domain = scale.range = function(_) {\n      return arguments.length ? (domain = map$1.call(_, number), scale) : domain.slice();\n    };\n\n    scale.copy = function() {\n      return identity().domain(domain);\n    };\n\n    return linearish(scale);\n  }\n\n  function nice(domain, interval) {\n    domain = domain.slice();\n\n    var i0 = 0,\n        i1 = domain.length - 1,\n        x0 = domain[i0],\n        x1 = domain[i1],\n        t;\n\n    if (x1 < x0) {\n      t = i0, i0 = i1, i1 = t;\n      t = x0, x0 = x1, x1 = t;\n    }\n\n    domain[i0] = interval.floor(x0);\n    domain[i1] = interval.ceil(x1);\n    return domain;\n  }\n\n  function deinterpolate$1(a, b) {\n    return (b = Math.log(b / a))\n        ? function(x) { return Math.log(x / a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    return a < 0\n        ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n        : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n  }\n\n  function pow10(x) {\n    return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n  }\n\n  function powp(base) {\n    return base === 10 ? pow10\n        : base === Math.E ? Math.exp\n        : function(x) { return Math.pow(base, x); };\n  }\n\n  function logp(base) {\n    return base === Math.E ? Math.log\n        : base === 10 && Math.log10\n        || base === 2 && Math.log2\n        || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n  }\n\n  function reflect(f) {\n    return function(x) {\n      return -f(-x);\n    };\n  }\n\n  function log() {\n    var scale = continuous(deinterpolate$1, reinterpolate).domain([1, 10]),\n        domain = scale.domain,\n        base = 10,\n        logs = logp(10),\n        pows = powp(10);\n\n    function rescale() {\n      logs = logp(base), pows = powp(base);\n      if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n      return scale;\n    }\n\n    scale.base = function(_) {\n      return arguments.length ? (base = +_, rescale()) : base;\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain(_), rescale()) : domain();\n    };\n\n    scale.ticks = function(count) {\n      var d = domain(),\n          u = d[0],\n          v = d[d.length - 1],\n          r;\n\n      if (r = v < u) i = u, u = v, v = i;\n\n      var i = logs(u),\n          j = logs(v),\n          p,\n          k,\n          t,\n          n = count == null ? 10 : +count,\n          z = [];\n\n      if (!(base % 1) && j - i < n) {\n        i = Math.round(i) - 1, j = Math.round(j) + 1;\n        if (u > 0) for (; i < j; ++i) {\n          for (k = 1, p = pows(i); k < base; ++k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        } else for (; i < j; ++i) {\n          for (k = base - 1, p = pows(i); k >= 1; --k) {\n            t = p * k;\n            if (t < u) continue;\n            if (t > v) break;\n            z.push(t);\n          }\n        }\n      } else {\n        z = d3Array.ticks(i, j, Math.min(j - i, n)).map(pows);\n      }\n\n      return r ? z.reverse() : z;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n      if (typeof specifier !== \"function\") specifier = d3Format.format(specifier);\n      if (count === Infinity) return specifier;\n      if (count == null) count = 10;\n      var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n      return function(d) {\n        var i = d / pows(Math.round(logs(d)));\n        if (i * base < base - 0.5) i *= base;\n        return i <= k ? specifier(d) : \"\";\n      };\n    };\n\n    scale.nice = function() {\n      return domain(nice(domain(), {\n        floor: function(x) { return pows(Math.floor(logs(x))); },\n        ceil: function(x) { return pows(Math.ceil(logs(x))); }\n      }));\n    };\n\n    scale.copy = function() {\n      return copy(scale, log().base(base));\n    };\n\n    return scale;\n  }\n\n  function raise(x, exponent) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  }\n\n  function pow() {\n    var exponent = 1,\n        scale = continuous(deinterpolate, reinterpolate),\n        domain = scale.domain;\n\n    function deinterpolate(a, b) {\n      return (b = raise(b, exponent) - (a = raise(a, exponent)))\n          ? function(x) { return (raise(x, exponent) - a) / b; }\n          : constant(b);\n    }\n\n    function reinterpolate(a, b) {\n      b = raise(b, exponent) - (a = raise(a, exponent));\n      return function(t) { return raise(a + b * t, 1 / exponent); };\n    }\n\n    scale.exponent = function(_) {\n      return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n    };\n\n    scale.copy = function() {\n      return copy(scale, pow().exponent(exponent));\n    };\n\n    return linearish(scale);\n  }\n\n  function sqrt() {\n    return pow().exponent(0.5);\n  }\n\n  function quantile$1() {\n    var domain = [],\n        range = [],\n        thresholds = [];\n\n    function rescale() {\n      var i = 0, n = Math.max(1, range.length);\n      thresholds = new Array(n - 1);\n      while (++i < n) thresholds[i - 1] = d3Array.quantile(domain, i / n);\n      return scale;\n    }\n\n    function scale(x) {\n      if (!isNaN(x = +x)) return range[d3Array.bisect(thresholds, x)];\n    }\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN] : [\n        i > 0 ? thresholds[i - 1] : domain[0],\n        i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n      ];\n    };\n\n    scale.domain = function(_) {\n      if (!arguments.length) return domain.slice();\n      domain = [];\n      for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n      domain.sort(d3Array.ascending);\n      return rescale();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n    };\n\n    scale.quantiles = function() {\n      return thresholds.slice();\n    };\n\n    scale.copy = function() {\n      return quantile$1()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  function quantize() {\n    var x0 = 0,\n        x1 = 1,\n        n = 1,\n        domain = [0.5],\n        range = [0, 1];\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    function rescale() {\n      var i = -1;\n      domain = new Array(n);\n      while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n      return scale;\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return i < 0 ? [NaN, NaN]\n          : i < 1 ? [x0, domain[0]]\n          : i >= n ? [domain[n - 1], x1]\n          : [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return quantize()\n          .domain([x0, x1])\n          .range(range);\n    };\n\n    return linearish(scale);\n  }\n\n  function threshold() {\n    var domain = [0.5],\n        range = [0, 1],\n        n = 1;\n\n    function scale(x) {\n      if (x <= x) return range[d3Array.bisect(domain, x, 0, n)];\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n    };\n\n    scale.range = function(_) {\n      return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n    };\n\n    scale.invertExtent = function(y) {\n      var i = range.indexOf(y);\n      return [domain[i - 1], domain[i]];\n    };\n\n    scale.copy = function() {\n      return threshold()\n          .domain(domain)\n          .range(range);\n    };\n\n    return scale;\n  }\n\n  var durationSecond = 1000;\n  var durationMinute = durationSecond * 60;\n  var durationHour = durationMinute * 60;\n  var durationDay = durationHour * 24;\n  var durationWeek = durationDay * 7;\n  var durationMonth = durationDay * 30;\n  var durationYear = durationDay * 365;\n  function date(t) {\n    return new Date(t);\n  }\n\n  function number$1(t) {\n    return t instanceof Date ? +t : +new Date(+t);\n  }\n\n  function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n    var scale = continuous(deinterpolate, d3Interpolate.interpolateNumber),\n        invert = scale.invert,\n        domain = scale.domain;\n\n    var formatMillisecond = format(\".%L\"),\n        formatSecond = format(\":%S\"),\n        formatMinute = format(\"%I:%M\"),\n        formatHour = format(\"%I %p\"),\n        formatDay = format(\"%a %d\"),\n        formatWeek = format(\"%b %d\"),\n        formatMonth = format(\"%B\"),\n        formatYear = format(\"%Y\");\n\n    var tickIntervals = [\n      [second,  1,      durationSecond],\n      [second,  5,  5 * durationSecond],\n      [second, 15, 15 * durationSecond],\n      [second, 30, 30 * durationSecond],\n      [minute,  1,      durationMinute],\n      [minute,  5,  5 * durationMinute],\n      [minute, 15, 15 * durationMinute],\n      [minute, 30, 30 * durationMinute],\n      [  hour,  1,      durationHour  ],\n      [  hour,  3,  3 * durationHour  ],\n      [  hour,  6,  6 * durationHour  ],\n      [  hour, 12, 12 * durationHour  ],\n      [   day,  1,      durationDay   ],\n      [   day,  2,  2 * durationDay   ],\n      [  week,  1,      durationWeek  ],\n      [ month,  1,      durationMonth ],\n      [ month,  3,  3 * durationMonth ],\n      [  year,  1,      durationYear  ]\n    ];\n\n    function tickFormat(date) {\n      return (second(date) < date ? formatMillisecond\n          : minute(date) < date ? formatSecond\n          : hour(date) < date ? formatMinute\n          : day(date) < date ? formatHour\n          : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n          : year(date) < date ? formatMonth\n          : formatYear)(date);\n    }\n\n    function tickInterval(interval, start, stop, step) {\n      if (interval == null) interval = 10;\n\n      // If a desired tick count is specified, pick a reasonable tick interval\n      // based on the extent of the domain and a rough estimate of tick size.\n      // Otherwise, assume interval is already a time interval and use it.\n      if (typeof interval === \"number\") {\n        var target = Math.abs(stop - start) / interval,\n            i = d3Array.bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n        if (i === tickIntervals.length) {\n          step = d3Array.tickStep(start / durationYear, stop / durationYear, interval);\n          interval = year;\n        } else if (i) {\n          i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n          step = i[1];\n          interval = i[0];\n        } else {\n          step = d3Array.tickStep(start, stop, interval);\n          interval = millisecond;\n        }\n      }\n\n      return step == null ? interval : interval.every(step);\n    }\n\n    scale.invert = function(y) {\n      return new Date(invert(y));\n    };\n\n    scale.domain = function(_) {\n      return arguments.length ? domain(map$1.call(_, number$1)) : domain().map(date);\n    };\n\n    scale.ticks = function(interval, step) {\n      var d = domain(),\n          t0 = d[0],\n          t1 = d[d.length - 1],\n          r = t1 < t0,\n          t;\n      if (r) t = t0, t0 = t1, t1 = t;\n      t = tickInterval(interval, t0, t1, step);\n      t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n      return r ? t.reverse() : t;\n    };\n\n    scale.tickFormat = function(count, specifier) {\n      return specifier == null ? tickFormat : format(specifier);\n    };\n\n    scale.nice = function(interval, step) {\n      var d = domain();\n      return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n          ? domain(nice(d, interval))\n          : scale;\n    };\n\n    scale.copy = function() {\n      return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n    };\n\n    return scale;\n  }\n\n  function time() {\n    return calendar(d3Time.timeYear, d3Time.timeMonth, d3Time.timeWeek, d3Time.timeDay, d3Time.timeHour, d3Time.timeMinute, d3Time.timeSecond, d3Time.timeMillisecond, d3TimeFormat.timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n  }\n\n  function utcTime() {\n    return calendar(d3Time.utcYear, d3Time.utcMonth, d3Time.utcWeek, d3Time.utcDay, d3Time.utcHour, d3Time.utcMinute, d3Time.utcSecond, d3Time.utcMillisecond, d3TimeFormat.utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n  }\n\n  function colors(s) {\n    return s.match(/.{6}/g).map(function(x) {\n      return \"#\" + x;\n    });\n  }\n\n  var category10 = colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n\n  var category20b = colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n\n  var category20c = colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n\n  var category20 = colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n\n  var cubehelix$1 = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(300, 0.5, 0.0), d3Color.cubehelix(-240, 0.5, 1.0));\n\n  var warm = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(-100, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var cool = d3Interpolate.interpolateCubehelixLong(d3Color.cubehelix(260, 0.75, 0.35), d3Color.cubehelix(80, 1.50, 0.8));\n\n  var rainbow = d3Color.cubehelix();\n\n  function rainbow$1(t) {\n    if (t < 0 || t > 1) t -= Math.floor(t);\n    var ts = Math.abs(t - 0.5);\n    rainbow.h = 360 * t - 100;\n    rainbow.s = 1.5 - 1.5 * ts;\n    rainbow.l = 0.8 - 0.9 * ts;\n    return rainbow + \"\";\n  }\n\n  function ramp(range) {\n    var n = range.length;\n    return function(t) {\n      return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n    };\n  }\n\n  var viridis = ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\n  var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\n  var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\n  var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n\n  function sequential(interpolator) {\n    var x0 = 0,\n        x1 = 1,\n        clamp = false;\n\n    function scale(x) {\n      var t = (x - x0) / (x1 - x0);\n      return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n    }\n\n    scale.domain = function(_) {\n      return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n    };\n\n    scale.clamp = function(_) {\n      return arguments.length ? (clamp = !!_, scale) : clamp;\n    };\n\n    scale.interpolator = function(_) {\n      return arguments.length ? (interpolator = _, scale) : interpolator;\n    };\n\n    scale.copy = function() {\n      return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n    };\n\n    return linearish(scale);\n  }\n\n  exports.scaleBand = band;\n  exports.scalePoint = point;\n  exports.scaleIdentity = identity;\n  exports.scaleLinear = linear;\n  exports.scaleLog = log;\n  exports.scaleOrdinal = ordinal;\n  exports.scaleImplicit = implicit;\n  exports.scalePow = pow;\n  exports.scaleSqrt = sqrt;\n  exports.scaleQuantile = quantile$1;\n  exports.scaleQuantize = quantize;\n  exports.scaleThreshold = threshold;\n  exports.scaleTime = time;\n  exports.scaleUtc = utcTime;\n  exports.schemeCategory10 = category10;\n  exports.schemeCategory20b = category20b;\n  exports.schemeCategory20c = category20c;\n  exports.schemeCategory20 = category20;\n  exports.interpolateCubehelixDefault = cubehelix$1;\n  exports.interpolateRainbow = rainbow$1;\n  exports.interpolateWarm = warm;\n  exports.interpolateCool = cool;\n  exports.interpolateViridis = viridis;\n  exports.interpolateMagma = magma;\n  exports.interpolateInferno = inferno;\n  exports.interpolatePlasma = plasma;\n  exports.scaleSequential = sequential;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-selection/ Version 1.0.2. Copyright 2016 Mike Bostock.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (factory((global.d3 = global.d3 || {})));\n}(this, function (exports) { 'use strict';\n\n  var xhtml = \"http://www.w3.org/1999/xhtml\";\n\n  var namespaces = {\n    svg: \"http://www.w3.org/2000/svg\",\n    xhtml: xhtml,\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n    xmlns: \"http://www.w3.org/2000/xmlns/\"\n  };\n\n  function namespace(name) {\n    var prefix = name += \"\", i = prefix.indexOf(\":\");\n    if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n    return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n  }\n\n  function creatorInherit(name) {\n    return function() {\n      var document = this.ownerDocument,\n          uri = this.namespaceURI;\n      return uri === xhtml && document.documentElement.namespaceURI === xhtml\n          ? document.createElement(name)\n          : document.createElementNS(uri, name);\n    };\n  }\n\n  function creatorFixed(fullname) {\n    return function() {\n      return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n    };\n  }\n\n  function creator(name) {\n    var fullname = namespace(name);\n    return (fullname.local\n        ? creatorFixed\n        : creatorInherit)(fullname);\n  }\n\n  var nextId = 0;\n\n  function local() {\n    return new Local;\n  }\n\n  function Local() {\n    this._ = \"@\" + (++nextId).toString(36);\n  }\n\n  Local.prototype = local.prototype = {\n    constructor: Local,\n    get: function(node) {\n      var id = this._;\n      while (!(id in node)) if (!(node = node.parentNode)) return;\n      return node[id];\n    },\n    set: function(node, value) {\n      return node[this._] = value;\n    },\n    remove: function(node) {\n      return this._ in node && delete node[this._];\n    },\n    toString: function() {\n      return this._;\n    }\n  };\n\n  var matcher = function(selector) {\n    return function() {\n      return this.matches(selector);\n    };\n  };\n\n  if (typeof document !== \"undefined\") {\n    var element = document.documentElement;\n    if (!element.matches) {\n      var vendorMatches = element.webkitMatchesSelector\n          || element.msMatchesSelector\n          || element.mozMatchesSelector\n          || element.oMatchesSelector;\n      matcher = function(selector) {\n        return function() {\n          return vendorMatches.call(this, selector);\n        };\n      };\n    }\n  }\n\n  var matcher$1 = matcher;\n\n  var filterEvents = {};\n\n  exports.event = null;\n\n  if (typeof document !== \"undefined\") {\n    var element$1 = document.documentElement;\n    if (!(\"onmouseenter\" in element$1)) {\n      filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n    }\n  }\n\n  function filterContextListener(listener, index, group) {\n    listener = contextListener(listener, index, group);\n    return function(event) {\n      var related = event.relatedTarget;\n      if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n        listener.call(this, event);\n      }\n    };\n  }\n\n  function contextListener(listener, index, group) {\n    return function(event1) {\n      var event0 = exports.event; // Events can be reentrant (e.g., focus).\n      exports.event = event1;\n      try {\n        listener.call(this, this.__data__, index, group);\n      } finally {\n        exports.event = event0;\n      }\n    };\n  }\n\n  function parseTypenames(typenames) {\n    return typenames.trim().split(/^|\\s+/).map(function(t) {\n      var name = \"\", i = t.indexOf(\".\");\n      if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n      return {type: t, name: name};\n    });\n  }\n\n  function onRemove(typename) {\n    return function() {\n      var on = this.__on;\n      if (!on) return;\n      for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n        if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n        } else {\n          on[++i] = o;\n        }\n      }\n      if (++i) on.length = i;\n      else delete this.__on;\n    };\n  }\n\n  function onAdd(typename, value, capture) {\n    var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n    return function(d, i, group) {\n      var on = this.__on, o, listener = wrap(value, i, group);\n      if (on) for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.capture);\n          this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n          o.value = value;\n          return;\n        }\n      }\n      this.addEventListener(typename.type, listener, capture);\n      o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n      if (!on) this.__on = [o];\n      else on.push(o);\n    };\n  }\n\n  function selection_on(typename, value, capture) {\n    var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n    if (arguments.length < 2) {\n      var on = this.node().__on;\n      if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n      return;\n    }\n\n    on = value ? onAdd : onRemove;\n    if (capture == null) capture = false;\n    for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n    return this;\n  }\n\n  function customEvent(event1, listener, that, args) {\n    var event0 = exports.event;\n    event1.sourceEvent = exports.event;\n    exports.event = event1;\n    try {\n      return listener.apply(that, args);\n    } finally {\n      exports.event = event0;\n    }\n  }\n\n  function sourceEvent() {\n    var current = exports.event, source;\n    while (source = current.sourceEvent) current = source;\n    return current;\n  }\n\n  function point(node, event) {\n    var svg = node.ownerSVGElement || node;\n\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n\n    var rect = node.getBoundingClientRect();\n    return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n  }\n\n  function mouse(node) {\n    var event = sourceEvent();\n    if (event.changedTouches) event = event.changedTouches[0];\n    return point(node, event);\n  }\n\n  function none() {}\n\n  function selector(selector) {\n    return selector == null ? none : function() {\n      return this.querySelector(selector);\n    };\n  }\n\n  function selection_select(select) {\n    if (typeof select !== \"function\") select = selector(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n        if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n          if (\"__data__\" in node) subnode.__data__ = node.__data__;\n          subgroup[i] = subnode;\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  }\n\n  function empty() {\n    return [];\n  }\n\n  function selectorAll(selector) {\n    return selector == null ? empty : function() {\n      return this.querySelectorAll(selector);\n    };\n  }\n\n  function selection_selectAll(select) {\n    if (typeof select !== \"function\") select = selectorAll(select);\n\n    for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          subgroups.push(select.call(node, node.__data__, i, group));\n          parents.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, parents);\n  }\n\n  function selection_filter(match) {\n    if (typeof match !== \"function\") match = matcher$1(match);\n\n    for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n        if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n          subgroup.push(node);\n        }\n      }\n    }\n\n    return new Selection(subgroups, this._parents);\n  }\n\n  function sparse(update) {\n    return new Array(update.length);\n  }\n\n  function selection_enter() {\n    return new Selection(this._enter || this._groups.map(sparse), this._parents);\n  }\n\n  function EnterNode(parent, datum) {\n    this.ownerDocument = parent.ownerDocument;\n    this.namespaceURI = parent.namespaceURI;\n    this._next = null;\n    this._parent = parent;\n    this.__data__ = datum;\n  }\n\n  EnterNode.prototype = {\n    constructor: EnterNode,\n    appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n    insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n    querySelector: function(selector) { return this._parent.querySelector(selector); },\n    querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n  };\n\n  function constant(x) {\n    return function() {\n      return x;\n    };\n  }\n\n  var keyPrefix = \"$\"; // Protect against keys like __proto__.\n\n  function bindIndex(parent, group, enter, update, exit, data) {\n    var i = 0,\n        node,\n        groupLength = group.length,\n        dataLength = data.length;\n\n    // Put any non-null nodes that fit into update.\n    // Put any null nodes into enter.\n    // Put any remaining data into enter.\n    for (; i < dataLength; ++i) {\n      if (node = group[i]) {\n        node.__data__ = data[i];\n        update[i] = node;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Put any non-null nodes that dont fit into exit.\n    for (; i < groupLength; ++i) {\n      if (node = group[i]) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  function bindKey(parent, group, enter, update, exit, data, key) {\n    var i,\n        node,\n        nodeByKeyValue = {},\n        groupLength = group.length,\n        dataLength = data.length,\n        keyValues = new Array(groupLength),\n        keyValue;\n\n    // Compute the key for each node.\n    // If multiple nodes have the same key, the duplicates are added to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if (node = group[i]) {\n        keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n        if (keyValue in nodeByKeyValue) {\n          exit[i] = node;\n        } else {\n          nodeByKeyValue[keyValue] = node;\n        }\n      }\n    }\n\n    // Compute the key for each datum.\n    // If there a node associated with this key, join and add it to update.\n    // If there is not (or the key is a duplicate), add it to enter.\n    for (i = 0; i < dataLength; ++i) {\n      keyValue = keyPrefix + key.call(parent, data[i], i, data);\n      if (node = nodeByKeyValue[keyValue]) {\n        update[i] = node;\n        node.__data__ = data[i];\n        nodeByKeyValue[keyValue] = null;\n      } else {\n        enter[i] = new EnterNode(parent, data[i]);\n      }\n    }\n\n    // Add any remaining nodes that were not bound to data to exit.\n    for (i = 0; i < groupLength; ++i) {\n      if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n        exit[i] = node;\n      }\n    }\n  }\n\n  function selection_data(value, key) {\n    if (!value) {\n      data = new Array(this.size()), j = -1;\n      this.each(function(d) { data[++j] = d; });\n      return data;\n    }\n\n    var bind = key ? bindKey : bindIndex,\n        parents = this._parents,\n        groups = this._groups;\n\n    if (typeof value !== \"function\") value = constant(value);\n\n    for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n      var parent = parents[j],\n          group = groups[j],\n          groupLength = group.length,\n          data = value.call(parent, parent && parent.__data__, j, parents),\n          dataLength = data.length,\n          enterGroup = enter[j] = new Array(dataLength),\n          updateGroup = update[j] = new Array(dataLength),\n          exitGroup = exit[j] = new Array(groupLength);\n\n      bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n      // Now connect the enter nodes to their following update node, such that\n      // appendChild can insert the materialized enter node before this node,\n      // rather than at the end of the parent node.\n      for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n        if (previous = enterGroup[i0]) {\n          if (i0 >= i1) i1 = i0 + 1;\n          while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n          previous._next = next || null;\n        }\n      }\n    }\n\n    update = new Selection(update, parents);\n    update._enter = enter;\n    update._exit = exit;\n    return update;\n  }\n\n  function selection_exit() {\n    return new Selection(this._exit || this._groups.map(sparse), this._parents);\n  }\n\n  function selection_merge(selection) {\n\n    for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n      for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group0[i] || group1[i]) {\n          merge[i] = node;\n        }\n      }\n    }\n\n    for (; j < m0; ++j) {\n      merges[j] = groups0[j];\n    }\n\n    return new Selection(merges, this._parents);\n  }\n\n  function selection_order() {\n\n    for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n      for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n        if (node = group[i]) {\n          if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n          next = node;\n        }\n      }\n    }\n\n    return this;\n  }\n\n  function selection_sort(compare) {\n    if (!compare) compare = ascending;\n\n    function compareNode(a, b) {\n      return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n    }\n\n    for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n      for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n        if (node = group[i]) {\n          sortgroup[i] = node;\n        }\n      }\n      sortgroup.sort(compareNode);\n    }\n\n    return new Selection(sortgroups, this._parents).order();\n  }\n\n  function ascending(a, b) {\n    return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n  }\n\n  function selection_call() {\n    var callback = arguments[0];\n    arguments[0] = this;\n    callback.apply(null, arguments);\n    return this;\n  }\n\n  function selection_nodes() {\n    var nodes = new Array(this.size()), i = -1;\n    this.each(function() { nodes[++i] = this; });\n    return nodes;\n  }\n\n  function selection_node() {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n        var node = group[i];\n        if (node) return node;\n      }\n    }\n\n    return null;\n  }\n\n  function selection_size() {\n    var size = 0;\n    this.each(function() { ++size; });\n    return size;\n  }\n\n  function selection_empty() {\n    return !this.node();\n  }\n\n  function selection_each(callback) {\n\n    for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n      for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n        if (node = group[i]) callback.call(node, node.__data__, i, group);\n      }\n    }\n\n    return this;\n  }\n\n  function attrRemove(name) {\n    return function() {\n      this.removeAttribute(name);\n    };\n  }\n\n  function attrRemoveNS(fullname) {\n    return function() {\n      this.removeAttributeNS(fullname.space, fullname.local);\n    };\n  }\n\n  function attrConstant(name, value) {\n    return function() {\n      this.setAttribute(name, value);\n    };\n  }\n\n  function attrConstantNS(fullname, value) {\n    return function() {\n      this.setAttributeNS(fullname.space, fullname.local, value);\n    };\n  }\n\n  function attrFunction(name, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttribute(name);\n      else this.setAttribute(name, v);\n    };\n  }\n\n  function attrFunctionNS(fullname, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n      else this.setAttributeNS(fullname.space, fullname.local, v);\n    };\n  }\n\n  function selection_attr(name, value) {\n    var fullname = namespace(name);\n\n    if (arguments.length < 2) {\n      var node = this.node();\n      return fullname.local\n          ? node.getAttributeNS(fullname.space, fullname.local)\n          : node.getAttribute(fullname);\n    }\n\n    return this.each((value == null\n        ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n        ? (fullname.local ? attrFunctionNS : attrFunction)\n        : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n  }\n\n  function defaultView(node) {\n    return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n        || (node.document && node) // node is a Window\n        || node.defaultView; // node is a Document\n  }\n\n  function styleRemove(name) {\n    return function() {\n      this.style.removeProperty(name);\n    };\n  }\n\n  function styleConstant(name, value, priority) {\n    return function() {\n      this.style.setProperty(name, value, priority);\n    };\n  }\n\n  function styleFunction(name, value, priority) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) this.style.removeProperty(name);\n      else this.style.setProperty(name, v, priority);\n    };\n  }\n\n  function selection_style(name, value, priority) {\n    var node;\n    return arguments.length > 1\n        ? this.each((value == null\n              ? styleRemove : typeof value === \"function\"\n              ? styleFunction\n              : styleConstant)(name, value, priority == null ? \"\" : priority))\n        : defaultView(node = this.node())\n            .getComputedStyle(node, null)\n            .getPropertyValue(name);\n  }\n\n  function propertyRemove(name) {\n    return function() {\n      delete this[name];\n    };\n  }\n\n  function propertyConstant(name, value) {\n    return function() {\n      this[name] = value;\n    };\n  }\n\n  function propertyFunction(name, value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      if (v == null) delete this[name];\n      else this[name] = v;\n    };\n  }\n\n  function selection_property(name, value) {\n    return arguments.length > 1\n        ? this.each((value == null\n            ? propertyRemove : typeof value === \"function\"\n            ? propertyFunction\n            : propertyConstant)(name, value))\n        : this.node()[name];\n  }\n\n  function classArray(string) {\n    return string.trim().split(/^|\\s+/);\n  }\n\n  function classList(node) {\n    return node.classList || new ClassList(node);\n  }\n\n  function ClassList(node) {\n    this._node = node;\n    this._names = classArray(node.getAttribute(\"class\") || \"\");\n  }\n\n  ClassList.prototype = {\n    add: function(name) {\n      var i = this._names.indexOf(name);\n      if (i < 0) {\n        this._names.push(name);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    remove: function(name) {\n      var i = this._names.indexOf(name);\n      if (i >= 0) {\n        this._names.splice(i, 1);\n        this._node.setAttribute(\"class\", this._names.join(\" \"));\n      }\n    },\n    contains: function(name) {\n      return this._names.indexOf(name) >= 0;\n    }\n  };\n\n  function classedAdd(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n) list.add(names[i]);\n  }\n\n  function classedRemove(node, names) {\n    var list = classList(node), i = -1, n = names.length;\n    while (++i < n) list.remove(names[i]);\n  }\n\n  function classedTrue(names) {\n    return function() {\n      classedAdd(this, names);\n    };\n  }\n\n  function classedFalse(names) {\n    return function() {\n      classedRemove(this, names);\n    };\n  }\n\n  function classedFunction(names, value) {\n    return function() {\n      (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n    };\n  }\n\n  function selection_classed(name, value) {\n    var names = classArray(name + \"\");\n\n    if (arguments.length < 2) {\n      var list = classList(this.node()), i = -1, n = names.length;\n      while (++i < n) if (!list.contains(names[i])) return false;\n      return true;\n    }\n\n    return this.each((typeof value === \"function\"\n        ? classedFunction : value\n        ? classedTrue\n        : classedFalse)(names, value));\n  }\n\n  function textRemove() {\n    this.textContent = \"\";\n  }\n\n  function textConstant(value) {\n    return function() {\n      this.textContent = value;\n    };\n  }\n\n  function textFunction(value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      this.textContent = v == null ? \"\" : v;\n    };\n  }\n\n  function selection_text(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? textRemove : (typeof value === \"function\"\n            ? textFunction\n            : textConstant)(value))\n        : this.node().textContent;\n  }\n\n  function htmlRemove() {\n    this.innerHTML = \"\";\n  }\n\n  function htmlConstant(value) {\n    return function() {\n      this.innerHTML = value;\n    };\n  }\n\n  function htmlFunction(value) {\n    return function() {\n      var v = value.apply(this, arguments);\n      this.innerHTML = v == null ? \"\" : v;\n    };\n  }\n\n  function selection_html(value) {\n    return arguments.length\n        ? this.each(value == null\n            ? htmlRemove : (typeof value === \"function\"\n            ? htmlFunction\n            : htmlConstant)(value))\n        : this.node().innerHTML;\n  }\n\n  function raise() {\n    if (this.nextSibling) this.parentNode.appendChild(this);\n  }\n\n  function selection_raise() {\n    return this.each(raise);\n  }\n\n  function lower() {\n    if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n  }\n\n  function selection_lower() {\n    return this.each(lower);\n  }\n\n  function selection_append(name) {\n    var create = typeof name === \"function\" ? name : creator(name);\n    return this.select(function() {\n      return this.appendChild(create.apply(this, arguments));\n    });\n  }\n\n  function constantNull() {\n    return null;\n  }\n\n  function selection_insert(name, before) {\n    var create = typeof name === \"function\" ? name : creator(name),\n        select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n    return this.select(function() {\n      return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n    });\n  }\n\n  function remove() {\n    var parent = this.parentNode;\n    if (parent) parent.removeChild(this);\n  }\n\n  function selection_remove() {\n    return this.each(remove);\n  }\n\n  function selection_datum(value) {\n    return arguments.length\n        ? this.property(\"__data__\", value)\n        : this.node().__data__;\n  }\n\n  function dispatchEvent(node, type, params) {\n    var window = defaultView(node),\n        event = window.CustomEvent;\n\n    if (event) {\n      event = new event(type, params);\n    } else {\n      event = window.document.createEvent(\"Event\");\n      if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n      else event.initEvent(type, false, false);\n    }\n\n    node.dispatchEvent(event);\n  }\n\n  function dispatchConstant(type, params) {\n    return function() {\n      return dispatchEvent(this, type, params);\n    };\n  }\n\n  function dispatchFunction(type, params) {\n    return function() {\n      return dispatchEvent(this, type, params.apply(this, arguments));\n    };\n  }\n\n  function selection_dispatch(type, params) {\n    return this.each((typeof params === \"function\"\n        ? dispatchFunction\n        : dispatchConstant)(type, params));\n  }\n\n  var root = [null];\n\n  function Selection(groups, parents) {\n    this._groups = groups;\n    this._parents = parents;\n  }\n\n  function selection() {\n    return new Selection([[document.documentElement]], root);\n  }\n\n  Selection.prototype = selection.prototype = {\n    constructor: Selection,\n    select: selection_select,\n    selectAll: selection_selectAll,\n    filter: selection_filter,\n    data: selection_data,\n    enter: selection_enter,\n    exit: selection_exit,\n    merge: selection_merge,\n    order: selection_order,\n    sort: selection_sort,\n    call: selection_call,\n    nodes: selection_nodes,\n    node: selection_node,\n    size: selection_size,\n    empty: selection_empty,\n    each: selection_each,\n    attr: selection_attr,\n    style: selection_style,\n    property: selection_property,\n    classed: selection_classed,\n    text: selection_text,\n    html: selection_html,\n    raise: selection_raise,\n    lower: selection_lower,\n    append: selection_append,\n    insert: selection_insert,\n    remove: selection_remove,\n    datum: selection_datum,\n    on: selection_on,\n    dispatch: selection_dispatch\n  };\n\n  function select(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n        : new Selection([[selector]], root);\n  }\n\n  function selectAll(selector) {\n    return typeof selector === \"string\"\n        ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n        : new Selection([selector == null ? [] : selector], root);\n  }\n\n  function touch(node, touches, identifier) {\n    if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n    for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n      if ((touch = touches[i]).identifier === identifier) {\n        return point(node, touch);\n      }\n    }\n\n    return null;\n  }\n\n  function touches(node, touches) {\n    if (touches == null) touches = sourceEvent().touches;\n\n    for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n      points[i] = point(node, touches[i]);\n    }\n\n    return points;\n  }\n\n  exports.creator = creator;\n  exports.local = local;\n  exports.matcher = matcher$1;\n  exports.mouse = mouse;\n  exports.namespace = namespace;\n  exports.namespaces = namespaces;\n  exports.select = select;\n  exports.selectAll = selectAll;\n  exports.selection = selection;\n  exports.selector = selector;\n  exports.selectorAll = selectorAll;\n  exports.touch = touch;\n  exports.touches = touches;\n  exports.window = defaultView;\n  exports.customEvent = customEvent;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));","// https://d3js.org/d3-time-format/ v2.1.3 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('d3-time')) :\ntypeof define === 'function' && define.amd ? define(['exports', 'd3-time'], factory) :\n(factory((global.d3 = global.d3 || {}),global.d3));\n}(this, (function (exports,d3Time) { 'use strict';\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? d3Time.utcMonday.ceil(week) : d3Time.utcMonday(week);\n          week = d3Time.utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? d3Time.timeMonday.ceil(week) : d3Time.timeMonday(week);\n          week = d3Time.timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + d3Time.timeDay.count(d3Time.timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(d3Time.timeSunday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? d3Time.timeThursday(d) : d3Time.timeThursday.ceil(d);\n  return pad(d3Time.timeThursday.count(d3Time.timeYear(d), d) + (d3Time.timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(d3Time.timeMonday.count(d3Time.timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + d3Time.utcDay.count(d3Time.utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(d3Time.utcSunday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? d3Time.utcThursday(d) : d3Time.utcThursday.ceil(d);\n  return pad(d3Time.utcThursday.count(d3Time.utcYear(d), d) + (d3Time.utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(d3Time.utcMonday.count(d3Time.utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  exports.timeFormat = locale.format;\n  exports.timeParse = locale.parse;\n  exports.utcFormat = locale.utcFormat;\n  exports.utcParse = locale.utcParse;\n  return locale;\n}\n\nvar isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : exports.utcFormat(isoSpecifier);\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : exports.utcParse(isoSpecifier);\n\nexports.timeFormatDefaultLocale = defaultLocale;\nexports.timeFormatLocale = formatLocale;\nexports.isoFormat = formatIso;\nexports.isoParse = parseIso;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","// https://d3js.org/d3-time/ v1.0.10 Copyright 2018 Mike Bostock\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\ntypeof define === 'function' && define.amd ? define(['exports'], factory) :\n(factory((global.d3 = global.d3 || {})));\n}(this, (function (exports) { 'use strict';\n\nvar t0 = new Date,\n    t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\nvar milliseconds = millisecond.range;\n\nvar durationSecond = 1e3;\nvar durationMinute = 6e4;\nvar durationHour = 36e5;\nvar durationDay = 864e5;\nvar durationWeek = 6048e5;\n\nvar second = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\nvar seconds = second.range;\n\nvar minute = newInterval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\nvar minutes = minute.range;\n\nvar hour = newInterval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\nvar hours = hour.range;\n\nvar day = newInterval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\nvar days = day.range;\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nvar monday = weekday(1);\nvar tuesday = weekday(2);\nvar wednesday = weekday(3);\nvar thursday = weekday(4);\nvar friday = weekday(5);\nvar saturday = weekday(6);\n\nvar sundays = sunday.range;\nvar mondays = monday.range;\nvar tuesdays = tuesday.range;\nvar wednesdays = wednesday.range;\nvar thursdays = thursday.range;\nvar fridays = friday.range;\nvar saturdays = saturday.range;\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\nvar months = month.range;\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\nvar years = year.range;\n\nvar utcMinute = newInterval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\nvar utcMinutes = utcMinute.range;\n\nvar utcHour = newInterval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\nvar utcHours = utcHour.range;\n\nvar utcDay = newInterval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\nvar utcDays = utcDay.range;\n\nfunction utcWeekday(i) {\n  return newInterval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nvar utcTuesday = utcWeekday(2);\nvar utcWednesday = utcWeekday(3);\nvar utcThursday = utcWeekday(4);\nvar utcFriday = utcWeekday(5);\nvar utcSaturday = utcWeekday(6);\n\nvar utcSundays = utcSunday.range;\nvar utcMondays = utcMonday.range;\nvar utcTuesdays = utcTuesday.range;\nvar utcWednesdays = utcWednesday.range;\nvar utcThursdays = utcThursday.range;\nvar utcFridays = utcFriday.range;\nvar utcSaturdays = utcSaturday.range;\n\nvar utcMonth = newInterval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\nvar utcMonths = utcMonth.range;\n\nvar utcYear = newInterval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\nvar utcYears = utcYear.range;\n\nexports.timeInterval = newInterval;\nexports.timeMillisecond = millisecond;\nexports.timeMilliseconds = milliseconds;\nexports.utcMillisecond = millisecond;\nexports.utcMilliseconds = milliseconds;\nexports.timeSecond = second;\nexports.timeSeconds = seconds;\nexports.utcSecond = second;\nexports.utcSeconds = seconds;\nexports.timeMinute = minute;\nexports.timeMinutes = minutes;\nexports.timeHour = hour;\nexports.timeHours = hours;\nexports.timeDay = day;\nexports.timeDays = days;\nexports.timeWeek = sunday;\nexports.timeWeeks = sundays;\nexports.timeSunday = sunday;\nexports.timeSundays = sundays;\nexports.timeMonday = monday;\nexports.timeMondays = mondays;\nexports.timeTuesday = tuesday;\nexports.timeTuesdays = tuesdays;\nexports.timeWednesday = wednesday;\nexports.timeWednesdays = wednesdays;\nexports.timeThursday = thursday;\nexports.timeThursdays = thursdays;\nexports.timeFriday = friday;\nexports.timeFridays = fridays;\nexports.timeSaturday = saturday;\nexports.timeSaturdays = saturdays;\nexports.timeMonth = month;\nexports.timeMonths = months;\nexports.timeYear = year;\nexports.timeYears = years;\nexports.utcMinute = utcMinute;\nexports.utcMinutes = utcMinutes;\nexports.utcHour = utcHour;\nexports.utcHours = utcHours;\nexports.utcDay = utcDay;\nexports.utcDays = utcDays;\nexports.utcWeek = utcSunday;\nexports.utcWeeks = utcSundays;\nexports.utcSunday = utcSunday;\nexports.utcSundays = utcSundays;\nexports.utcMonday = utcMonday;\nexports.utcMondays = utcMondays;\nexports.utcTuesday = utcTuesday;\nexports.utcTuesdays = utcTuesdays;\nexports.utcWednesday = utcWednesday;\nexports.utcWednesdays = utcWednesdays;\nexports.utcThursday = utcThursday;\nexports.utcThursdays = utcThursdays;\nexports.utcFriday = utcFriday;\nexports.utcFridays = utcFridays;\nexports.utcSaturday = utcSaturday;\nexports.utcSaturdays = utcSaturdays;\nexports.utcMonth = utcMonth;\nexports.utcMonths = utcMonths;\nexports.utcYear = utcYear;\nexports.utcYears = utcYears;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","'use strict';\n/* @flow */\n\n/**\n * **[Gaussian error function](http://en.wikipedia.org/wiki/Error_function)**\n *\n * The `errorFunction(x/(sd * Math.sqrt(2)))` is the probability that a value in a\n * normal distribution with standard deviation sd is within x of the mean.\n *\n * This function returns a numerical approximation to the exact value.\n *\n * @param {number} x input\n * @return {number} error estimation\n * @example\n * errorFunction(1).toFixed(2); // => '0.84'\n */\nfunction errorFunction(x/*: number */)/*: number */ {\n    var t = 1 / (1 + 0.5 * Math.abs(x));\n    var tau = t * Math.exp(-Math.pow(x, 2) -\n        1.26551223 +\n        1.00002368 * t +\n        0.37409196 * Math.pow(t, 2) +\n        0.09678418 * Math.pow(t, 3) -\n        0.18628806 * Math.pow(t, 4) +\n        0.27886807 * Math.pow(t, 5) -\n        1.13520398 * Math.pow(t, 6) +\n        1.48851587 * Math.pow(t, 7) -\n        0.82215223 * Math.pow(t, 8) +\n        0.17087277 * Math.pow(t, 9));\n    if (x >= 0) {\n        return 1 - tau;\n    } else {\n        return tau - 1;\n    }\n}\n\nmodule.exports = errorFunction;\n","'use strict';\n/* @flow */\n\n/**\n * [Simple linear regression](http://en.wikipedia.org/wiki/Simple_linear_regression)\n * is a simple way to find a fitted line\n * between a set of coordinates. This algorithm finds the slope and y-intercept of a regression line\n * using the least sum of squares.\n *\n * @param {Array<Array<number>>} data an array of two-element of arrays,\n * like `[[0, 1], [2, 3]]`\n * @returns {Object} object containing slope and intersect of regression line\n * @example\n * linearRegression([[0, 0], [1, 1]]); // => { m: 1, b: 0 }\n */\nfunction linearRegression(data/*: Array<Array<number>> */)/*: { m: number, b: number } */ {\n\n    var m, b;\n\n    // Store data length in a local variable to reduce\n    // repeated object property lookups\n    var dataLength = data.length;\n\n    //if there's only one point, arbitrarily choose a slope of 0\n    //and a y-intercept of whatever the y of the initial point is\n    if (dataLength === 1) {\n        m = 0;\n        b = data[0][1];\n    } else {\n        // Initialize our sums and scope the `m` and `b`\n        // variables that define the line.\n        var sumX = 0, sumY = 0,\n            sumXX = 0, sumXY = 0;\n\n        // Use local variables to grab point values\n        // with minimal object property lookups\n        var point, x, y;\n\n        // Gather the sum of all x values, the sum of all\n        // y values, and the sum of x^2 and (x*y) for each\n        // value.\n        //\n        // In math notation, these would be SS_x, SS_y, SS_xx, and SS_xy\n        for (var i = 0; i < dataLength; i++) {\n            point = data[i];\n            x = point[0];\n            y = point[1];\n\n            sumX += x;\n            sumY += y;\n\n            sumXX += x * x;\n            sumXY += x * y;\n        }\n\n        // `m` is the slope of the regression line\n        m = ((dataLength * sumXY) - (sumX * sumY)) /\n            ((dataLength * sumXX) - (sumX * sumX));\n\n        // `b` is the y-intercept of the line.\n        b = (sumY / dataLength) - ((m * sumX) / dataLength);\n    }\n\n    // Return both values as an object.\n    return {\n        m: m,\n        b: b\n    };\n}\n\n\nmodule.exports = linearRegression;\n","'use strict';\n/* @flow */\n\n/**\n * Given the output of `linearRegression`: an object\n * with `m` and `b` values indicating slope and intercept,\n * respectively, generate a line function that translates\n * x values into y values.\n *\n * @param {Object} mb object with `m` and `b` members, representing\n * slope and intersect of desired line\n * @returns {Function} method that computes y-value at any given\n * x-value on the line.\n * @example\n * var l = linearRegressionLine(linearRegression([[0, 0], [1, 1]]));\n * l(0) // = 0\n * l(2) // = 2\n * linearRegressionLine({ b: 0, m: 1 })(1); // => 1\n * linearRegressionLine({ b: 1, m: 1 })(1); // => 2\n */\nfunction linearRegressionLine(mb/*: { b: number, m: number }*/)/*: Function */ {\n    // Return a function that computes a `y` value for each\n    // x value it is given, based on the values of `b` and `a`\n    // that we just computed.\n    return function(x) {\n        return mb.b + (mb.m * x);\n    };\n}\n\nmodule.exports = linearRegressionLine;\n","'use strict';\n/* @flow */\n\nvar sum = require('./sum');\n\n/**\n * The mean, _also known as average_,\n * is the sum of all values over the number of values.\n * This is a [measure of central tendency](https://en.wikipedia.org/wiki/Central_tendency):\n * a method of finding a typical or central value of a set of numbers.\n *\n * This runs on `O(n)`, linear time in respect to the array\n *\n * @param {Array<number>} x sample of one or more data points\n * @throws {Error} if the the length of x is less than one\n * @returns {number} mean\n * @example\n * mean([0, 10]); // => 5\n */\nfunction mean(x /*: Array<number> */)/*:number*/ {\n    // The mean of no numbers is null\n    if (x.length === 0) {\n        throw new Error('mean requires at least one data point');\n    }\n\n    return sum(x) / x.length;\n}\n\nmodule.exports = mean;\n","'use strict';\n/* @flow */\n\nvar quantileSorted = require('./quantile_sorted');\nvar quickselect = require('./quickselect');\n\n/**\n * The [quantile](https://en.wikipedia.org/wiki/Quantile):\n * this is a population quantile, since we assume to know the entire\n * dataset in this library. This is an implementation of the\n * [Quantiles of a Population](http://en.wikipedia.org/wiki/Quantile#Quantiles_of_a_population)\n * algorithm from wikipedia.\n *\n * Sample is a one-dimensional array of numbers,\n * and p is either a decimal number from 0 to 1 or an array of decimal\n * numbers from 0 to 1.\n * In terms of a k/q quantile, p = k/q - it's just dealing with fractions or dealing\n * with decimal values.\n * When p is an array, the result of the function is also an array containing the appropriate\n * quantiles in input order\n *\n * @param {Array<number>} x sample of one or more numbers\n * @param {number} p the desired quantile, as a number between 0 and 1\n * @returns {number} quantile\n * @example\n * quantile([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantile(x /*: Array<number> */, p /*: Array<number> | number */) {\n    var copy = x.slice();\n\n    if (Array.isArray(p)) {\n        // rearrange elements so that each element corresponding to a requested\n        // quantile is on a place it would be if the array was fully sorted\n        multiQuantileSelect(copy, p);\n        // Initialize the result array\n        var results = [];\n        // For each requested quantile\n        for (var i = 0; i < p.length; i++) {\n            results[i] = quantileSorted(copy, p[i]);\n        }\n        return results;\n    } else {\n        var idx = quantileIndex(copy.length, p);\n        quantileSelect(copy, idx, 0, copy.length - 1);\n        return quantileSorted(copy, p);\n    }\n}\n\nfunction quantileSelect(arr, k, left, right) {\n    if (k % 1 === 0) {\n        quickselect(arr, k, left, right);\n    } else {\n        k = Math.floor(k);\n        quickselect(arr, k, left, right);\n        quickselect(arr, k + 1, k + 1, right);\n    }\n}\n\nfunction multiQuantileSelect(arr, p) {\n    var indices = [0];\n    for (var i = 0; i < p.length; i++) {\n        indices.push(quantileIndex(arr.length, p[i]));\n    }\n    indices.push(arr.length - 1);\n    indices.sort(compare);\n\n    var stack = [0, indices.length - 1];\n\n    while (stack.length) {\n        var r = Math.ceil(stack.pop());\n        var l = Math.floor(stack.pop());\n        if (r - l <= 1) continue;\n\n        var m = Math.floor((l + r) / 2);\n        quantileSelect(arr, indices[m], indices[l], indices[r]);\n\n        stack.push(l, m, m, r);\n    }\n}\n\nfunction compare(a, b) {\n    return a - b;\n}\n\nfunction quantileIndex(len /*: number */, p /*: number */)/*:number*/ {\n    var idx = len * p;\n    if (p === 1) {\n        // If p is 1, directly return the last index\n        return len - 1;\n    } else if (p === 0) {\n        // If p is 0, directly return the first index\n        return 0;\n    } else if (idx % 1 !== 0) {\n        // If index is not integer, return the next index in array\n        return Math.ceil(idx) - 1;\n    } else if (len % 2 === 0) {\n        // If the list has even-length, we'll return the middle of two indices\n        // around quantile to indicate that we need an average value of the two\n        return idx - 0.5;\n    } else {\n        // Finally, in the simple case of an integer index\n        // with an odd-length list, return the index\n        return idx;\n    }\n}\n\nmodule.exports = quantile;\n","'use strict';\n/* @flow */\n\n/**\n * This is the internal implementation of quantiles: when you know\n * that the order is sorted, you don't need to re-sort it, and the computations\n * are faster.\n *\n * @param {Array<number>} x sample of one or more data points\n * @param {number} p desired quantile: a number between 0 to 1, inclusive\n * @returns {number} quantile value\n * @throws {Error} if p ix outside of the range from 0 to 1\n * @throws {Error} if x is empty\n * @example\n * quantileSorted([3, 6, 7, 8, 8, 9, 10, 13, 15, 16, 20], 0.5); // => 9\n */\nfunction quantileSorted(x /*: Array<number> */, p /*: number */)/*:number*/ {\n    var idx = x.length * p;\n    if (x.length === 0) {\n        throw new Error('quantile requires at least one data point.');\n    } else if (p < 0 || p > 1) {\n        throw new Error('quantiles must be between 0 and 1');\n    } else if (p === 1) {\n        // If p is 1, directly return the last element\n        return x[x.length - 1];\n    } else if (p === 0) {\n        // If p is 0, directly return the first element\n        return x[0];\n    } else if (idx % 1 !== 0) {\n        // If p is not integer, return the next element in array\n        return x[Math.ceil(idx) - 1];\n    } else if (x.length % 2 === 0) {\n        // If the list has even-length, we'll take the average of this number\n        // and the next value, if there is one\n        return (x[idx - 1] + x[idx]) / 2;\n    } else {\n        // Finally, in the simple case of an integer value\n        // with an odd-length list, return the x value at the index.\n        return x[idx];\n    }\n}\n\nmodule.exports = quantileSorted;\n","'use strict';\n/* @flow */\n\nmodule.exports = quickselect;\n\n/**\n * Rearrange items in `arr` so that all items in `[left, k]` range are the smallest.\n * The `k`-th element will have the `(k - left + 1)`-th smallest value in `[left, right]`.\n *\n * Implements Floyd-Rivest selection algorithm https://en.wikipedia.org/wiki/Floyd-Rivest_algorithm\n *\n * @private\n * @param {Array<number>} arr input array\n * @param {number} k pivot index\n * @param {number} left left index\n * @param {number} right right index\n * @returns {undefined}\n * @example\n * var arr = [65, 28, 59, 33, 21, 56, 22, 95, 50, 12, 90, 53, 28, 77, 39];\n * quickselect(arr, 8);\n * // = [39, 28, 28, 33, 21, 12, 22, 50, 53, 56, 59, 65, 90, 77, 95]\n */\nfunction quickselect(arr /*: Array<number> */, k /*: number */, left /*: number */, right /*: number */) {\n    left = left || 0;\n    right = right || (arr.length - 1);\n\n    while (right > left) {\n        // 600 and 0.5 are arbitrary constants chosen in the original paper to minimize execution time\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n);\n            if (m - n / 2 < 0) sd *= -1;\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselect(arr, k, newLeft, newRight);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (arr[right] > t) swap(arr, left, right);\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (arr[i] < t) i++;\n            while (arr[j] > t) j--;\n        }\n\n        if (arr[left] === t) swap(arr, left, j);\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) left = j + 1;\n        if (k <= j) right = j - 1;\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n","'use strict';\n/* @flow */\n\nvar sampleCovariance = require('./sample_covariance');\nvar sampleStandardDeviation = require('./sample_standard_deviation');\n\n/**\n * The [correlation](http://en.wikipedia.org/wiki/Correlation_and_dependence) is\n * a measure of how correlated two datasets are, between -1 and 1\n *\n * @param {Array<number>} x first input\n * @param {Array<number>} y second input\n * @returns {number} sample correlation\n * @example\n * sampleCorrelation([1, 2, 3, 4, 5, 6], [2, 2, 3, 4, 5, 60]).toFixed(2);\n * // => '0.69'\n */\nfunction sampleCorrelation(x/*: Array<number> */, y/*: Array<number> */)/*:number*/ {\n    var cov = sampleCovariance(x, y),\n        xstd = sampleStandardDeviation(x),\n        ystd = sampleStandardDeviation(y);\n\n    return cov / xstd / ystd;\n}\n\nmodule.exports = sampleCorrelation;\n","'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n\n/**\n * [Sample covariance](https://en.wikipedia.org/wiki/Sample_mean_and_sampleCovariance) of two datasets:\n * how much do the two datasets move together?\n * x and y are two datasets, represented as arrays of numbers.\n *\n * @param {Array<number>} x a sample of two or more data points\n * @param {Array<number>} y a sample of two or more data points\n * @throws {Error} if x and y do not have equal lengths\n * @throws {Error} if x or y have length of one or less\n * @returns {number} sample covariance\n * @example\n * sampleCovariance([1, 2, 3, 4, 5, 6], [6, 5, 4, 3, 2, 1]); // => -3.5\n */\nfunction sampleCovariance(x /*:Array<number>*/, y /*:Array<number>*/)/*:number*/ {\n\n    // The two datasets must have the same length which must be more than 1\n    if (x.length !== y.length) {\n        throw new Error('sampleCovariance requires samples with equal lengths');\n    }\n\n    if (x.length < 2) {\n        throw new Error('sampleCovariance requires at least two data points in each sample');\n    }\n\n    // determine the mean of each dataset so that we can judge each\n    // value of the dataset fairly as the difference from the mean. this\n    // way, if one dataset is [1, 2, 3] and [2, 3, 4], their covariance\n    // does not suffer because of the difference in absolute values\n    var xmean = mean(x),\n        ymean = mean(y),\n        sum = 0;\n\n    // for each pair of values, the covariance increases when their\n    // difference from the mean is associated - if both are well above\n    // or if both are well below\n    // the mean, the covariance increases significantly.\n    for (var i = 0; i < x.length; i++) {\n        sum += (x[i] - xmean) * (y[i] - ymean);\n    }\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // the covariance is weighted by the length of the datasets.\n    return sum / besselsCorrection;\n}\n\nmodule.exports = sampleCovariance;\n","'use strict';\n/* @flow */\n\nvar sampleVariance = require('./sample_variance');\n\n/**\n * The [sample standard deviation](http://en.wikipedia.org/wiki/Standard_deviation#Sample_standard_deviation)\n * is the square root of the sample variance.\n *\n * @param {Array<number>} x input array\n * @returns {number} sample standard deviation\n * @example\n * sampleStandardDeviation([2, 4, 4, 4, 5, 5, 7, 9]).toFixed(2);\n * // => '2.14'\n */\nfunction sampleStandardDeviation(x/*:Array<number>*/)/*:number*/ {\n    // The standard deviation of no numbers is null\n    var sampleVarianceX = sampleVariance(x);\n    return Math.sqrt(sampleVarianceX);\n}\n\nmodule.exports = sampleStandardDeviation;\n","'use strict';\n/* @flow */\n\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\n\n/**\n * The [sample variance](https://en.wikipedia.org/wiki/Variance#Sample_variance)\n * is the sum of squared deviations from the mean. The sample variance\n * is distinguished from the variance by the usage of [Bessel's Correction](https://en.wikipedia.org/wiki/Bessel's_correction):\n * instead of dividing the sum of squared deviations by the length of the input,\n * it is divided by the length minus one. This corrects the bias in estimating\n * a value from a set that you don't know if full.\n *\n * References:\n * * [Wolfram MathWorld on Sample Variance](http://mathworld.wolfram.com/SampleVariance.html)\n *\n * @param {Array<number>} x a sample of two or more data points\n * @throws {Error} if the length of x is less than 2\n * @return {number} sample variance\n * @example\n * sampleVariance([1, 2, 3, 4, 5]); // => 2.5\n */\nfunction sampleVariance(x /*: Array<number> */)/*:number*/ {\n    // The variance of no numbers is null\n    if (x.length < 2) {\n        throw new Error('sampleVariance requires at least two data points');\n    }\n\n    var sumSquaredDeviationsValue = sumNthPowerDeviations(x, 2);\n\n    // this is Bessels' Correction: an adjustment made to sample statistics\n    // that allows for the reduced degree of freedom entailed in calculating\n    // values from samples rather than complete populations.\n    var besselsCorrection = x.length - 1;\n\n    // Find the mean value of that list\n    return sumSquaredDeviationsValue / besselsCorrection;\n}\n\nmodule.exports = sampleVariance;\n","'use strict';\n/* @flow */\n\nvar variance = require('./variance');\n\n/**\n * The [standard deviation](http://en.wikipedia.org/wiki/Standard_deviation)\n * is the square root of the variance. This is also known as the population\n * standard deviation. It's useful for measuring the amount\n * of variation or dispersion in a set of values.\n *\n * Standard deviation is only appropriate for full-population knowledge: for\n * samples of a population, {@link sampleStandardDeviation} is\n * more appropriate.\n *\n * @param {Array<number>} x input\n * @returns {number} standard deviation\n * @example\n * variance([2, 4, 4, 4, 5, 5, 7, 9]); // => 4\n * standardDeviation([2, 4, 4, 4, 5, 5, 7, 9]); // => 2\n */\nfunction standardDeviation(x /*: Array<number> */)/*:number*/ {\n    if (x.length === 1) {\n        return 0;\n    }\n    var v = variance(x);\n    return Math.sqrt(v);\n}\n\nmodule.exports = standardDeviation;\n","'use strict';\n/* @flow */\n\n/**\n * Our default sum is the [Kahan-Babuska algorithm](https://pdfs.semanticscholar.org/1760/7d467cda1d0277ad272deb2113533131dc09.pdf).\n * This method is an improvement over the classical\n * [Kahan summation algorithm](https://en.wikipedia.org/wiki/Kahan_summation_algorithm).\n * It aims at computing the sum of a list of numbers while correcting for\n * floating-point errors. Traditionally, sums are calculated as many\n * successive additions, each one with its own floating-point roundoff. These\n * losses in precision add up as the number of numbers increases. This alternative\n * algorithm is more accurate than the simple way of calculating sums by simple\n * addition.\n *\n * This runs on `O(n)`, linear time in respect to the array.\n *\n * @param {Array<number>} x input\n * @return {number} sum of all input numbers\n * @example\n * sum([1, 2, 3]); // => 6\n */\nfunction sum(x/*: Array<number> */)/*: number */ {\n\n    // If the array is empty, we needn't bother computing its sum\n    if (x.length === 0) {\n        return 0;\n    }\n\n    // Initializing the sum as the first number in the array\n    var sum = x[0];\n\n    // Keeping track of the floating-point error correction\n    var correction = 0;\n\n    var transition;\n\n    for (var i = 1; i < x.length; i++) {\n        transition = sum + x[i];\n\n        // Here we need to update the correction in a different fashion\n        // if the new absolute value is greater than the absolute sum\n        if (Math.abs(sum) >= Math.abs(x[i])) {\n            correction += ((sum - transition) + x[i]);\n        }\n        else {\n            correction += ((x[i] - transition) + sum);\n        }\n\n        sum = transition;\n    }\n\n    // Returning the corrected sum\n    return sum + correction;\n}\n\nmodule.exports = sum;\n","'use strict';\n/* @flow */\n\nvar mean = require('./mean');\n\n/**\n * The sum of deviations to the Nth power.\n * When n=2 it's the sum of squared deviations.\n * When n=3 it's the sum of cubed deviations.\n *\n * @param {Array<number>} x\n * @param {number} n power\n * @returns {number} sum of nth power deviations\n * @example\n * var input = [1, 2, 3];\n * // since the variance of a set is the mean squared\n * // deviations, we can calculate that with sumNthPowerDeviations:\n * var variance = sumNthPowerDeviations(input) / input.length;\n */\nfunction sumNthPowerDeviations(x/*: Array<number> */, n/*: number */)/*:number*/ {\n    var meanValue = mean(x),\n        sum = 0,\n        tempValue,\n        i;\n\n    // This is an optimization: when n is 2 (we're computing a number squared),\n    // multiplying the number by itself is significantly faster than using\n    // the Math.pow method.\n    if (n === 2) {\n        for (i = 0; i < x.length; i++) {\n            tempValue = x[i] - meanValue;\n            sum += tempValue * tempValue;\n        }\n    } else {\n        for (i = 0; i < x.length; i++) {\n            sum += Math.pow(x[i] - meanValue, n);\n        }\n    }\n\n    return sum;\n}\n\nmodule.exports = sumNthPowerDeviations;\n","'use strict';\n/* @flow */\n\nvar sumNthPowerDeviations = require('./sum_nth_power_deviations');\n\n/**\n * The [variance](http://en.wikipedia.org/wiki/Variance)\n * is the sum of squared deviations from the mean.\n *\n * This is an implementation of variance, not sample variance:\n * see the `sampleVariance` method if you want a sample measure.\n *\n * @param {Array<number>} x a population of one or more data points\n * @returns {number} variance: a value greater than or equal to zero.\n * zero indicates that all values are identical.\n * @throws {Error} if x's length is 0\n * @example\n * variance([1, 2, 3, 4, 5, 6]); // => 2.9166666666666665\n */\nfunction variance(x/*: Array<number> */)/*:number*/ {\n    // The variance of no numbers is null\n    if (x.length === 0) {\n        throw new Error('variance requires at least one data point');\n    }\n\n    // Find the mean of squared deviations between the\n    // mean value and each value.\n    return sumNthPowerDeviations(x, 2) / x.length;\n}\n\nmodule.exports = variance;\n","'use strict';\n/* @flow */\n\n/**\n * The [Z-Score, or Standard Score](http://en.wikipedia.org/wiki/Standard_score).\n *\n * The standard score is the number of standard deviations an observation\n * or datum is above or below the mean. Thus, a positive standard score\n * represents a datum above the mean, while a negative standard score\n * represents a datum below the mean. It is a dimensionless quantity\n * obtained by subtracting the population mean from an individual raw\n * score and then dividing the difference by the population standard\n * deviation.\n *\n * The z-score is only defined if one knows the population parameters;\n * if one only has a sample set, then the analogous computation with\n * sample mean and sample standard deviation yields the\n * Student's t-statistic.\n *\n * @param {number} x\n * @param {number} mean\n * @param {number} standardDeviation\n * @return {number} z score\n * @example\n * zScore(78, 80, 5); // => -0.4\n */\nfunction zScore(x/*:number*/, mean/*:number*/, standardDeviation/*:number*/)/*:number*/ {\n    return (x - mean) / standardDeviation;\n}\n\nmodule.exports = zScore;\n","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class BarChartConfig extends ChartWithColorGroupsConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'bar-chart';\r\n    showLegend = true;\r\n    showTooltip = true;\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => Utils.isNumber(d) ? d : d[key], // x value accessor\r\n        scale: \"ordinal\",\r\n        orient: \"bottom\",\r\n        ticks: undefined,\r\n    };\r\n    y = {// Y axis config\r\n        key: 1,\r\n        value: (d, key) => Utils.isNumber(d) ? d : d[key], // x value accessor\r\n        title: '', // axis label,\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    transition = true;\r\n\r\n    constructor(custom) {\r\n        super();\r\n        var config = this;\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class BarChart extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BarChartConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new BarChartConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.computePlotSize();\r\n        this.setupY();\r\n        this.setupX();\r\n        this.setupGroupStacks();\r\n        this.setupYDomain();\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n        x.scale = d3.scaleBand().range([0, plot.width]).paddingInner(.08);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n        if (conf.ticks) {\r\n            x.axis.ticks(conf.ticks);\r\n        }\r\n        var data = this.plot.data;\r\n        var domain;\r\n        if (!data || !data.length) {\r\n            domain = [];\r\n        } else if (!this.config.series) {\r\n            domain = Array.from(new Set(data.map(x.value)));\r\n        } else {\r\n            domain = Array.from(new Set(data[0].values.map(x.value)));\r\n        }\r\n\r\n        plot.x.scale.domain(domain);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.value = d => conf.value(d, conf.key);\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n\r\n    };\r\n\r\n    setupYDomain() {\r\n        var plot = this.plot;\r\n        var data = this.plot.data;\r\n        var domain;\r\n        var yStackMax = d3.max(plot.layers, layer => d3.max(layer.points, d => d.y0 + d.y));\r\n\r\n\r\n        // var min = d3.min(data, s=>d3.min(s.values, plot.y.value));\r\n        var max = yStackMax;\r\n        domain = [0, max];\r\n\r\n        plot.y.scale.domain(domain);\r\n        // console.log(' plot.y.scale.domain', plot.y.scale.domain());\r\n    }\r\n\r\n    setupGroupStacks() {\r\n        var self = this;\r\n        this.groupData();\r\n\r\n        var y0s = [];\r\n        this.plot.groupedData.forEach(s => {\r\n            s.points = s.values.map(v => self.mapToPoint(v));\r\n            s.points.forEach((p, i) => {\r\n                var prevY0 = y0s[i];\r\n                if (!prevY0) prevY0 = 0;\r\n                p.y0 = prevY0;\r\n                y0s[i] = p.y + prevY0;\r\n            });\r\n\r\n        });\r\n        this.plot.layers = this.plot.groupedData;\r\n\r\n    }\r\n\r\n    mapToPoint(value) {\r\n        var plot = this.plot;\r\n        return {\r\n            x: plot.x.value(value),\r\n            y: parseFloat(plot.y.value(value))\r\n        }\r\n    }\r\n\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n\r\n    drawBars() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        // console.log('layers', plot.layers);\r\n\r\n        var layerClass = this.prefixClass(\"layer\");\r\n\r\n        var barClass = this.prefixClass(\"bar\");\r\n        var layer = self.svgG.selectAll(\".\" + layerClass)\r\n            .data(plot.layers);\r\n\r\n        var layerMerge = layer.enter().append(\"g\")\r\n            .attr(\"class\", layerClass).merge(layer);\r\n\r\n        var bar = layerMerge.selectAll(\".\" + barClass)\r\n            .data(d => d.points);\r\n\r\n        var barEnter = bar.enter().append(\"g\")\r\n            .attr(\"class\", barClass);\r\n        var barRectEnter = barEnter.append(\"rect\")\r\n            .attr(\"x\", 1);\r\n        var barMerge = barEnter.merge(bar);\r\n\r\n        var barRect = barMerge.select(\"rect\");\r\n\r\n        var barRectT = barRect;\r\n        var barT = barMerge;\r\n        var layerT = layerMerge;\r\n        if (this.transitionEnabled()) {\r\n            barRectT = barRect.transition();\r\n            barT = barMerge.transition();\r\n            layerT = layerMerge.transition();\r\n        }\r\n\r\n        barEnter.attr(\"transform\", function (d) {\r\n            return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0)) + \")\";\r\n        });\r\n        var yDomain = plot.y.scale.domain();\r\n        barT.attr(\"transform\", function (d) {\r\n            return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0 + d.y)) + \")\";\r\n        });\r\n        barRectEnter\r\n            .attr(\"width\", plot.x.scale.bandwidth())\r\n            .attr(\"height\", 0);\r\n        barRectT\r\n            .attr(\"width\", plot.x.scale.bandwidth())\r\n            .attr(\"height\", d => plot.y.scale(d.y0) - plot.y.scale(d.y0 + d.y - yDomain[0]));\r\n\r\n\r\n        if (this.plot.seriesColor) {\r\n            layerT\r\n                .attr(\"fill\", this.plot.seriesColor);\r\n        }\r\n\r\n        if (plot.tooltip) {\r\n            barMerge.on(\"mouseover\", (event, d) => {\r\n                self.showTooltip(event, d.y);\r\n            }).on(\"mouseout\", (event, d) => {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n        layer.exit().remove();\r\n        bar.exit().remove();\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.drawBars();\r\n        return this;\r\n    };\r\n\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class BoxPlotBaseConfig extends ChartConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'box-plot';\r\n    showTooltip = true;\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        value: s => s.key, // x value accessor\r\n        guides: false, //show axis guides\r\n        orient: 'bottom',\r\n\r\n    };\r\n    y = {// Y axis config\r\n        title: '',\r\n        value: d => d, // y value accessor\r\n        scale: \"linear\",\r\n        orient: 'left',\r\n        domainMargin: 0.1,\r\n        guides: true //show axis guides\r\n    };\r\n    Q1 = d => d.values.Q1;\r\n    Q2 = d => d.values.Q2;\r\n    Q3 = d => d.values.Q3;\r\n    Wl = d => d.values.whiskerLow;\r\n    Wh = d => d.values.whiskerHigh;\r\n    outliers = d => d.values.outliers;\r\n    outlierValue = (d, i) => d;\r\n    outlierLabel = (d, i) => d;\r\n    minBoxWidth = 35;\r\n    maxBoxWidth = 100;\r\n\r\n    transition = true;\r\n    color = undefined;// string or function returning color's value for color scale\r\n    d3ColorCategory = 'category10';\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class BoxPlotBase extends Chart {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BoxPlotBaseConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new BoxPlotBaseConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        super.computePlotSize();\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.plot.data = this.getDataToPlot();\r\n        this.setupY();\r\n        this.setupX();\r\n\r\n        this.setupColor();\r\n\r\n    }\r\n\r\n    getDataToPlot() {\r\n        return this.data;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        x.value = conf.value;\r\n        x.scale = d3.scaleBand().range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n        if (conf.guides) {\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n        var data = this.plot.data;\r\n        var domain;\r\n        if (!data || !data.length) {\r\n            domain = [];\r\n        } else {\r\n            domain = data.map(x.value);\r\n        }\r\n\r\n        plot.x.scale.domain(domain);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.value = d => conf.value.call(this.config, d);\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n        if (conf.ticks) {\r\n            y.axis.ticks(conf.ticks);\r\n        }\r\n        if (conf.guides) {\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n        this.setupYDomain();\r\n    };\r\n\r\n    setupYDomain() {\r\n        var plot = this.plot;\r\n        var data = this.plot.data;\r\n        var c = this.config;\r\n\r\n        var values = [], yMin, yMax;\r\n        data.forEach(function (d, i) {\r\n            let q1 = c.Q1(d),\r\n                q3 = c.Q3(d),\r\n                wl = c.Wl(d),\r\n                wh = c.Wh(d),\r\n                outliers = c.outliers(d);\r\n\r\n            if (outliers) {\r\n                outliers.forEach(function (o, i) {\r\n                    values.push(c.outlierValue(o, i));\r\n                });\r\n            }\r\n            if (wl) {\r\n                values.push(wl)\r\n            }\r\n            if (q1) {\r\n                values.push(q1)\r\n            }\r\n            if (q3) {\r\n                values.push(q3)\r\n            }\r\n            if (wh) {\r\n                values.push(wh)\r\n            }\r\n        });\r\n        yMin = d3.min(values);\r\n        yMax = d3.max(values);\r\n        var margin = (yMax - yMin) * this.config.y.domainMargin;\r\n        yMin -= margin;\r\n        yMax += margin;\r\n        var domain = [yMin, yMax];\r\n\r\n        plot.y.scale.domain(domain);\r\n    }\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.label);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawBoxPlots() {\r\n        var self = this,\r\n            plot = self.plot,\r\n            config = self.config,\r\n            boxplotClass = self.prefixClass(\"boxplot-item\")\r\n\r\n        var boxplots = self.svgG.selectAll('.' + boxplotClass).data(plot.data);\r\n        var boxplotEnter = boxplots.enter()\r\n            .append('g')\r\n            .attr('class', boxplotClass)\r\n            .style('stroke-opacity', 1e-6)\r\n            .style('fill-opacity', 1e-6);\r\n\r\n        var boxplotsMerge = boxplotEnter.merge(boxplots);\r\n        var duration = 1000;\r\n        var boxplotsT = boxplotsMerge;\r\n        if (self.transitionEnabled()) {\r\n            boxplotsT = boxplotsMerge.transition();\r\n            boxplotsT.delay(function (d, i) {\r\n                return i * duration / plot.data.length\r\n            })\r\n        }\r\n\r\n        boxplotsT\r\n            .style('fill', plot.color)\r\n            .style('stroke-opacity', 1)\r\n            .style('fill-opacity', 0.75)\r\n            .attr('transform', (d, i) => 'translate(' + (plot.x.map(d, i) + plot.x.scale.bandwidth() * 0.05) + ', 0)')\r\n        boxplots.exit().remove();\r\n\r\n        var boxWidth = !config.maxBoxWidth ? plot.x.scale.bandwidth() * 0.9 : Math.min(config.maxBoxWidth, Math.max(config.minBoxWidth, plot.x.scale.bandwidth() * 0.9));\r\n        var boxLeft = plot.x.scale.bandwidth() * 0.45 - boxWidth / 2;\r\n        var boxRight = plot.x.scale.bandwidth() * 0.45 + boxWidth / 2;\r\n\r\n        var boxClass = self.prefixClass(\"box\");\r\n\r\n        boxplotEnter.append('rect')\r\n            .attr('class', boxClass)\r\n            // tooltip events\r\n            .on('mouseover', function (event, d) {\r\n                const i = boxplotEnter.nodes().indexOf(this);\r\n                d3.select(this).classed('hover', true);\r\n                var html = 'Q3: ' + config.Q3(d, i) + '<br/>Q2: ' + config.Q2(d, i) + '<br/>Q1: ' + config.Q1(d, i);\r\n                self.showTooltip(html)\r\n            })\r\n            .on('mouseout', function (e, d) {\r\n                d3.select(this).classed('hover', false);\r\n                self.hideTooltip();\r\n            });\r\n\r\n        var boxRects = boxplotsMerge.select('rect.' + boxClass);\r\n\r\n        var boxRectsT = boxRects;\r\n        if (self.config.transition) {\r\n            boxRectsT = boxRects.transition();\r\n        }\r\n\r\n        boxRectsT.attr('y', (d, i) => plot.y.scale(config.Q3(d)))\r\n            .attr('width', boxWidth)\r\n            .attr('x', boxLeft)\r\n            .attr('height', (d, i) => Math.abs(plot.y.scale(config.Q3(d)) - plot.y.scale(config.Q1(d))) || 1)\r\n            .style('stroke', plot.color);\r\n\r\n        // median line\r\n        var medianClass = self.prefixClass('median');\r\n        boxplotEnter.append('line').attr('class', medianClass);\r\n\r\n        var medianLine = boxplotsMerge.select('line.' + medianClass);\r\n        if (self.config.transition) {\r\n            medianLine = medianLine.transition();\r\n        }\r\n        medianLine\r\n            .attr('x1', boxLeft)\r\n            .attr('y1', (d, i) => plot.y.scale(config.Q2(d)))\r\n            .attr('x2', boxRight)\r\n            .attr('y2', (d, i) => plot.y.scale(config.Q2(d)));\r\n\r\n\r\n        //whiskers\r\n\r\n        var whiskerClass = self.prefixClass(\"whisker\"),\r\n            tickClass = self.prefixClass(\"boxplot-tick\");\r\n\r\n        var whiskers = [{key: 'low', value: config.Wl}, {key: 'high', value: config.Wh}];\r\n\r\n        boxplotEnter.each(function (d, i) {\r\n            var box = d3.select(this);\r\n\r\n            whiskers.forEach(f => {\r\n                if (f.value(d)) {\r\n                    box.append('line')\r\n                        .style('stroke', plot.color(d, i))\r\n                        .attr('class', whiskerClass + ' ' + boxplotClass + '-' + f.key);\r\n                    box.append('line')\r\n                        .style('stroke', plot.color(d, i))\r\n                        .attr('class', tickClass + ' ' + boxplotClass + '-' + f.key);\r\n                }\r\n            });\r\n        });\r\n\r\n        whiskers.forEach(f => {\r\n            var endpoint = (f.key === 'low') ? config.Q1 : config.Q3;\r\n\r\n            var whisker = boxplotsMerge.select('.' + whiskerClass + '.' + boxplotClass + '-' + f.key);\r\n            var tick = boxplotsMerge.select('.' + tickClass + '.' + boxplotClass + '-' + f.key);\r\n            if (self.config.transition) {\r\n                whisker = whisker.transition();\r\n                tick = tick.transition();\r\n            }\r\n            whisker\r\n                .attr('x1', plot.x.scale.bandwidth() * 0.45)\r\n                .attr('y1', (d, i) => plot.y.scale(f.value(d)))\r\n                .attr('x2', plot.x.scale.bandwidth() * 0.45)\r\n                .attr('y2', (d, i) => plot.y.scale(endpoint(d)));\r\n\r\n            tick\r\n                .attr('x1', boxLeft)\r\n                .attr('y1', (d, i) => plot.y.scale(f.value(d)))\r\n                .attr('x2', boxRight)\r\n                .attr('y2', (d, i) => plot.y.scale(f.value(d)));\r\n\r\n            boxplotEnter.selectAll('.' + boxplotClass + '-' + f.key)\r\n                .on('mouseover', function (event, d) {\r\n                    d3.select(this).classed('hover', true);\r\n                    self.showTooltip(f.value(d))\r\n                })\r\n                .on('mouseout', function () {\r\n                    d3.select(this).classed('hover', false);\r\n                    self.hideTooltip();\r\n                })\r\n        });\r\n\r\n\r\n        // outliers\r\n        var outlierClass = self.prefixClass(\"outlier\");\r\n        var outliers = boxplotsMerge.selectAll('.' + outlierClass).data((d, i) => config.outliers(d, i) || []);\r\n\r\n        var outlierEnterCircle = outliers.enter().append('circle')\r\n            .attr('class', outlierClass)\r\n            .style('z-index', 9000);\r\n\r\n        outlierEnterCircle\r\n            .on('mouseover', function (event, d) {\r\n                const i = outlierEnterCircle.nodes().indexOf(this);\r\n                d3.select(this).classed('hover', true);\r\n                self.showTooltip(config.outlierLabel(d, i))\r\n            })\r\n            .on('mouseout', function () {\r\n                d3.select(this).classed('hover', false);\r\n                self.hideTooltip();\r\n            });\r\n\r\n        var outliersMerge = outlierEnterCircle.merge(outliers);\r\n        var outliersT = outliersMerge;\r\n        if (self.config.transition) {\r\n            outliersT = outliersMerge.transition();\r\n        }\r\n        outliersT\r\n            .attr('cx', plot.x.scale.bandwidth() * 0.45)\r\n            .attr('cy', (d, i) => plot.y.scale(config.outlierValue(d, i)))\r\n            .attr('r', '3');\r\n        outliers.exit().remove();\r\n\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.drawBoxPlots();\r\n        return this;\r\n    };\r\n\r\n    setupColor() {\r\n        var self = this;\r\n        var conf = this.config;\r\n\r\n        if (conf.d3ColorCategory) {\r\n            var colorSchemeCategory = 'scheme' + Utils.capitalizeFirstLetter(conf.d3ColorCategory);\r\n            this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\r\n        }\r\n        var colorValue = conf.color;\r\n        if (colorValue && typeof colorValue === 'string' || colorValue instanceof String) {\r\n            this.plot.color = colorValue;\r\n        } else if (this.plot.colorCategory) {\r\n            self.plot.colorValue = colorValue;\r\n            this.plot.color = d => self.plot.colorCategory(this.plot.x.value(d));\r\n        }\r\n    }\r\n}\r\n","import {BoxPlotBase, BoxPlotBaseConfig} from \"./box-plot-base\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class BoxPlotConfig extends BoxPlotBaseConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'box-plot';\r\n    showLegend = true;\r\n    showTooltip = true;\r\n    y = {// Y axis config\r\n        key: undefined,\r\n        value: function (d) {\r\n            return this.y.key === undefined ? d : d[this.y.key]\r\n        }, // y value accessor\r\n        scale: \"linear\",\r\n        orient: 'left',\r\n        domainMargin: 0.1,\r\n        guides: true //show axis guides\r\n    };\r\n    series = false;\r\n    groups = {\r\n        key: undefined,\r\n        value: function (d) {\r\n            return this.groups.key === undefined ? '' : d[this.groups.key]\r\n        }, // grouping value accessor,\r\n        label: \"\",\r\n        displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\r\n    };\r\n    tukey = false;\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class BoxPlot extends BoxPlotBase {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new BoxPlotConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new BoxPlotConfig(config));\r\n    }\r\n\r\n    getDataToPlot() {\r\n        var self = this;\r\n        var conf = self.config;\r\n        self.plot.groupingEnabled = this.isGroupingEnabled();\r\n\r\n        var data = this.data;\r\n        if (!self.plot.groupingEnabled) {\r\n            self.plot.groupedData = [{\r\n                key: '',\r\n                values: data\r\n            }];\r\n            self.plot.dataLength = data.length;\r\n        } else {\r\n            if (self.config.series) {\r\n                self.plot.groupedData = data.map(s => {\r\n                    return {\r\n                        key: s.label || s.key || '',\r\n                        values: s.values\r\n                    }\r\n                });\r\n            } else {\r\n                self.plot.groupValue = d => conf.groups.value.call(conf, d);\r\n                self.plot.groupedData = Utils.nest(data, this.plot.groupValue)\r\n\r\n                var getDisplayValue = k => k;\r\n                if (self.config.groups.displayValue) {\r\n                    if (Utils.isFunction(self.config.groups.displayValue)) {\r\n                        getDisplayValue = k => self.config.groups.displayValue(k) || k;\r\n                    } else if (Utils.isObject(self.config.groups.displayValue)) {\r\n                        getDisplayValue = k => self.config.groups.displayValue[k] || k;\r\n                    }\r\n                }\r\n                self.plot.groupedData.forEach(g => {\r\n                    g.key = getDisplayValue(g.key);\r\n                });\r\n            }\r\n\r\n            self.plot.dataLength = d3.sum(this.plot.groupedData, s => s.values.length);\r\n        }\r\n\r\n\r\n        self.plot.groupedData.forEach(s => {\r\n            if (!Array.isArray(s.values)) {\r\n                return;\r\n            }\r\n\r\n            var values = s.values.map(d => parseFloat(self.config.y.value.call(self.config, d)));\r\n            s.values.Q1 = StatisticsUtils.quantile(values, 0.25);\r\n            s.values.Q2 = StatisticsUtils.quantile(values, 0.5);\r\n            s.values.Q3 = StatisticsUtils.quantile(values, 0.75);\r\n            var IQR = s.values.Q3 - s.values.Q1;\r\n\r\n            if (!self.config.tukey) {\r\n                s.values.whiskerLow = d3.min(values);\r\n                s.values.whiskerHigh = d3.max(values);\r\n            } else {\r\n                s.values.whiskerLow = s.values.Q1 - 1.5 * IQR;\r\n                s.values.whiskerHigh = s.values.Q3 + 1.5 * IQR;\r\n                s.values.outliers = values.filter(d => d < s.values.whiskerLow || d > s.values.whiskerHigh);\r\n            }\r\n        });\r\n\r\n        return self.plot.groupedData;\r\n    }\r\n\r\n    isGroupingEnabled() {\r\n        return this.config.series || !!(this.config.groups && this.config.groups.value);\r\n    }\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\nimport * as d3 from './d3'\r\n\r\nexport class ChartWithColorGroupsConfig extends ChartConfig {\r\n\r\n    showLegend = true;\r\n    forceLegend = false;\r\n    legend = {\r\n        width: 80,\r\n        margin: 10,\r\n        shapeWidth: 20\r\n    };\r\n    groups = {\r\n        key: 2,\r\n        value: function (d) {\r\n            return d[this.groups.key]\r\n        }, // grouping value accessor,\r\n        label: \"\",\r\n        displayValue: undefined // optional function returning display value (series label) for given group value, or object/array mapping value to display value\r\n    };\r\n    series = false;\r\n    color = undefined;// string or function returning color's value for color scale\r\n    d3ColorCategory = 'category10';\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class ChartWithColorGroups extends Chart {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ChartWithColorGroupsConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new ChartWithColorGroupsConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.showLegend = conf.showLegend;\r\n        this.setupGroups();\r\n        this.plot.data = this.getDataToPlot();\r\n        this.groupData();\r\n\r\n        if (this.plot.showLegend) {\r\n            var scale = this.plot.colorCategory;\r\n            if (!scale.domain() || !this.config.forceLegend && scale.domain().length < 2) {\r\n                this.plot.showLegend = false;\r\n            } else {\r\n                this.plot.margin.right = conf.margin.right + conf.legend.width + conf.legend.margin * 2;\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    isGroupingEnabled() {\r\n        return this.config.series || !!(this.config.groups && this.config.groups.value);\r\n    }\r\n\r\n    computeGroupColorDomain() {\r\n        var map = new Set(this.data.map(d => this.plot.groupValue(d)));\r\n        return Object.getOwnPropertyNames(map).map(d => map[d]);\r\n    }\r\n\r\n    setupGroups() {\r\n        var self = this;\r\n        var conf = this.config;\r\n\r\n        this.plot.groupingEnabled = this.isGroupingEnabled();\r\n        var domain = [];\r\n        if (this.plot.groupingEnabled) {\r\n            self.plot.groupToLabel = {};\r\n            if (this.config.series) {\r\n                this.plot.groupValue = s => s.key;\r\n                domain = this.computeGroupColorDomain();\r\n\r\n                this.data.forEach(s => {\r\n                    self.plot.groupToLabel[s.key] = s.label || s.key;\r\n                })\r\n            } else {\r\n                this.plot.groupValue = d => conf.groups.value.call(conf, d);\r\n                domain = this.computeGroupColorDomain();\r\n                var getLabel = k => k;\r\n                if (self.config.groups.displayValue) {\r\n                    if (Utils.isFunction(self.config.groups.displayValue)) {\r\n                        getLabel = k => self.config.groups.displayValue(k) || k;\r\n                    } else if (Utils.isObject(self.config.groups.displayValue)) {\r\n                        getLabel = k => self.config.groups.displayValue[k] || k;\r\n                    }\r\n                }\r\n                domain.forEach(k => {\r\n                    self.plot.groupToLabel[k] = getLabel(k);\r\n                })\r\n            }\r\n\r\n        } else {\r\n            this.plot.groupValue = d => null;\r\n        }\r\n        this.plot.groupColorDomain = domain;\r\n        if (conf.d3ColorCategory) {\r\n            var colorSchemeCategory = 'scheme' + Utils.capitalizeFirstLetter(conf.d3ColorCategory);\r\n            this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\r\n        }\r\n        var colorValue = conf.color;\r\n\r\n        if (colorValue) {\r\n            if (typeof colorValue === 'string' || colorValue instanceof String) {\r\n                this.plot.color = colorValue;\r\n                this.plot.seriesColor = this.plot.color;\r\n            } else {\r\n                this.plot.color = colorValue;\r\n                this.plot.seriesColor = this.plot.color;\r\n                var range = domain.map(v => this.plot.seriesColor({key: v}));\r\n                this.plot.colorCategory = d3.scaleOrdinal(range);\r\n                this.plot.colorCategory.domain(domain);\r\n\r\n            }\r\n\r\n        } else if (this.plot.colorCategory) {\r\n            self.plot.colorValue = colorValue;\r\n            self.plot.colorCategory.domain(domain);\r\n\r\n            this.plot.seriesColor = s => self.plot.colorCategory(s.key);\r\n            this.plot.color = d => self.plot.colorCategory(this.plot.groupValue(d));\r\n\r\n        } else {\r\n            this.plot.color = this.plot.seriesColor = s => 'black'\r\n        }\r\n\r\n    }\r\n\r\n    groupData() {\r\n        var self = this;\r\n        var data = this.plot.data;\r\n        if (!self.plot.groupingEnabled) {\r\n            self.plot.groupedData = [{\r\n                key: null,\r\n                label: '',\r\n                values: data\r\n            }];\r\n            self.plot.dataLength = data.length;\r\n        } else {\r\n\r\n            if (self.config.series) {\r\n                self.plot.groupedData = data.map(s => {\r\n                    return {\r\n                        key: s.key,\r\n                        label: s.label,\r\n                        values: s.values\r\n                    }\r\n                });\r\n            } else {\r\n                self.plot.groupedData = Utils.nest(data, this.plot.groupValue)\r\n                self.plot.groupedData.forEach(g => {\r\n                    g.label = self.plot.groupToLabel[g.key];\r\n                });\r\n            }\r\n\r\n            self.plot.dataLength = d3.sum(this.plot.groupedData, s => s.values.length);\r\n        }\r\n\r\n        // this.plot.seriesColor\r\n\r\n    }\r\n\r\n    getDataToPlot() {\r\n        if (!this.plot.groupingEnabled || !this.enabledGroups) {\r\n            return this.data;\r\n        }\r\n        return this.data.filter(d => this.enabledGroups.indexOf(this.plot.groupValue(d)) > -1);\r\n    }\r\n\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.updateLegend();\r\n\r\n        return this;\r\n    };\r\n\r\n    updateLegend() {\r\n\r\n        var self = this;\r\n        var plot = this.plot;\r\n\r\n        var scale = plot.colorCategory;\r\n\r\n        if (!scale.domain() || !this.config.forceLegend && scale.domain().length < 2) {\r\n            plot.showLegend = false;\r\n        }\r\n\r\n        if (!plot.showLegend) {\r\n            if (plot.legend && plot.legend.container) {\r\n                plot.legend.container.remove();\r\n            }\r\n            return;\r\n        }\r\n\r\n\r\n        var legendX = this.plot.width + this.config.legend.margin;\r\n        var legendY = this.config.legend.margin;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY);\r\n\r\n        plot.legendColor = plot.legend.color()\r\n            .shapeWidth(this.config.legend.shapeWidth)\r\n            .orient('vertical')\r\n            .scale(scale)\r\n            .labelWrap(this.config.legend.width)\r\n            .labels(scale.domain().map(v => plot.groupToLabel[v]));\r\n\r\n\r\n        plot.legendColor.on('cellclick', (event, c) => self.onLegendCellClick(c));\r\n\r\n        plot.legend.container\r\n            .call(plot.legendColor);\r\n\r\n        this.updateLegendCellStatuses();\r\n    }\r\n\r\n    onLegendCellClick(cellValue) {\r\n        this.updateEnabledGroups(cellValue);\r\n        this.init();\r\n    }\r\n\r\n    updateLegendCellStatuses() {\r\n        var self = this;\r\n        this.plot.legend.container.selectAll(\"g.cell\").each(function (cell) {\r\n            var isDisabled = self.enabledGroups && self.enabledGroups.indexOf(cell) < 0;\r\n            d3.select(this).classed(\"odc-disabled\", isDisabled);\r\n        });\r\n    }\r\n\r\n    updateEnabledGroups(cellValue) {\r\n        if (!this.enabledGroups) {\r\n            this.enabledGroups = this.plot.colorCategory.domain().slice();\r\n        }\r\n        var index = this.enabledGroups.indexOf(cellValue);\r\n\r\n        if (index < 0) {\r\n            this.enabledGroups.push(cellValue);\r\n        } else {\r\n            this.enabledGroups.splice(index, 1);\r\n        }\r\n\r\n        if (!this.enabledGroups.length) {\r\n            this.enabledGroups = this.plot.colorCategory.domain().slice();\r\n        }\r\n\r\n    }\r\n\r\n    setData(data) {\r\n        super.setData(data);\r\n        this.enabledGroups = null;\r\n        return this;\r\n    }\r\n}\r\n","import {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class ChartConfig {\r\n    cssClassPrefix = \"odc-\";\r\n    svgClass = this.cssClassPrefix + 'mw-d3-chart';\r\n    width = undefined;\r\n    height = undefined;\r\n    margin = {\r\n        left: 50,\r\n        right: 30,\r\n        top: 30,\r\n        bottom: 50\r\n    };\r\n    showTooltip = false;\r\n    transition = true;\r\n\r\n    title = undefined;\r\n    titleSize = 20;\r\n    titleMargin = {\r\n        left: 0,\r\n        right: 0,\r\n        top: 15,\r\n        bottom: 20\r\n    };\r\n\r\n    subtitle = undefined;\r\n    subtitleSize = 14;\r\n    subtitleMargin = {\r\n        left: 0,\r\n        right: 0,\r\n        top: 10,\r\n        bottom: 20\r\n    };\r\n\r\n    constructor(custom) {\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class Chart {\r\n    utils = Utils;\r\n    baseContainer;\r\n    svg;\r\n    config;\r\n    plot = {\r\n        margin: {}\r\n    };\r\n    _attached = {};\r\n    _layers = {};\r\n    _events = {};\r\n    _isAttached;\r\n    _isInitialized = false;\r\n\r\n\r\n    constructor(base, data, config) {\r\n        this._id = Utils.guid();\r\n        this._isAttached = base instanceof Chart;\r\n\r\n        this.baseContainer = base;\r\n\r\n        this.setConfig(config);\r\n\r\n        if (data) {\r\n            this.setData(data);\r\n        }\r\n        this.init();\r\n        this.postInit();\r\n    }\r\n\r\n    setConfig(config) {\r\n        if (!config) {\r\n            this.config = new ChartConfig();\r\n        } else {\r\n            this.config = config;\r\n        }\r\n        this.initConfigAccessors();\r\n        return this;\r\n    }\r\n\r\n    setData(data) {\r\n        this.data = data;\r\n        return this;\r\n    }\r\n\r\n    init() {\r\n        var self = this;\r\n        self.initPlot();\r\n        self.initSvg();\r\n\r\n        if (!this._isInitialized) {\r\n            self.initTooltip();\r\n        }\r\n        self.draw();\r\n        this._isInitialized = true;\r\n        return this;\r\n    }\r\n\r\n    redraw() {\r\n        this.initConfigAccessors(true);\r\n        return this.init();\r\n    }\r\n\r\n    postInit() {\r\n\r\n    }\r\n\r\n    initSvg() {\r\n        var self = this;\r\n        var config = this.config;\r\n\r\n        var margin = self.plot.margin;\r\n        var width = self.svgWidth = self.plot.width + margin.left + margin.right;\r\n        var height = self.svgHeight = self.plot.height + margin.top + margin.bottom;\r\n        var aspect = width / height;\r\n        if (!self._isAttached) {\r\n            if (!this._isInitialized) {\r\n                d3.select(self.baseContainer).select(\"svg\").remove();\r\n            }\r\n            self.svg = d3.select(self.baseContainer).selectOrAppend(\"svg\").classed(config.svgClass, true);\r\n\r\n            self.svg\r\n                .attr(\"width\", width)\r\n                .attr(\"height\", height)\r\n                .attr(\"viewBox\", \"0 0 \" + \" \" + width + \" \" + height)\r\n                .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\r\n            self.svgG = self.svg.selectOrAppend(\"g.main-group\");\r\n        } else {\r\n            // console.log(self.baseContainer);\r\n            self.svg = self.baseContainer.svg;\r\n            self.svgG = self.svg.selectOrAppend(\"g.main-group.\" + config.svgClass)\r\n        }\r\n\r\n        self.svgG.attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n        if (!config.width || config.height) {\r\n            d3.select(window)\r\n                .on(\"resize.\" + self._id, function () {\r\n                    var transition = self.config.transition;\r\n                    self.config.transition = false;\r\n                    self.init();\r\n                    self.config.transition = transition;\r\n                });\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        d3.select(this.baseContainer).selectAll(\"*\").remove();\r\n        d3.select(window).on(\"resize.\" + this._id, null);\r\n    }\r\n\r\n    initTooltip() {\r\n        var self = this;\r\n        if (self.config.showTooltip) {\r\n            if (!self._isAttached) {\r\n                self.plot.tooltip = d3.select(\"body\").selectOrAppend('div.' + self.config.cssClassPrefix + 'tooltip')\r\n                    .style(\"opacity\", 0);\r\n            } else {\r\n                self.plot.tooltip = self.baseContainer.plot.tooltip;\r\n            }\r\n\r\n        } else {\r\n            self.plot.tooltip = null;\r\n        }\r\n    }\r\n\r\n    initPlot() {\r\n        var margin = this.config.margin;\r\n        this.plot = this.plot || {};\r\n        this.plot.margin = {\r\n            top: margin.top,\r\n            bottom: margin.bottom,\r\n            left: margin.left,\r\n            right: margin.right\r\n        };\r\n\r\n\r\n        var titleMarginSize = 0;\r\n        if (this.config.title) {\r\n            titleMarginSize = this.config.titleSize + this.config.titleMargin.top;\r\n            if (!this.config.subtitle) {\r\n                titleMarginSize += this.config.titleMargin.bottom;\r\n            }\r\n\r\n            this.plot.margin.top = Math.max(this.plot.margin.top, titleMarginSize);\r\n        }\r\n\r\n        if (this.config.subtitle) {\r\n\r\n            this.plot.margin.top = Math.max(this.plot.margin.top, titleMarginSize + this.config.subtitleMargin.top + this.config.subtitleSize + this.config.subtitleMargin.bottom);\r\n        }\r\n\r\n    }\r\n\r\n    update(data) {\r\n        if (data) {\r\n            this.setData(data);\r\n        }\r\n        this.updateTitle();\r\n        this.updateSubtitle();\r\n\r\n        var layerName, attachmentData;\r\n        for (var attachmentName in this._attached) {\r\n\r\n            attachmentData = data;\r\n\r\n            this._attached[attachmentName].update(attachmentData);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    updateTitle() {\r\n        var titleClass = this.prefixClass('plot-title');\r\n        if (!this.config.title) {\r\n            this.svg.select(\"text.\" + titleClass).remove();\r\n            return;\r\n        }\r\n\r\n        this.svg.selectOrAppend(\"text.\" + titleClass)\r\n            .attr(\"transform\", \"translate(\" + (this.svgWidth / 2) + \",\" + (this.config.titleMargin.top) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"dominant-baseline\", \"central\")\r\n            .style(\"font-size\", this.config.titleSize + \"px\")\r\n            .text(this.config.title);\r\n    }\r\n\r\n    updateSubtitle() {\r\n        var subtitleClass = this.prefixClass('plot-subtitle');\r\n        if (!this.config.subtitle) {\r\n            this.svg.select(\"text.\" + subtitleClass).remove();\r\n            return;\r\n        }\r\n\r\n        var y = this.config.subtitleMargin.top;\r\n        if (this.config.title) {\r\n            y += this.config.titleMargin.top + this.config.titleSize;\r\n        }\r\n\r\n        this.svg.selectOrAppend(\"text.\" + subtitleClass)\r\n            .attr(\"transform\", \"translate(\" + (this.svgWidth / 2) + \",\" + (y) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .style(\"dominant-baseline\", \"central\")\r\n            .style(\"font-size\", this.config.subtitleSize + \"px\")\r\n            .text(this.config.subtitle);\r\n    }\r\n\r\n    draw(data) {\r\n        this.update(data);\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Register or retrieve an \"attachment\" Chart. The \"attachment\" chart's `draw`\r\n     * method will be invoked whenever the containing chart's `draw` method is\r\n     * invoked.\r\n     *\r\n     * @externalExample chart-attach\r\n     *\r\n     * @param {String} attachmentName Name of the attachment\r\n     * @param {Chart} [chart] Chart to register as a mix in of this chart. When\r\n     *        unspecified, this method will return the attachment previously\r\n     *        registered with the specified `attachmentName` (if any).\r\n     *\r\n     * @returns {Chart} Reference to this chart (chainable).\r\n     */\r\n    attach(attachmentName, chart) {\r\n        if (arguments.length === 1) {\r\n            return this._attached[attachmentName];\r\n        }\r\n\r\n        this._attached[attachmentName] = chart;\r\n        return chart;\r\n    };\r\n\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Subscribe a callback function to an event triggered on the chart. See {@link\r\n        * Chart#once} to subscribe a callback function to an event for one occurence.\r\n     *\r\n     * @externalExample {runnable} chart-on\r\n     *\r\n     * @param {String} name Name of the event\r\n     * @param {ChartEventHandler} callback Function to be invoked when the event\r\n     *        occurs\r\n     * @param {Object} [context] Value to set as `this` when invoking the\r\n     *        `callback`. Defaults to the chart instance.\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n    on(name, callback, context) {\r\n        var events = this._events[name] || (this._events[name] = []);\r\n        events.push({\r\n            callback: callback,\r\n            context: context || this,\r\n            _chart: this\r\n        });\r\n        return this;\r\n    }\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     *\r\n     * Subscribe a callback function to an event triggered on the chart. This\r\n     * function will be invoked at the next occurance of the event and immediately\r\n     * unsubscribed. See {@link Chart#on} to subscribe a callback function to an\r\n     * event indefinitely.\r\n     *\r\n     * @externalExample {runnable} chart-once\r\n     *\r\n     * @param {String} name Name of the event\r\n     * @param {ChartEventHandler} callback Function to be invoked when the event\r\n     *        occurs\r\n     * @param {Object} [context] Value to set as `this` when invoking the\r\n     *        `callback`. Defaults to the chart instance\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable)\r\n     */\r\n    once(name, callback, context) {\r\n        var self = this;\r\n        var once = function () {\r\n            self.off(name, once);\r\n            callback.apply(this, arguments);\r\n        };\r\n        return this.on(name, once, context);\r\n    }\r\n\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Unsubscribe one or more callback functions from an event triggered on the\r\n     * chart. When no arguments are specified, *all* handlers will be unsubscribed.\r\n     * When only a `name` is specified, all handlers subscribed to that event will\r\n     * be unsubscribed. When a `name` and `callback` are specified, only that\r\n     * function will be unsubscribed from that event. When a `name` and `context`\r\n     * are specified (but `callback` is omitted), all events bound to the given\r\n     * event with the given context will be unsubscribed.\r\n     *\r\n     * @externalExample {runnable} chart-off\r\n     *\r\n     * @param {String} [name] Name of the event to be unsubscribed\r\n     * @param {ChartEventHandler} [callback] Function to be unsubscribed\r\n     * @param {Object} [context] Contexts to be unsubscribe\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n\r\n    off(name, callback, context) {\r\n        var names, n, events, event, i, j;\r\n\r\n        // remove all events\r\n        if (arguments.length === 0) {\r\n            for (name in this._events) {\r\n                this._events[name].length = 0;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // remove all events for a specific name\r\n        if (arguments.length === 1) {\r\n            events = this._events[name];\r\n            if (events) {\r\n                events.length = 0;\r\n            }\r\n            return this;\r\n        }\r\n\r\n        // remove all events that match whatever combination of name, context\r\n        // and callback.\r\n        names = name ? [name] : Object.keys(this._events);\r\n        for (i = 0; i < names.length; i++) {\r\n            n = names[i];\r\n            events = this._events[n];\r\n            j = events.length;\r\n            while (j--) {\r\n                event = events[j];\r\n                if ((callback && callback === event.callback) ||\r\n                    (context && context === event.context)) {\r\n                    events.splice(j, 1);\r\n                }\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    //Borrowed from d3.chart\r\n    /**\r\n     * Publish an event on this chart with the given `name`.\r\n     *\r\n     * @externalExample {runnable} chart-trigger\r\n     *\r\n     * @param {String} name Name of the event to publish\r\n     * @param {...*} arguments Values with which to invoke the registered\r\n     *        callbacks.\r\n     *\r\n     * @returns {Chart} A reference to this chart (chainable).\r\n     */\r\n    trigger(name) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n        var events = this._events[name];\r\n        var i, ev;\r\n\r\n        if (events !== undefined) {\r\n            for (i = 0; i < events.length; i++) {\r\n                ev = events[i];\r\n                ev.callback.apply(ev.context, args);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    getBaseContainer() {\r\n        if (this._isAttached) {\r\n            return this.baseContainer.svg;\r\n        }\r\n        return d3.select(this.baseContainer);\r\n    }\r\n\r\n    getBaseContainerNode() {\r\n\r\n        return this.getBaseContainer().node();\r\n    }\r\n\r\n    prefixClass(clazz, addDot) {\r\n        return addDot ? '.' : '' + this.config.cssClassPrefix + clazz;\r\n    }\r\n\r\n    computePlotSize() {\r\n        this.plot.width = Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\r\n        this.plot.height = Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\r\n    }\r\n\r\n    transitionEnabled() {\r\n        return this._isInitialized && this.config.transition;\r\n    }\r\n\r\n    showTooltip(event, html) {\r\n        if (!this.plot.tooltip) {\r\n            return;\r\n        }\r\n        this.plot.tooltip.transition()\r\n            .duration(200)\r\n            .style(\"opacity\", .9);\r\n        this.plot.tooltip.html(html)\r\n            .style(\"left\", (event.pageX + 5) + \"px\")\r\n            .style(\"top\", (event.pageY - 28) + \"px\");\r\n    }\r\n\r\n    hideTooltip() {\r\n        if (!this.plot.tooltip) {\r\n            return;\r\n        }\r\n        this.plot.tooltip.transition()\r\n            .duration(500)\r\n            .style(\"opacity\", 0);\r\n    }\r\n\r\n    initConfigAccessors(clean) {\r\n        if (clean) {\r\n            this.removePropertyAccessors(this, this, this.config, \"$\");\r\n        }\r\n        this.initPropertyAccessors(this, this, this.config, \"$\", true);\r\n    }\r\n\r\n    removePropertyAccessors(bindTo, returnObj, source, prefix) {\r\n        var self = this;\r\n        for (var i in source) {\r\n            if (!source.hasOwnProperty(i)) {\r\n                continue;\r\n            }\r\n\r\n            delete bindTo[prefix + i];\r\n        }\r\n    }\r\n\r\n    initPropertyAccessors(bindTo, returnObj, source, prefix, recursive) {\r\n        var self = this;\r\n        for (var i in source) {\r\n            if (!source.hasOwnProperty(i)) {\r\n                continue;\r\n            }\r\n\r\n            var accessor = self.initPropertyAccessor(bindTo, returnObj, source, i, prefix);\r\n\r\n            if (recursive && Utils.isObjectNotArray(source[i])) {\r\n                self.initPropertyAccessors(accessor, bindTo, source[i], prefix, recursive)\r\n            }\r\n        }\r\n    }\r\n\r\n    initPropertyAccessor(bindTo, returnObj, source, propertyKey, prefix) {\r\n        return bindTo[prefix + propertyKey] = function (_) {\r\n            if (!arguments.length) {\r\n                return source[propertyKey];\r\n            }\r\n            source[propertyKey] = _;\r\n            return returnObj;\r\n        };\r\n    }\r\n\r\n\r\n}\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\nimport {Legend} from './legend'\r\nimport {ScatterPlot} from './scatterplot'\r\nimport * as d3 from './d3'\r\n\r\nexport class CorrelationMatrixConfig extends ChartConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'correlation-matrix';\r\n    guides = false; //show axis guides\r\n    showTooltip = true; //show tooltip on dot hover\r\n    showLegend = true;\r\n    highlightLabels = true;\r\n    rotateLabelsX = true;\r\n    rotateLabelsY = true;\r\n    variables = {\r\n        labels: undefined,\r\n        keys: [], //optional array of variable keys\r\n        value: (d, variableKey) => parseFloat(d[variableKey]), // variable value accessor\r\n        scale: \"ordinal\"\r\n    };\r\n    correlation = {\r\n        scale: \"linear\",\r\n        domain: [-1, -0.75, -0.5, 0, 0.5, 0.75, 1],\r\n        range: [\"darkblue\", \"blue\", \"lightskyblue\", \"white\", \"orangered\", \"crimson\", \"darkred\"],\r\n        value: (xValues, yValues) => StatisticsUtils.sampleCorrelation(xValues, yValues)\r\n\r\n    };\r\n    cell = {\r\n        shape: \"ellipse\", //possible values: rect, circle, ellipse\r\n        size: undefined,\r\n        sizeMin: 15,\r\n        sizeMax: 250,\r\n        padding: 1\r\n    };\r\n    margin = {\r\n        left: 60,\r\n        right: 50,\r\n        top: 30,\r\n        bottom: 60\r\n    };\r\n    groups = {\r\n        key: null,\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class CorrelationMatrix extends Chart {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new CorrelationMatrixConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new CorrelationMatrixConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n        var margin = this.config.margin;\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.correlation = {\r\n            matrix: undefined,\r\n            cells: undefined,\r\n            color: {},\r\n            shape: {}\r\n        };\r\n\r\n\r\n        this.setupVariables();\r\n        var width = conf.width;\r\n        var placeholderNode = this.getBaseContainerNode();\r\n        this.plot.placeholderNode = placeholderNode;\r\n\r\n        var parentWidth = placeholderNode.getBoundingClientRect().width;\r\n        if (width) {\r\n\r\n            if (!this.plot.cellSize) {\r\n                this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (width - margin.left - margin.right) / this.plot.variables.length));\r\n            }\r\n\r\n        } else {\r\n            this.plot.cellSize = this.config.cell.size;\r\n\r\n            if (!this.plot.cellSize) {\r\n                this.plot.cellSize = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (parentWidth - margin.left - margin.right) / this.plot.variables.length));\r\n            }\r\n\r\n            width = this.plot.cellSize * this.plot.variables.length + margin.left + margin.right;\r\n\r\n        }\r\n\r\n        var height = width;\r\n        if (!height) {\r\n            height = placeholderNode.getBoundingClientRect().height;\r\n        }\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = this.plot.width;\r\n\r\n        this.setupVariablesScales();\r\n        this.setupCorrelationScales();\r\n        this.setupCorrelationMatrix();\r\n\r\n\r\n        return this;\r\n    }\r\n\r\n    setupVariablesScales() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.variables;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = conf.value;\r\n        x.scale = d3.scaleBand().range([plot.width, 0]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n    };\r\n\r\n    setupCorrelationScales() {\r\n        var plot = this.plot;\r\n        var corrConf = this.config.correlation;\r\n\r\n        plot.correlation.color.scale = Utils.createScale(corrConf.scale).domain(corrConf.domain).range(corrConf.range);\r\n        var shape = plot.correlation.shape = {};\r\n\r\n        var cellConf = this.config.cell;\r\n        shape.type = cellConf.shape;\r\n\r\n        var shapeSize = plot.cellSize - cellConf.padding * 2;\r\n        if (shape.type == 'circle') {\r\n            var radiusMax = shapeSize / 2;\r\n            shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([2, radiusMax]);\r\n            shape.radius = c => shape.radiusScale(Math.abs(c.value));\r\n        } else if (shape.type == 'ellipse') {\r\n            var radiusMax = shapeSize / 2;\r\n            shape.radiusScale = d3.scaleLinear().domain([0, 1]).range([radiusMax, 2]);\r\n            shape.radiusX = c => shape.radiusScale(Math.abs(c.value));\r\n            shape.radiusY = radiusMax;\r\n\r\n            shape.rotateVal = v => {\r\n                if (v == 0) return \"0\";\r\n                if (v < 0) return \"-45\";\r\n                return \"45\"\r\n            }\r\n        } else if (shape.type == 'rect') {\r\n            shape.size = shapeSize;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    setupVariables() {\r\n\r\n        var variablesConf = this.config.variables;\r\n\r\n        var data = this.data;\r\n        var plot = this.plot;\r\n        plot.domainByVariable = {};\r\n        plot.variables = variablesConf.keys;\r\n        if (!plot.variables || !plot.variables.length) {\r\n            plot.variables = Utils.inferVariables(data, this.config.groups.key, this.config.includeInPlot);\r\n        }\r\n\r\n        plot.labels = [];\r\n        plot.labelByVariable = {};\r\n        plot.variables.forEach((variableKey, index) => {\r\n            plot.domainByVariable[variableKey] = d3.extent(data, (d) => variablesConf.value(d, variableKey));\r\n            var label = variableKey;\r\n            if (variablesConf.labels && variablesConf.labels.length > index) {\r\n\r\n                label = variablesConf.labels[index];\r\n            }\r\n            plot.labels.push(label);\r\n            plot.labelByVariable[variableKey] = label;\r\n        });\r\n\r\n        // console.log(plot.labelByVariable);\r\n\r\n    };\r\n\r\n\r\n    setupCorrelationMatrix() {\r\n        var self = this;\r\n        var data = this.data;\r\n        var matrix = this.plot.correlation.matrix = [];\r\n        var matrixCells = this.plot.correlation.matrix.cells = [];\r\n        var plot = this.plot;\r\n\r\n        var variableToValues = {};\r\n        plot.variables.forEach((v, i) => {\r\n\r\n            variableToValues[v] = data.map(d => plot.x.value(d, v));\r\n        });\r\n\r\n        plot.variables.forEach((v1, i) => {\r\n            var row = [];\r\n            matrix.push(row);\r\n\r\n            plot.variables.forEach((v2, j) => {\r\n                var corr = 1;\r\n                if (v1 != v2) {\r\n                    corr = self.config.correlation.value(variableToValues[v1], variableToValues[v2]);\r\n                }\r\n                var cell = {\r\n                    rowVar: v1,\r\n                    colVar: v2,\r\n                    row: i,\r\n                    col: j,\r\n                    value: corr\r\n                };\r\n                row.push(cell);\r\n\r\n                matrixCells.push(cell);\r\n            });\r\n\r\n        });\r\n    }\r\n\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        // this.update\r\n        this.updateCells();\r\n        this.updateVariableLabels();\r\n\r\n\r\n        if (this.config.showLegend) {\r\n            this.updateLegend();\r\n        }\r\n    };\r\n\r\n    updateVariableLabels() {\r\n        this.plot.labelClass = this.prefixClass(\"label\");\r\n        this.updateAxisX();\r\n        this.updateAxisY();\r\n    }\r\n\r\n    updateAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = plot.labelClass;\r\n        var labelXClass = labelClass + \"-x\";\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelXClass)\r\n            .data(plot.variables, (d, i) => i);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").attr(\"class\", (d, i) => labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i).merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", (d, i) => i * plot.cellSize + plot.cellSize / 2)\r\n            .attr(\"y\", plot.height)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"dy\", 5)\r\n            .attr(\"text-anchor\", \"end\")\r\n\r\n            // .attr(\"dominant-baseline\", \"hanging\")\r\n            .text(v => plot.labelByVariable[v]);\r\n\r\n        if (this.config.rotateLabelsX) {\r\n            labelsMerge.attr(\"transform\", (d, i) => \"rotate(-45, \" + (i * plot.cellSize + plot.cellSize / 2) + \", \" + plot.height + \")\")\r\n        }\r\n\r\n        var maxWidth = self.computeXAxisLabelsWidth();\r\n        labelsMerge.each(function (label) {\r\n            Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        labels.exit().remove();\r\n    }\r\n\r\n    updateAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = plot.labelClass;\r\n        var labelYClass = plot.labelClass + \"-y\";\r\n        var labels = self.svgG.selectAll(\"text.\" + labelYClass)\r\n            .data(plot.variables);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", (d, i) => i * plot.cellSize + plot.cellSize / 2)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"class\", (d, i) => labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i)\r\n            // .attr(\"dominant-baseline\", \"hanging\")\r\n            .text(v => plot.labelByVariable[v]);\r\n\r\n        if (this.config.rotateLabelsY) {\r\n            labelsMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + 0 + \", \" + (i * plot.cellSize + plot.cellSize / 2) + \")\")\r\n                .attr(\"text-anchor\", \"end\");\r\n        }\r\n\r\n        var maxWidth = self.computeYAxisLabelsWidth();\r\n        labelsMerge.each(function (label) {\r\n            Utils.placeTextWithEllipsisAndTooltip(d3.select(this), label, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        labels.exit().remove();\r\n    }\r\n\r\n    computeYAxisLabelsWidth() {\r\n        var maxWidth = this.plot.margin.left;\r\n        if (!this.config.rotateLabelsY) {\r\n            return maxWidth;\r\n        }\r\n\r\n        maxWidth *= Utils.SQRT_2;\r\n        var fontSize = 11; //todo check actual font size\r\n        maxWidth -= fontSize / 2;\r\n\r\n        return maxWidth;\r\n    }\r\n\r\n    computeXAxisLabelsWidth(offset) {\r\n        if (!this.config.rotateLabelsX) {\r\n            return this.plot.cellSize - 2;\r\n        }\r\n        var size = this.plot.margin.bottom;\r\n        size *= Utils.SQRT_2;\r\n        var fontSize = 11; //todo check actual font size\r\n        size -= fontSize / 2;\r\n        return size;\r\n    }\r\n\r\n    updateCells() {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var cellClass = self.prefixClass(\"cell\");\r\n        var cellShape = plot.correlation.shape.type;\r\n\r\n        var cells = self.svgG.selectAll(\"g.\" + cellClass)\r\n            .data(plot.correlation.matrix.cells);\r\n\r\n        var cellsEnter = cells.enter().append(\"g\")\r\n            .classed(cellClass, true);\r\n        var cellsMerge = cellsEnter.merge(cells);\r\n        cellsMerge.attr(\"transform\", c => \"translate(\" + (plot.cellSize * c.col + plot.cellSize / 2) + \",\" + (plot.cellSize * c.row + plot.cellSize / 2) + \")\");\r\n\r\n        cellsMerge.classed(self.config.cssClassPrefix + \"selectable\", !!self.scatterPlot);\r\n\r\n        var selector = \"*:not(.cell-shape-\" + cellShape + \")\";\r\n\r\n        var wrongShapes = cells.selectAll(selector);\r\n        wrongShapes.remove();\r\n\r\n        var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\r\n\r\n        if (plot.correlation.shape.type == 'circle') {\r\n\r\n            shapes\r\n                .attr(\"r\", plot.correlation.shape.radius)\r\n                .attr(\"cx\", 0)\r\n                .attr(\"cy\", 0);\r\n        }\r\n\r\n        if (plot.correlation.shape.type == 'ellipse') {\r\n            // cells.attr(\"transform\", c=> \"translate(300,150) rotate(\"+plot.correlation.shape.rotateVal(c.value)+\")\");\r\n            shapes\r\n                .attr(\"rx\", plot.correlation.shape.radiusX)\r\n                .attr(\"ry\", plot.correlation.shape.radiusY)\r\n                .attr(\"cx\", 0)\r\n                .attr(\"cy\", 0)\r\n\r\n                .attr(\"transform\", c => \"rotate(\" + plot.correlation.shape.rotateVal(c.value) + \")\");\r\n        }\r\n\r\n\r\n        if (plot.correlation.shape.type == 'rect') {\r\n            shapes\r\n                .attr(\"width\", plot.correlation.shape.size)\r\n                .attr(\"height\", plot.correlation.shape.size)\r\n                .attr(\"x\", -plot.cellSize / 2)\r\n                .attr(\"y\", -plot.cellSize / 2);\r\n        }\r\n        shapes.style(\"fill\", c => plot.correlation.color.scale(c.value));\r\n\r\n        var mouseoverCallbacks = [];\r\n        var mouseoutCallbacks = [];\r\n\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(c => {\r\n                var html = c.value;\r\n                self.showTooltip(html);\r\n            });\r\n\r\n            mouseoutCallbacks.push(c => {\r\n                self.hideTooltip();\r\n            });\r\n\r\n\r\n        }\r\n\r\n        if (self.config.highlightLabels) {\r\n            var highlightClass = self.config.cssClassPrefix + \"highlight\";\r\n            var xLabelClass = c => plot.labelClass + \"-x-\" + c.col;\r\n            var yLabelClass = c => plot.labelClass + \"-y-\" + c.row;\r\n\r\n\r\n            mouseoverCallbacks.push(c => {\r\n\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\r\n            });\r\n            mouseoutCallbacks.push(c => {\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\r\n            });\r\n        }\r\n\r\n\r\n        cellsMerge.on(\"mouseover\", (e, c) => {\r\n            mouseoverCallbacks.forEach(callback => callback(c));\r\n        })\r\n            .on(\"mouseout\", (e, c) => {\r\n                mouseoutCallbacks.forEach(callback => callback(c));\r\n            });\r\n\r\n        cellsMerge.on(\"click\", (e, c) => {\r\n            self.trigger(\"cell-selected\", c);\r\n        });\r\n\r\n\r\n        cells.exit().remove();\r\n    }\r\n\r\n\r\n    updateLegend() {\r\n\r\n        var plot = this.plot;\r\n        var legendX = this.plot.width + 10;\r\n        var legendY = 0;\r\n        var barWidth = 10;\r\n        var barHeight = this.plot.height - 2;\r\n        var scale = plot.correlation.color.scale;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY).linearGradientBar(barWidth, barHeight);\r\n\r\n    }\r\n\r\n    attachScatterPlot(containerSelector, config) {\r\n        var self = this;\r\n\r\n        config = config || {};\r\n\r\n\r\n        var scatterPlotConfig = {\r\n            height: self.plot.height + self.config.margin.top + self.config.margin.bottom,\r\n            width: self.plot.height + self.config.margin.top + self.config.margin.bottom,\r\n            groups: {\r\n                key: self.config.groups.key,\r\n                label: self.config.groups.label\r\n            },\r\n            guides: true,\r\n            showLegend: false\r\n        };\r\n\r\n        self.scatterPlot = true;\r\n\r\n        scatterPlotConfig = Utils.deepExtend(scatterPlotConfig, config);\r\n        this.update();\r\n\r\n        this.on(\"cell-selected\", (c) => {\r\n\r\n\r\n            scatterPlotConfig.x = {\r\n                key: c.rowVar,\r\n                label: self.plot.labelByVariable[c.rowVar]\r\n            };\r\n            scatterPlotConfig.y = {\r\n                key: c.colVar,\r\n                label: self.plot.labelByVariable[c.colVar]\r\n            };\r\n            if (self.scatterPlot && self.scatterPlot !== true) {\r\n                self.scatterPlot.setConfig(scatterPlotConfig).init();\r\n            } else {\r\n                self.scatterPlot = new ScatterPlot(containerSelector, self.data, scatterPlotConfig);\r\n                this.attach(\"ScatterPlot\", self.scatterPlot);\r\n            }\r\n\r\n\r\n        });\r\n\r\n\r\n    }\r\n}\r\n","import * as d3 from './d3'\r\n\r\nexport class D3Extensions {\r\n\r\n    static extend() {\r\n\r\n        d3.selection.prototype.enter.prototype.insertSelector =\r\n            d3.selection.prototype.insertSelector = function (selector, before) {\r\n                return D3Extensions.insertSelector(this, selector, before);\r\n            };\r\n\r\n        d3.selection.prototype.enter.prototype.appendSelector =\r\n            d3.selection.prototype.appendSelector = function (selector) {\r\n                return D3Extensions.appendSelector(this, selector);\r\n            };\r\n\r\n        d3.selection.prototype.enter.prototype.selectOrAppend =\r\n            d3.selection.prototype.selectOrAppend = function (selector) {\r\n                return D3Extensions.selectOrAppend(this, selector);\r\n            };\r\n\r\n        d3.selection.prototype.enter.prototype.selectOrInsert =\r\n            d3.selection.prototype.selectOrInsert = function (selector, before) {\r\n                return D3Extensions.selectOrInsert(this, selector, before);\r\n            };\r\n\r\n\r\n    }\r\n\r\n    static insertOrAppendSelector(parent, selector, operation, before) {\r\n\r\n        var selectorParts = selector.split(/([\\.\\#])/);\r\n        var element = parent[operation](selectorParts.shift(), before);//\":first-child\"\r\n\r\n        while (selectorParts.length > 1) {\r\n            var selectorModifier = selectorParts.shift();\r\n            var selectorItem = selectorParts.shift();\r\n            if (selectorModifier === \".\") {\r\n                element = element.classed(selectorItem, true);\r\n            } else if (selectorModifier === \"#\") {\r\n                element = element.attr('id', selectorItem);\r\n            }\r\n        }\r\n        return element;\r\n    }\r\n\r\n    static insertSelector(parent, selector, before) {\r\n        return D3Extensions.insertOrAppendSelector(parent, selector, \"insert\", before);\r\n    }\r\n\r\n    static appendSelector(parent, selector) {\r\n        return D3Extensions.insertOrAppendSelector(parent, selector, \"append\");\r\n    }\r\n\r\n    static selectOrAppend(parent, selector, element) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            if (element) {\r\n                return parent.append(element);\r\n            }\r\n            return D3Extensions.appendSelector(parent, selector);\r\n\r\n        }\r\n        return selection;\r\n    };\r\n\r\n    static selectOrInsert(parent, selector, before) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            return D3Extensions.insertSelector(parent, selector, before);\r\n        }\r\n        return selection;\r\n    };\r\n}\r\n","module.exports = d3","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from \"./legend\";\r\nimport * as d3 from './d3'\r\n\r\nexport class DivergingStackedBarChartConfig extends ChartConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'diverging-stacked-bar-chart';\r\n    showTooltip = true;\r\n    showLegend = true;\r\n    forceLegend = false;\r\n    legend = {\r\n        width: 80,\r\n        margin: 10,\r\n        shapeWidth: 20\r\n    };\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        value: d => d.values, // x value accessor\r\n        guides: true, //show axis guides\r\n        orient: 'top',\r\n        scale: \"linear\",\r\n        domainMargin: 0.02,\r\n    };\r\n    y = {// Y axis config\r\n        title: '',\r\n        value: d => d.key, // y value accessor\r\n        scale: \"ordinal\",\r\n        orient: 'left',\r\n        guides: true //show axis guides\r\n    };\r\n\r\n    transition = true;\r\n    color = undefined;// string or function returning color's value for color scale\r\n    d3ColorCategory = 'category10';\r\n    showBarValues = true;\r\n\r\n\r\n    colorRange = undefined;\r\n\r\n    categoryNames = undefined;\r\n    middleValue = 0;\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class DivergingStackedBarChart extends Chart {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new DivergingStackedBarChartConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new DivergingStackedBarChartConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        this.plot.showLegend = this.config.showLegend;\r\n        if (this.plot.showLegend) {\r\n            this.plot.margin.right = this.config.margin.right + this.config.legend.width + this.config.legend.margin * 2;\r\n\r\n        }\r\n        super.computePlotSize();\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.plot.data = this.getDataToPlot();\r\n\r\n        this.setupY();\r\n        this.setupX();\r\n\r\n        this.setupColor();\r\n\r\n    }\r\n\r\n    getDataToPlot() {\r\n        return this.data;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        x.value = d => conf.value.call(this.config, d);\r\n        x.scale = Utils.createScale(conf.scale).rangeRound([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n        if (conf.guides) {\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n        var data = this.plot.data;\r\n\r\n\r\n        plot.categoryNames = this.config.categoryNames;\r\n\r\n        plot.neutralIndex = Math.floor(plot.categoryNames.length / 2);\r\n\r\n        plot.rows = data.map(d => {\r\n            let originalValues = x.value(d);\r\n            let x0 = this.config.middleValue - d3.sum(originalValues.map((v, i) => i < plot.neutralIndex ? v : 0));\r\n            if (plot.categoryNames.length & 1)\r\n                x0 += -1 * originalValues[plot.neutralIndex] / 2;\r\n\r\n            let values = originalValues.map((v, i) => i < plot.neutralIndex ? this.config.middleValue - v : this.config.middleValue + v);\r\n            let total = d3.sum(originalValues);\r\n            let categories = plot.categoryNames;\r\n            if (d.categories) {\r\n                categories = d.categories.map((catIndex, i) => plot.categoryNames[catIndex])\r\n            }\r\n\r\n            return {\r\n                datum: d,\r\n                originalValues: originalValues,\r\n                values: values,\r\n                categories: [],\r\n                min: x0,\r\n                max: x0 + total,\r\n                total: total,\r\n                boxes: values.map((v, i) => {\r\n                    return {\r\n                        name: categories[i],\r\n                        x0: x0,\r\n                        x1: x0 += originalValues[i],\r\n                        originalValue: originalValues[i]\r\n                    }\r\n                })\r\n            }\r\n        });\r\n\r\n        var domain;\r\n        if (!data || !data.length) {\r\n            domain = [];\r\n        } else {\r\n            domain = d3.extent([].concat(...plot.rows.map(b => [b.min, b.max])));\r\n            let margin = ((domain[1] - domain[0]) * conf.domainMargin) || conf.domainMargin * domain[0];\r\n\r\n            domain[0] -= margin;\r\n            domain[1] += margin;\r\n        }\r\n\r\n        plot.x.scale.domain(domain);\r\n\r\n    };\r\n\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.value = d => conf.value.call(this.config, d);\r\n        y.scale = d3.scaleBand().range([0, plot.height]).padding(.3);\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n        if (conf.ticks) {\r\n            y.axis.ticks(conf.ticks);\r\n        }\r\n        if (conf.guides) {\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n        this.setupYDomain();\r\n    };\r\n\r\n    setupYDomain() {\r\n        var plot = this.plot;\r\n        var data = this.plot.data;\r\n        var c = this.config;\r\n\r\n        var domain = data.map(plot.y.value);\r\n\r\n        plot.y.scale.domain(domain);\r\n    }\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n\r\n        if (axisConf.orient === 'bottom') {\r\n            axis.attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n        }\r\n\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        var titleY = axisConf.orient === 'bottom' ? plot.margin.bottom : 0;\r\n        var titleDY = axisConf.orient === 'bottom' ? \"-1em\" : \"-1.5em\";\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (titleY) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", titleDY)\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (axisConf.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawBars() {\r\n        let self = this,\r\n            plot = self.plot,\r\n            config = self.config;\r\n\r\n        let rowClass = self.prefixClass(\"row\");\r\n        let rows = self.svgG.selectAll(\".\" + rowClass)\r\n            .data(plot.rows);\r\n\r\n        let rowEnter = rows.enter().appendSelector(\"g.\" + rowClass);\r\n\r\n        let rowMerge = rowEnter.merge(rows)\r\n            .attr(\"transform\", d => \"translate(0,\" + plot.y.map(d.datum) + \")\");\r\n\r\n        rows.exit().remove();\r\n\r\n\r\n        let barClass = self.prefixClass(\"bar\");\r\n\r\n        let bars = rowMerge.selectAll(\"g.\" + barClass)\r\n            .data(function (d) {\r\n                return d.boxes;\r\n            });\r\n        bars.exit().remove();\r\n\r\n        let barsEnter = bars.enter()\r\n            .append(\"g\")\r\n            .attr(\"class\", barClass);\r\n\r\n        barsEnter.append(\"rect\");\r\n        if (config.showBarValues) {\r\n            barsEnter.append(\"text\");\r\n        }\r\n\r\n\r\n        let barsM = barsEnter.merge(bars);\r\n\r\n        barsM.select(\"rect\").attr(\"height\", plot.y.scale.bandwidth())\r\n            .attr(\"x\", d => plot.x.scale(d.x0))\r\n            .attr(\"width\", d => plot.x.scale(d.x1) - plot.x.scale(d.x0))\r\n            .style(\"fill\", (d, i) => plot.color(d.name, i));\r\n\r\n\r\n        let textM = barsM.select(\"text\");\r\n        if (config.showBarValues) {\r\n            textM.attr(\"x\", d => plot.x.scale(d.x0))\r\n                .attr(\"y\", plot.y.scale.bandwidth() / 2)\r\n                .attr(\"dy\", \"0.5em\")\r\n                .attr(\"dx\", d => (plot.x.scale(d.x1) - plot.x.scale(d.x0)) / 2)\r\n                .style(\"text-anchor\", \"middle\")\r\n                .text(d => d.originalValue !== 0 && (d.x1 - d.x0) > 0.04 ? d.originalValue : \"\");\r\n        } else {\r\n            textM.remove();\r\n        }\r\n\r\n\r\n        self.svgG.selectOrAppend(\"line.\" + self.prefixClass(\"middle-line\"))\r\n            .attr(\"x1\", plot.x.scale(self.config.middleValue))\r\n            .attr(\"y1\", 0)\r\n            .attr(\"x2\", plot.x.scale(self.config.middleValue))\r\n            .attr(\"y2\", plot.height);\r\n\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.drawBars();\r\n        this.updateLegend();\r\n        return this;\r\n    };\r\n\r\n\r\n    setupColor() {\r\n        var self = this;\r\n        var conf = this.config;\r\n\r\n        if (conf.d3ColorCategory) {\r\n            var colorSchemeCategory = 'scheme' + Utils.capitalizeFirstLetter(conf.d3ColorCategory);\r\n            this.plot.colorCategory = d3.scaleOrdinal(d3[colorSchemeCategory]);\r\n        }\r\n\r\n        var colorValue = conf.color;\r\n        if (colorValue && typeof colorValue === 'string' || colorValue instanceof String) {\r\n            this.plot.color = colorValue;\r\n        } else if (conf.colorRange) {\r\n            this.plot.color = Utils.createScale(\"ordinal\").domain(this.plot.categoryNames).range(conf.colorRange);\r\n        } else if (this.plot.colorCategory) {\r\n            self.plot.colorValue = colorValue;\r\n            this.plot.color = this.plot.colorCategory\r\n        }\r\n    }\r\n\r\n    updateLegend() {\r\n\r\n        var self = this;\r\n        var plot = this.plot;\r\n\r\n        var scale = plot.color;\r\n\r\n        if (!scale.domain() || !this.config.forceLegend && scale.domain().length < 2) {\r\n            plot.showLegend = false;\r\n        }\r\n\r\n        if (!plot.showLegend) {\r\n            if (plot.legend && plot.legend.container) {\r\n                plot.legend.container.remove();\r\n            }\r\n            return;\r\n        }\r\n\r\n\r\n        var legendX = this.plot.width + this.config.legend.margin;\r\n        var legendY = this.config.legend.margin;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY);\r\n\r\n        plot.legendColor = plot.legend.color()\r\n            .shapeWidth(this.config.legend.shapeWidth)\r\n            .orient('vertical')\r\n            .scale(scale)\r\n            .labelWrap(this.config.legend.width)\r\n        // .labels(scale.domain().map(v=>plot.groupToLabel[v]));\r\n\r\n        plot.legend.container\r\n            .call(plot.legendColor);\r\n    }\r\n}\r\n","import {Heatmap, HeatmapConfig} from \"./heatmap\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class HeatmapTimeSeriesConfig extends HeatmapConfig {\r\n    x = {\r\n        fillMissing: false, // fill missing values using interval and intervalStep\r\n        interval: undefined, //used in filling missing ticks\r\n        intervalStep: 1,\r\n        format: undefined, //input data d3 time format\r\n        displayFormat: undefined,//d3 time format for display\r\n        intervalToFormats: [ //used to guess interval and format\r\n            {\r\n                name: 'year',\r\n                formats: [\"%Y\"]\r\n            },\r\n            {\r\n                name: 'month',\r\n                formats: [\"%Y-%m\"]\r\n            },\r\n            {\r\n                name: 'day',\r\n                formats: [\"%Y-%m-%d\"]\r\n            },\r\n            {\r\n                name: 'hour',\r\n                formats: ['%H', '%Y-%m-%d %H']\r\n            },\r\n            {\r\n                name: 'minute',\r\n                formats: ['%H:%M', '%Y-%m-%d %H:%M']\r\n            },\r\n            {\r\n                name: 'second',\r\n                formats: ['%H:%M:%S', '%Y-%m-%d %H:%M:%S']\r\n            }\r\n        ],\r\n\r\n        sortComparator: function sortComparator(a, b) {\r\n            return Utils.isString(a) ? a.localeCompare(b) : a - b;\r\n        },\r\n        formatter: undefined\r\n    };\r\n    z = {\r\n        fillMissing: true // fiill missing values with nearest previous value\r\n    };\r\n\r\n    legend = {\r\n        formatter: function (v) {\r\n            var suffix = \"\";\r\n            if (v / 1000000 >= 1) {\r\n                suffix = \" M\";\r\n                v = Number(v / 1000000).toFixed(3);\r\n            }\r\n            var nf = Intl.NumberFormat();\r\n            return nf.format(v) + suffix;\r\n        }\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\nexport class HeatmapTimeSeries extends Heatmap {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HeatmapTimeSeriesConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new HeatmapTimeSeriesConfig(config));\r\n    }\r\n\r\n\r\n    setupValuesBeforeGroupsSort() {\r\n\r\n        this.plot.x.timeFormat = this.config.x.format;\r\n        if (this.config.x.displayFormat && !this.plot.x.timeFormat) {\r\n            this.guessTimeFormat();\r\n        }\r\n\r\n\r\n        super.setupValuesBeforeGroupsSort();\r\n        if (!this.config.x.fillMissing) {\r\n            return;\r\n        }\r\n\r\n        var self = this;\r\n\r\n        this.initTimeFormatAndInterval();\r\n\r\n        this.plot.x.intervalStep = this.config.x.intervalStep || 1;\r\n\r\n        this.plot.x.timeParser = this.getTimeParser();\r\n\r\n\r\n        this.plot.x.uniqueValues.sort(this.config.x.sortComparator);\r\n\r\n        var prev = null;\r\n\r\n        this.plot.x.uniqueValues.forEach((x, i) => {\r\n            var current = this.parseTime(x);\r\n            if (prev === null) {\r\n                prev = current;\r\n                return;\r\n            }\r\n\r\n            var next = self.nextTimeTickValue(prev);\r\n            var missing = [];\r\n            var iteration = 0;\r\n            while (self.compareTimeValues(next, current) <= 0) {\r\n                iteration++;\r\n                if (iteration > 100) {\r\n                    break;\r\n                }\r\n                var d = {};\r\n                var timeString = self.formatTime(next);\r\n                d[this.config.x.key] = timeString;\r\n\r\n                self.updateGroups(d, timeString, self.plot.x.groups, self.config.x.groups);\r\n                missing.push(next);\r\n                next = self.nextTimeTickValue(next);\r\n            }\r\n            prev = current;\r\n        });\r\n\r\n    }\r\n\r\n    parseTime(x) {\r\n        var parser = this.getTimeParser();\r\n        return parser(x);\r\n    }\r\n\r\n    formatTime(date) {\r\n        var formatter = this.getTimeFormatter();\r\n        return formatter(date);\r\n    }\r\n\r\n    formatValueX(value) { //used only for display\r\n        if (this.config.x.formatter) return this.config.x.formatter.call(this.config, value);\r\n\r\n        if (this.config.x.displayFormat) {\r\n            var date = this.parseTime(value);\r\n            return d3.timeFormat(this.config.x.displayFormat)(date);\r\n        }\r\n\r\n        if (!this.plot.x.timeFormat) return value;\r\n\r\n        if (Utils.isDate(value)) {\r\n            return this.formatTime(value);\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    compareTimeValues(a, b) {\r\n        return a - b;\r\n    }\r\n\r\n    timeValuesEqual(a, b) {\r\n        var parser = this.plot.x.timeParser;\r\n        return parser(a) === parser(b);\r\n    }\r\n\r\n    nextTimeTickValue(t) {\r\n        var interval = 'time' + Utils.capitalizeFirstLetter(this.plot.x.interval);\r\n\r\n        return d3[interval].offset(t, this.plot.x.intervalStep);\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n\r\n        if (this.config.z.fillMissing) {\r\n            this.plot.matrix.forEach((row, rowIndex) => {\r\n                var prevRowValue = undefined;\r\n                row.forEach((cell, colIndex) => {\r\n                    if (cell.value === undefined && prevRowValue !== undefined) {\r\n                        cell.value = prevRowValue;\r\n                        cell.missing = true;\r\n                    }\r\n                    prevRowValue = cell.value;\r\n                });\r\n            });\r\n        }\r\n\r\n\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n\r\n    };\r\n\r\n\r\n    initTimeFormatAndInterval() {\r\n\r\n        this.plot.x.interval = this.config.x.interval;\r\n\r\n        if (!this.plot.x.timeFormat) {\r\n            this.guessTimeFormat();\r\n        }\r\n\r\n        if (!this.plot.x.interval && this.plot.x.timeFormat) {\r\n            this.guessInterval();\r\n        }\r\n    }\r\n\r\n    guessTimeFormat() {\r\n        var self = this;\r\n        for (let i = 0; i < self.config.x.intervalToFormats.length; i++) {\r\n            let intervalFormat = self.config.x.intervalToFormats[i];\r\n            var format = null;\r\n            var formatMatch = intervalFormat.formats.some(f => {\r\n                format = f;\r\n                var parser = d3.timeParse(f);\r\n                return self.plot.x.uniqueValues.every(x => {\r\n                    return parser(x) !== null\r\n                });\r\n            });\r\n            if (formatMatch) {\r\n                self.plot.x.timeFormat = format;\r\n                // console.log('Guessed timeFormat', format);\r\n                if (!self.plot.x.interval) {\r\n                    self.plot.x.interval = intervalFormat.name;\r\n                    // console.log('Guessed interval', self.plot.x.interval);\r\n                }\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    guessInterval() {\r\n        var self = this;\r\n        for (let i = 0; i < self.config.x.intervalToFormats.length; i++) {\r\n            let intervalFormat = self.config.x.intervalToFormats[i];\r\n\r\n            if (intervalFormat.formats.indexOf(self.plot.x.timeFormat) >= 0) {\r\n                self.plot.x.interval = intervalFormat.name;\r\n                // console.log('Guessed interval', self.plot.x.interval);\r\n                return;\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    getTimeFormatter() {\r\n        if (!this.plot.x.timeFormatter) {\r\n            this.plot.x.timeFormatter = d3.timeFormat(this.plot.x.timeFormat);\r\n        }\r\n        return this.plot.x.timeFormatter;\r\n    }\r\n\r\n    getTimeParser() {\r\n        if (!this.plot.x.timeParser) {\r\n            this.plot.x.timeParser = d3.timeParse(this.plot.x.timeFormat);\r\n        }\r\n        return this.plot.x.timeParser;\r\n    }\r\n}\r\n\r\n","import {Chart, ChartConfig} from \"./chart\";\r\nimport {Utils} from './utils'\r\nimport {Legend} from './legend'\r\nimport * as d3 from './d3'\r\n\r\nexport class HeatmapConfig extends ChartConfig {\r\n\r\n    svgClass = 'odc-heatmap';\r\n    showTooltip = true; //show tooltip on dot hover\r\n    tooltip = {\r\n        noDataText: \"N/A\"\r\n    };\r\n    showLegend = true;\r\n    legend = {\r\n        width: 30,\r\n        rotateLabels: false,\r\n        decimalPlaces: undefined,\r\n        formatter: v => this.legend.decimalPlaces === undefined ? v : Number(v).toFixed(this.legend.decimalPlaces)\r\n    }\r\n    highlightLabels = true;\r\n    x = {// X axis config\r\n        title: '', // axis title\r\n        key: 0,\r\n        value: (d) => d[this.x.key], // x value accessor\r\n        rotateLabels: true,\r\n        sortLabels: false,\r\n        sortComparator: (a, b) => Utils.isNumber(a) ? a - b : a.localeCompare(b),\r\n        groups: {\r\n            keys: [],\r\n            labels: [],\r\n            value: (d, key) => d[key],\r\n            overlap: {\r\n                top: 20,\r\n                bottom: 20\r\n            }\r\n        },\r\n        formatter: undefined // value formatter function\r\n\r\n    };\r\n    y = {// Y axis config\r\n        title: '', // axis title,\r\n        rotateLabels: true,\r\n        key: 1,\r\n        value: (d) => d[this.y.key], // y value accessor\r\n        sortLabels: false,\r\n        sortComparator: (a, b) => Utils.isNumber(b) ? b - a : b.localeCompare(a),\r\n        groups: {\r\n            keys: [],\r\n            labels: [],\r\n            value: (d, key) => d[key],\r\n            overlap: {\r\n                left: 20,\r\n                right: 20\r\n            }\r\n        },\r\n        formatter: undefined// value formatter function\r\n    };\r\n    z = {\r\n        key: 2,\r\n        value: (d) => d[this.z.key],\r\n        notAvailableValue: (v) => v === null || v === undefined,\r\n\r\n        decimalPlaces: undefined,\r\n        formatter: v => this.z.decimalPlaces === undefined ? v : Number(v).toFixed(this.z.decimalPlaces)// value formatter function\r\n\r\n    };\r\n    color = {\r\n        noDataColor: \"white\",\r\n        scale: \"linear\",\r\n        reverseScale: false,\r\n        range: [\"darkblue\", \"lightskyblue\", \"orange\", \"crimson\", \"darkred\"]\r\n    };\r\n    cell = {\r\n        width: undefined,\r\n        height: undefined,\r\n        sizeMin: 15,\r\n        sizeMax: 250,\r\n        padding: 0\r\n    };\r\n    margin = {\r\n        left: 60,\r\n        right: 50,\r\n        top: 30,\r\n        bottom: 80\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n    }\r\n}\r\n\r\n//TODO refactor\r\nexport class Heatmap extends Chart {\r\n\r\n    static maxGroupGapSize = 24;\r\n    static groupTitleRectHeight = 6;\r\n\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HeatmapConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new HeatmapConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n        var margin = this.config.margin;\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n        this.plot.z = {\r\n            matrixes: undefined,\r\n            cells: undefined,\r\n            color: {},\r\n            shape: {}\r\n        };\r\n\r\n\r\n        this.setupValues();\r\n        this.buildCells();\r\n\r\n        var titleRectWidth = 6;\r\n        this.plot.x.overlap = {\r\n            top: 0,\r\n            bottom: 0\r\n        };\r\n        if (this.plot.groupByX) {\r\n            let depth = self.config.x.groups.keys.length;\r\n            let allTitlesWidth = depth * (titleRectWidth);\r\n\r\n            this.plot.x.overlap.bottom = self.config.x.groups.overlap.bottom;\r\n            this.plot.x.overlap.top = self.config.x.groups.overlap.top + allTitlesWidth;\r\n            this.plot.margin.top = this.plot.margin.top + conf.x.groups.overlap.top;\r\n            this.plot.margin.bottom = this.plot.margin.bottom + conf.x.groups.overlap.bottom;\r\n        }\r\n\r\n\r\n        this.plot.y.overlap = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n\r\n\r\n        if (this.plot.groupByY) {\r\n            let depth = self.config.y.groups.keys.length;\r\n            let allTitlesWidth = depth * (titleRectWidth);\r\n            this.plot.y.overlap.right = self.config.y.groups.overlap.left + allTitlesWidth;\r\n            this.plot.y.overlap.left = self.config.y.groups.overlap.left;\r\n            this.plot.margin.left = this.plot.margin.left + this.plot.y.overlap.left;\r\n            this.plot.margin.right = this.plot.margin.right + this.plot.y.overlap.right;\r\n        }\r\n        this.plot.showLegend = conf.showLegend;\r\n        if (this.plot.showLegend) {\r\n            this.plot.margin.right += conf.legend.width;\r\n        }\r\n        this.computePlotSize();\r\n        this.setupZScale();\r\n\r\n        return this;\r\n    }\r\n\r\n    setupValues() {\r\n        var self = this;\r\n        var config = self.config;\r\n        var x = self.plot.x;\r\n        var y = self.plot.y;\r\n        var z = self.plot.z;\r\n\r\n\r\n        x.value = d => config.x.value.call(config, d);\r\n        y.value = d => config.y.value.call(config, d);\r\n        z.value = d => config.z.value.call(config, d);\r\n\r\n        x.uniqueValues = [];\r\n        y.uniqueValues = [];\r\n\r\n\r\n        self.plot.groupByY = !!config.y.groups.keys.length;\r\n        self.plot.groupByX = !!config.x.groups.keys.length;\r\n\r\n        y.groups = {\r\n            key: undefined,\r\n            label: '',\r\n            values: [],\r\n            children: null,\r\n            level: 0,\r\n            index: 0,\r\n            lastIndex: 0\r\n        };\r\n        x.groups = {\r\n            key: undefined,\r\n            label: '',\r\n            values: [],\r\n            children: null,\r\n            level: 0,\r\n            index: 0,\r\n            lastIndex: 0\r\n        };\r\n\r\n        var valueMap = {};\r\n        var minZ = undefined;\r\n        var maxZ = undefined;\r\n        this.data.forEach(d => {\r\n\r\n            var xVal = x.value(d);\r\n            var yVal = y.value(d);\r\n            var zValRaw = z.value(d);\r\n            var zVal = config.z.notAvailableValue(zValRaw) ? undefined : parseFloat(zValRaw);\r\n\r\n\r\n            if (x.uniqueValues.indexOf(xVal) === -1) {\r\n                x.uniqueValues.push(xVal);\r\n            }\r\n\r\n            if (y.uniqueValues.indexOf(yVal) === -1) {\r\n                y.uniqueValues.push(yVal);\r\n            }\r\n\r\n            var groupY = y.groups;\r\n            if (self.plot.groupByY) {\r\n                groupY = this.updateGroups(d, yVal, y.groups, config.y.groups);\r\n            }\r\n            var groupX = x.groups;\r\n            if (self.plot.groupByX) {\r\n\r\n                groupX = this.updateGroups(d, xVal, x.groups, config.x.groups);\r\n            }\r\n\r\n            if (!valueMap[groupY.index]) {\r\n                valueMap[groupY.index] = {};\r\n            }\r\n\r\n            if (!valueMap[groupY.index][groupX.index]) {\r\n                valueMap[groupY.index][groupX.index] = {};\r\n            }\r\n            if (!valueMap[groupY.index][groupX.index][yVal]) {\r\n                valueMap[groupY.index][groupX.index][yVal] = {};\r\n            }\r\n            valueMap[groupY.index][groupX.index][yVal][xVal] = zVal;\r\n\r\n\r\n            if (minZ === undefined || zVal < minZ) {\r\n                minZ = zVal;\r\n            }\r\n            if (maxZ === undefined || zVal > maxZ) {\r\n                maxZ = zVal;\r\n            }\r\n        });\r\n        self.plot.valueMap = valueMap;\r\n\r\n\r\n        if (!self.plot.groupByX) {\r\n            x.groups.values = x.uniqueValues;\r\n        }\r\n\r\n        if (!self.plot.groupByY) {\r\n            y.groups.values = y.uniqueValues;\r\n        }\r\n\r\n        this.setupValuesBeforeGroupsSort();\r\n\r\n        x.gaps = [];\r\n        x.totalValuesCount = 0;\r\n        x.allValuesList = [];\r\n        this.sortGroups(x, x.groups, config.x);\r\n\r\n        y.gaps = [];\r\n        y.totalValuesCount = 0;\r\n        y.allValuesList = [];\r\n        this.sortGroups(y, y.groups, config.y);\r\n\r\n        z.min = minZ;\r\n        z.max = maxZ;\r\n\r\n    }\r\n\r\n    setupValuesBeforeGroupsSort() {\r\n    }\r\n\r\n    buildCells() {\r\n        var self = this;\r\n        var x = self.plot.x;\r\n        var y = self.plot.y;\r\n        var z = self.plot.z;\r\n        var valueMap = self.plot.valueMap;\r\n\r\n        var matrixCells = self.plot.cells = [];\r\n        var matrix = self.plot.matrix = [];\r\n\r\n        y.allValuesList.forEach((v1, i) => {\r\n            var row = [];\r\n            matrix.push(row);\r\n\r\n            x.allValuesList.forEach((v2, j) => {\r\n                var zVal = undefined;\r\n                try {\r\n                    zVal = valueMap[v1.group.index][v2.group.index][v1.val][v2.val]\r\n                } catch (e) {\r\n                }\r\n\r\n                var cell = {\r\n                    rowVar: v1,\r\n                    colVar: v2,\r\n                    row: i,\r\n                    col: j,\r\n                    value: zVal\r\n                };\r\n                row.push(cell);\r\n\r\n                matrixCells.push(cell);\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    updateGroups(d, axisVal, rootGroup, axisGroupsConfig) {\r\n\r\n        var config = this.config;\r\n        var currentGroup = rootGroup;\r\n        axisGroupsConfig.keys.forEach((groupKey, groupKeyIndex) => {\r\n            currentGroup.key = groupKey;\r\n\r\n            if (!currentGroup.children) {\r\n                currentGroup.children = {};\r\n            }\r\n\r\n            var groupingValue = axisGroupsConfig.value.call(config, d, groupKey);\r\n\r\n            if (!currentGroup.children.hasOwnProperty(groupingValue)) {\r\n                rootGroup.lastIndex++;\r\n                currentGroup.children[groupingValue] = {\r\n                    values: [],\r\n                    children: null,\r\n                    groupingValue: groupingValue,\r\n                    level: currentGroup.level + 1,\r\n                    index: rootGroup.lastIndex,\r\n                    key: groupKey\r\n                }\r\n            }\r\n\r\n            currentGroup = currentGroup.children[groupingValue];\r\n        });\r\n\r\n        if (currentGroup.values.indexOf(axisVal) === -1) {\r\n            currentGroup.values.push(axisVal);\r\n        }\r\n\r\n        return currentGroup;\r\n    }\r\n\r\n    sortGroups(axis, group, axisConfig, gaps) {\r\n        if (axisConfig.groups.labels && axisConfig.groups.labels.length > group.level) {\r\n            group.label = axisConfig.groups.labels[group.level];\r\n        } else {\r\n            group.label = group.key;\r\n        }\r\n\r\n        if (!gaps) {\r\n            gaps = [0];\r\n        }\r\n        if (gaps.length <= group.level) {\r\n            gaps.push(0);\r\n        }\r\n\r\n        group.allValuesCount = group.allValuesCount || 0;\r\n        group.allValuesBeforeCount = group.allValuesBeforeCount || 0;\r\n\r\n        group.gaps = gaps.slice();\r\n        group.gapsBefore = gaps.slice();\r\n\r\n\r\n        group.gapsSize = Heatmap.computeGapsSize(group.gaps);\r\n        group.gapsBeforeSize = group.gapsSize;\r\n        if (group.values) {\r\n            if (axisConfig.sortLabels) {\r\n                group.values.sort(axisConfig.sortComparator);\r\n            }\r\n            group.values.forEach(v => axis.allValuesList.push({val: v, group: group}));\r\n            group.allValuesBeforeCount = axis.totalValuesCount;\r\n            axis.totalValuesCount += group.values.length;\r\n            group.allValuesCount += group.values.length;\r\n        }\r\n\r\n        group.childrenList = [];\r\n        if (group.children) {\r\n            var childrenCount = 0;\r\n\r\n            for (var childProp in group.children) {\r\n                if (group.children.hasOwnProperty(childProp)) {\r\n                    var child = group.children[childProp];\r\n                    group.childrenList.push(child);\r\n                    childrenCount++;\r\n\r\n                    this.sortGroups(axis, child, axisConfig, gaps);\r\n                    group.allValuesCount += child.allValuesCount;\r\n                    gaps[group.level] += 1;\r\n                }\r\n            }\r\n\r\n            if (gaps && childrenCount > 1) {\r\n                gaps[group.level] -= 1;\r\n            }\r\n\r\n            group.gapsInside = [];\r\n            gaps.forEach((d, i) => {\r\n                group.gapsInside.push(d - (group.gapsBefore[i] || 0));\r\n            });\r\n            group.gapsInsideSize = Heatmap.computeGapsSize(group.gapsInside);\r\n\r\n            if (axis.gaps.length < gaps.length) {\r\n                axis.gaps = gaps;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    computeYAxisLabelsWidth(offset) {\r\n        var maxWidth = this.plot.margin.left;\r\n        if (this.config.y.title) {\r\n            maxWidth -= 15;\r\n        }\r\n        if (offset && offset.x) {\r\n            maxWidth += offset.x;\r\n        }\r\n\r\n        if (this.config.y.rotateLabels) {\r\n            maxWidth *= Utils.SQRT_2;\r\n            var fontSize = 11; //todo check actual font size\r\n            maxWidth -= fontSize / 2;\r\n        }\r\n\r\n        return maxWidth;\r\n    }\r\n\r\n    computeXAxisLabelsWidth(offset) {\r\n        if (!this.config.x.rotateLabels) {\r\n            return this.plot.cellWidth - 2;\r\n        }\r\n        var size = this.plot.margin.bottom;\r\n        if (this.config.x.title) {\r\n            size -= 15;\r\n        }\r\n        if (offset && offset.y) {\r\n            size -= offset.y;\r\n        }\r\n\r\n        size *= Utils.SQRT_2;\r\n\r\n        var fontSize = 11; //todo check actual font size\r\n        size -= fontSize / 2;\r\n\r\n        return size;\r\n    }\r\n\r\n    static computeGapSize(gapLevel) {\r\n        return Heatmap.maxGroupGapSize / (gapLevel + 1);\r\n    }\r\n\r\n    static computeGapsSize(gaps) {\r\n        var gapsSize = 0;\r\n        gaps.forEach((gapsNumber, gapsLevel) => gapsSize += gapsNumber * Heatmap.computeGapSize(gapsLevel));\r\n        return gapsSize;\r\n    }\r\n\r\n    computePlotSize() {\r\n\r\n        var plot = this.plot;\r\n        var conf = this.config;\r\n        var margin = plot.margin;\r\n        var availableWidth = Utils.availableWidth(this.config.width, this.getBaseContainer(), this.plot.margin);\r\n        var availableHeight = Utils.availableHeight(this.config.height, this.getBaseContainer(), this.plot.margin);\r\n        var width = availableWidth;\r\n        var height = availableHeight;\r\n\r\n        var xGapsSize = Heatmap.computeGapsSize(plot.x.gaps);\r\n\r\n\r\n        var computedCellWidth = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableWidth - xGapsSize) / this.plot.x.totalValuesCount));\r\n        if (this.config.width) {\r\n\r\n            if (!this.config.cell.width) {\r\n                this.plot.cellWidth = computedCellWidth;\r\n            }\r\n\r\n        } else {\r\n            this.plot.cellWidth = this.config.cell.width;\r\n\r\n            if (!this.plot.cellWidth) {\r\n                this.plot.cellWidth = computedCellWidth;\r\n            }\r\n\r\n        }\r\n        width = this.plot.cellWidth * this.plot.x.totalValuesCount + margin.left + margin.right + xGapsSize;\r\n\r\n        var yGapsSize = Heatmap.computeGapsSize(plot.y.gaps);\r\n        var computedCellHeight = Math.max(conf.cell.sizeMin, Math.min(conf.cell.sizeMax, (availableHeight - yGapsSize) / this.plot.y.totalValuesCount));\r\n        if (this.config.height) {\r\n            if (!this.config.cell.height) {\r\n                this.plot.cellHeight = computedCellHeight;\r\n            }\r\n        } else {\r\n            this.plot.cellHeight = this.config.cell.height;\r\n\r\n            if (!this.plot.cellHeight) {\r\n                this.plot.cellHeight = computedCellHeight;\r\n            }\r\n\r\n        }\r\n\r\n        height = this.plot.cellHeight * this.plot.y.totalValuesCount + margin.top + margin.bottom + yGapsSize;\r\n\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = height - margin.top - margin.bottom;\r\n    }\r\n\r\n\r\n    setupZScale() {\r\n\r\n        var self = this;\r\n        var config = self.config;\r\n        var z = self.plot.z;\r\n        var range = config.color.range;\r\n        var extent = z.max - z.min;\r\n        var scale;\r\n        z.domain = [];\r\n        if (config.color.scale == \"pow\") {\r\n            var exponent = 10;\r\n            range.forEach((c, i) => {\r\n                var v = z.max - (extent / Math.pow(10, i));\r\n                z.domain.push(v)\r\n            });\r\n            scale = d3.scalePow().exponent(exponent);\r\n        } else if (config.color.scale == \"log\") {\r\n\r\n            range.forEach((c, i) => {\r\n                var v = z.min + (extent / Math.pow(10, i));\r\n                z.domain.unshift(v)\r\n\r\n            });\r\n\r\n            scale = d3.scaleLog()\r\n        } else {\r\n            range.forEach((c, i) => {\r\n                var v = z.min + (extent * (i / (range.length - 1)));\r\n                z.domain.push(v)\r\n            });\r\n            scale = Utils.createScale(config.color.scale);\r\n\r\n        }\r\n\r\n\r\n        z.domain[0] = z.min; //removing unnecessary floating points\r\n        z.domain[z.domain.length - 1] = z.max; //removing unnecessary floating points\r\n        // console.log(z.domain);\r\n\r\n        if (config.color.reverseScale) {\r\n            z.domain.reverse();\r\n        }\r\n\r\n        var plot = this.plot;\r\n\r\n        // console.log(range);\r\n\r\n        plot.z.color.scale = scale.domain(z.domain).range(range);\r\n        var shape = plot.z.shape = {};\r\n\r\n        var cellConf = this.config.cell;\r\n        shape.type = \"rect\";\r\n\r\n        plot.z.shape.width = plot.cellWidth - cellConf.padding * 2;\r\n        plot.z.shape.height = plot.cellHeight - cellConf.padding * 2;\r\n    }\r\n\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        if (this.plot.groupByY) {\r\n            this.drawGroupsY(this.plot.y.groups, this.svgG);\r\n        }\r\n        if (this.plot.groupByX) {\r\n            this.drawGroupsX(this.plot.x.groups, this.svgG);\r\n        }\r\n\r\n        this.updateCells();\r\n\r\n        // this.updateVariableLabels();\r\n\r\n        this.updateAxisX();\r\n        this.updateAxisY();\r\n\r\n        if (this.config.showLegend) {\r\n            this.updateLegend();\r\n        }\r\n\r\n        this.updateAxisTitles();\r\n    };\r\n\r\n    updateAxisTitles() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n\r\n    }\r\n\r\n\r\n    updateAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = self.prefixClass(\"label\");\r\n        var labelXClass = labelClass + \"-x\";\r\n        var labelYClass = labelClass + \"-y\";\r\n        plot.labelClass = labelClass;\r\n\r\n        var offsetX = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        let gapSize = Heatmap.computeGapSize(0);\r\n        if (plot.groupByX) {\r\n            let overlap = self.config.x.groups.overlap;\r\n\r\n            offsetX.x = gapSize / 2;\r\n            offsetX.y = overlap.bottom + gapSize / 2 + 6;\r\n        } else if (plot.groupByY) {\r\n            offsetX.y = gapSize;\r\n        }\r\n\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelXClass)\r\n            .data(plot.x.allValuesList, (d, i) => i);\r\n\r\n        var labelsMerge = labels.enter().append(\"text\").attr(\"class\", (d, i) => labelClass + \" \" + labelXClass + \" \" + labelXClass + \"-\" + i).merge(labels);\r\n\r\n        labelsMerge\r\n            .attr(\"x\", (d, i) => (i * plot.cellWidth + plot.cellWidth / 2) + (d.group.gapsSize) + offsetX.x)\r\n            .attr(\"y\", plot.height + offsetX.y)\r\n            .attr(\"dy\", 10)\r\n\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .text(d => self.formatValueX(d.val));\r\n\r\n\r\n        var maxWidth = self.computeXAxisLabelsWidth(offsetX);\r\n\r\n        labelsMerge.each(function (label) {\r\n            var elem = d3.select(this),\r\n                text = self.formatValueX(label.val);\r\n            Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        if (self.config.x.rotateLabels) {\r\n            labelsMerge.attr(\"transform\", (d, i) => \"rotate(-45, \" + ((i * plot.cellWidth + plot.cellWidth / 2) + d.group.gapsSize + offsetX.x) + \", \" + (plot.height + offsetX.y) + \")\")\r\n                .attr(\"dx\", -2)\r\n                .attr(\"dy\", 8)\r\n                .attr(\"text-anchor\", \"end\");\r\n        }\r\n\r\n\r\n        labels.exit().remove();\r\n\r\n\r\n        self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.height + plot.margin.bottom) + \")\")\r\n            .selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n\r\n            .attr(\"dy\", \"-0.5em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(self.config.x.title);\r\n    }\r\n\r\n    updateAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var labelClass = self.prefixClass(\"label\");\r\n        var labelYClass = labelClass + \"-y\";\r\n        plot.labelClass = labelClass;\r\n\r\n\r\n        var labels = self.svgG.selectAll(\"text.\" + labelYClass)\r\n            .data(plot.y.allValuesList);\r\n\r\n        var labelsEnter = labels.enter().append(\"text\");\r\n        var labelsMerge = labelsEnter.merge(labels);\r\n\r\n        var offsetY = {\r\n            x: 0,\r\n            y: 0\r\n        };\r\n        if (plot.groupByY) {\r\n            let overlap = self.config.y.groups.overlap;\r\n            let gapSize = Heatmap.computeGapSize(0);\r\n            offsetY.x = -overlap.left;\r\n\r\n            offsetY.y = gapSize / 2;\r\n        }\r\n        labelsMerge\r\n            .attr(\"x\", offsetY.x)\r\n            .attr(\"y\", (d, i) => (i * plot.cellHeight + plot.cellHeight / 2) + d.group.gapsSize + offsetY.y)\r\n            .attr(\"dx\", -2)\r\n            .attr(\"text-anchor\", \"end\")\r\n            .attr(\"class\", (d, i) => labelClass + \" \" + labelYClass + \" \" + labelYClass + \"-\" + i)\r\n\r\n            .text(function (d) {\r\n                var formatted = self.formatValueY(d.val);\r\n                return formatted\r\n            });\r\n\r\n        var maxWidth = self.computeYAxisLabelsWidth(offsetY);\r\n\r\n        labelsMerge.each(function (label) {\r\n            var elem = d3.select(this),\r\n                text = self.formatValueY(label.val);\r\n            Utils.placeTextWithEllipsisAndTooltip(elem, text, maxWidth, self.config.showTooltip ? self.plot.tooltip : false);\r\n        });\r\n\r\n        if (self.config.y.rotateLabels) {\r\n            labelsMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + (offsetY.x) + \", \" + (d.group.gapsSize + (i * plot.cellHeight + plot.cellHeight / 2) + offsetY.y) + \")\")\r\n                .attr(\"text-anchor\", \"end\");\r\n            // .attr(\"dx\", -7);\r\n        } else {\r\n            labelsMerge.attr(\"dominant-baseline\", \"middle\")\r\n        }\r\n\r\n\r\n        labels.exit().remove();\r\n\r\n\r\n        self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y'))\r\n            .selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(self.config.y.title);\r\n\r\n    }\r\n\r\n\r\n    drawGroupsY(parentGroup, container, availableWidth) {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        var groupClass = self.prefixClass(\"group\");\r\n        var groupYClass = groupClass + \"-y\";\r\n        var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupYClass)\r\n            .data(parentGroup.childrenList);\r\n\r\n        var valuesBeforeCount = 0;\r\n        var gapsBeforeSize = 0;\r\n\r\n        var groupsEnter = groups.enter().append(\"g\");\r\n        groupsEnter\r\n            .classed(groupClass, true)\r\n            .classed(groupYClass, true)\r\n            .append(\"rect\").classed(\"group-rect\", true);\r\n\r\n        var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\r\n        titleGroupEnter.append(\"rect\");\r\n        titleGroupEnter.append(\"text\");\r\n\r\n        var gapSize = Heatmap.computeGapSize(parentGroup.level);\r\n        var padding = gapSize / 4;\r\n\r\n        var titleRectWidth = Heatmap.groupTitleRectHeight;\r\n        var depth = self.config.y.groups.keys.length - parentGroup.level;\r\n        var overlap = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n\r\n        if (!availableWidth) {\r\n            overlap.right = plot.y.overlap.left;\r\n            overlap.left = plot.y.overlap.left;\r\n            availableWidth = plot.width + gapSize + overlap.left + overlap.right;\r\n        }\r\n\r\n\r\n        var groupsMerge = groupsEnter.merge(groups);\r\n\r\n        groupsMerge\r\n            .attr(\"transform\", (d, i) => {\r\n                var translate = \"translate(\" + (padding - overlap.left) + \",\" + ((plot.cellHeight * valuesBeforeCount) + i * gapSize + gapsBeforeSize + padding) + \")\";\r\n                gapsBeforeSize += (d.gapsInsideSize || 0);\r\n                valuesBeforeCount += d.allValuesCount || 0;\r\n                return translate\r\n            });\r\n\r\n\r\n        var groupWidth = availableWidth - padding * 2;\r\n\r\n        var titleGroups = groupsMerge.selectAll(\"g.title\")\r\n            .attr(\"transform\", (d, i) => \"translate(\" + (groupWidth - titleRectWidth) + \", 0)\");\r\n\r\n        var tileRects = titleGroups.selectAll(\"rect\")\r\n            .attr(\"width\", titleRectWidth)\r\n            .attr(\"height\", d => {\r\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            // .attr(\"fill\", \"lightgrey\")\r\n            .attr(\"stroke-width\", 0);\r\n\r\n        this.setGroupMouseCallbacks(parentGroup, tileRects);\r\n\r\n\r\n        groupsMerge.selectAll(\"rect.group-rect\")\r\n            .attr(\"class\", d => \"group-rect group-rect-\" + d.index)\r\n            .attr(\"width\", groupWidth)\r\n            .attr(\"height\", d => {\r\n                return (d.gapsInsideSize || 0) + plot.cellHeight * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"fill-opacity\", 0)\r\n            .attr(\"stroke-width\", 0.5)\r\n            .attr(\"stroke\", \"black\")\r\n\r\n\r\n        groupsMerge.each(function (group) {\r\n\r\n            self.drawGroupsY.call(self, group, d3.select(this), groupWidth - titleRectWidth);\r\n        });\r\n\r\n        groups.exit().remove();\r\n    }\r\n\r\n    drawGroupsX(parentGroup, container, availableHeight) {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        var groupClass = self.prefixClass(\"group\");\r\n        var groupXClass = groupClass + \"-x\";\r\n        var groups = container.selectAll(\"g.\" + groupClass + \".\" + groupXClass)\r\n            .data(parentGroup.childrenList);\r\n\r\n        var valuesBeforeCount = 0;\r\n        var gapsBeforeSize = 0;\r\n\r\n        var groupsEnter = groups.enter().append(\"g\");\r\n        groupsEnter\r\n            .classed(groupClass, true)\r\n            .classed(groupXClass, true)\r\n            .append(\"rect\").classed(\"group-rect\", true);\r\n\r\n        var titleGroupEnter = groupsEnter.appendSelector(\"g.title\");\r\n        titleGroupEnter.append(\"rect\");\r\n        titleGroupEnter.append(\"text\");\r\n\r\n        var gapSize = Heatmap.computeGapSize(parentGroup.level);\r\n        var padding = gapSize / 4;\r\n        var titleRectHeight = Heatmap.groupTitleRectHeight;\r\n\r\n        var depth = self.config.x.groups.keys.length - parentGroup.level;\r\n\r\n        var overlap = {\r\n            top: 0,\r\n            bottom: 0\r\n        };\r\n\r\n        if (!availableHeight) {\r\n            overlap.bottom = plot.x.overlap.bottom;\r\n            overlap.top = plot.x.overlap.top;\r\n            availableHeight = plot.height + gapSize + overlap.top + overlap.bottom;\r\n\r\n        } else {\r\n            overlap.top = -titleRectHeight;\r\n        }\r\n        // console.log('parentGroup',parentGroup, 'gapSize', gapSize, plot.x.overlap);\r\n\r\n        var groupsMerge = groupsEnter.merge(groups);\r\n\r\n        groupsMerge\r\n            .attr(\"transform\", (d, i) => {\r\n                var translate = \"translate(\" + ((plot.cellWidth * valuesBeforeCount) + i * gapSize + gapsBeforeSize + padding) + \", \" + (padding - overlap.top) + \")\";\r\n                gapsBeforeSize += (d.gapsInsideSize || 0);\r\n                valuesBeforeCount += d.allValuesCount || 0;\r\n                return translate\r\n            });\r\n\r\n        var groupHeight = availableHeight - padding * 2;\r\n\r\n        var titleGroups = groupsMerge.selectAll(\"g.title\")\r\n            .attr(\"transform\", (d, i) => \"translate(0, \" + (0) + \")\");\r\n\r\n\r\n        var tileRects = titleGroups.selectAll(\"rect\")\r\n            .attr(\"height\", titleRectHeight)\r\n            .attr(\"width\", d => {\r\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            // .attr(\"fill\", \"lightgrey\")\r\n            .attr(\"stroke-width\", 0);\r\n\r\n        this.setGroupMouseCallbacks(parentGroup, tileRects);\r\n\r\n\r\n        groupsMerge.selectAll(\"rect.group-rect\")\r\n            .attr(\"class\", d => \"group-rect group-rect-\" + d.index)\r\n            .attr(\"height\", groupHeight)\r\n            .attr(\"width\", d => {\r\n                return (d.gapsInsideSize || 0) + plot.cellWidth * d.allValuesCount + padding * 2\r\n            })\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .attr(\"fill\", \"white\")\r\n            .attr(\"fill-opacity\", 0)\r\n            .attr(\"stroke-width\", 0.5)\r\n            .attr(\"stroke\", \"black\");\r\n\r\n        groupsMerge.each(function (group) {\r\n            self.drawGroupsX.call(self, group, d3.select(this), groupHeight - titleRectHeight);\r\n        });\r\n\r\n        groups.exit().remove();\r\n\r\n    }\r\n\r\n    setGroupMouseCallbacks(parentGroup, tileRects) {\r\n        var plot = this.plot;\r\n        var self = this;\r\n        var mouseoverCallbacks = [];\r\n        mouseoverCallbacks.push(function (d) {\r\n            d3.select(this).classed('highlighted', true);\r\n            d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', true);\r\n        });\r\n\r\n        var mouseoutCallbacks = [];\r\n        mouseoutCallbacks.push(function (d) {\r\n            d3.select(this).classed('highlighted', false);\r\n            d3.select(this.parentNode.parentNode).selectAll(\"rect.group-rect-\" + d.index).classed('highlighted', false);\r\n        });\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(d => {\r\n                var html = parentGroup.label + \": \" + d.groupingValue;\r\n                self.showTooltip(html);\r\n            });\r\n\r\n            mouseoutCallbacks.push(d => {\r\n                self.hideTooltip();\r\n            });\r\n\r\n\r\n        }\r\n        tileRects.on(\"mouseover\", function (e, d) {\r\n            var self = this;\r\n            mouseoverCallbacks.forEach(function (callback) {\r\n                callback.call(self, d)\r\n            });\r\n        });\r\n        tileRects.on(\"mouseout\", function (e, d) {\r\n            var self = this;\r\n            mouseoutCallbacks.forEach(function (callback) {\r\n                callback.call(self, d)\r\n            });\r\n        });\r\n    }\r\n\r\n    updateCells() {\r\n\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var cellContainerClass = self.prefixClass(\"cells\");\r\n        var gapSize = Heatmap.computeGapSize(0);\r\n        var paddingX = plot.x.groups.childrenList.length ? gapSize / 2 : 0;\r\n        var paddingY = plot.y.groups.childrenList.length ? gapSize / 2 : 0;\r\n        var cellContainer = self.svgG.selectOrAppend(\"g.\" + cellContainerClass);\r\n        cellContainer.attr(\"transform\", \"translate(\" + paddingX + \", \" + paddingY + \")\");\r\n\r\n        var cellClass = self.prefixClass(\"cell\");\r\n        var cellShape = plot.z.shape.type;\r\n\r\n        var cells = cellContainer.selectAll(\"g.\" + cellClass)\r\n            .data(self.plot.cells);\r\n\r\n        var cellEnter = cells.enter().append(\"g\")\r\n            .classed(cellClass, true);\r\n\r\n        var cellsMerge = cellEnter.merge(cells);\r\n        cellsMerge.attr(\"transform\", c => \"translate(\" + ((plot.cellWidth * c.col + plot.cellWidth / 2) + c.colVar.group.gapsSize) + \",\" + ((plot.cellHeight * c.row + plot.cellHeight / 2) + c.rowVar.group.gapsSize) + \")\");\r\n\r\n        var shapes = cellsMerge.selectOrAppend(cellShape + \".cell-shape-\" + cellShape);\r\n\r\n        shapes\r\n            .attr(\"width\", plot.z.shape.width)\r\n            .attr(\"height\", plot.z.shape.height)\r\n            .attr(\"x\", -plot.cellWidth / 2)\r\n            .attr(\"y\", -plot.cellHeight / 2);\r\n\r\n        shapes.style(\"fill\", c => c.value === undefined ? self.config.color.noDataColor : plot.z.color.scale(c.value));\r\n        shapes.attr(\"fill-opacity\", d => d.value === undefined ? 0 : 1);\r\n\r\n        var mouseoverCallbacks = [];\r\n        var mouseoutCallbacks = [];\r\n\r\n        if (plot.tooltip) {\r\n\r\n            mouseoverCallbacks.push(c => {\r\n                var html = c.value === undefined ? self.config.tooltip.noDataText : self.formatValueZ(c.value);\r\n                self.showTooltip(html);\r\n\r\n            });\r\n\r\n            mouseoutCallbacks.push(c => {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n\r\n        if (self.config.highlightLabels) {\r\n            var highlightClass = self.config.cssClassPrefix + \"highlight\";\r\n            var xLabelClass = c => plot.labelClass + \"-x-\" + c.col;\r\n            var yLabelClass = c => plot.labelClass + \"-y-\" + c.row;\r\n\r\n\r\n            mouseoverCallbacks.push(c => {\r\n\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, true);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, true);\r\n            });\r\n            mouseoutCallbacks.push(c => {\r\n                self.svgG.selectAll(\"text.\" + xLabelClass(c)).classed(highlightClass, false);\r\n                self.svgG.selectAll(\"text.\" + yLabelClass(c)).classed(highlightClass, false);\r\n            });\r\n        }\r\n\r\n\r\n        cellsMerge.on(\"mouseover\", (e, c) => {\r\n            mouseoverCallbacks.forEach(callback => callback(c));\r\n        })\r\n            .on(\"mouseout\", (e, c) => {\r\n                mouseoutCallbacks.forEach(callback => callback(c));\r\n            });\r\n\r\n        cellsMerge.on(\"click\", (e, c) => {\r\n            self.trigger(\"cell-selected\", c);\r\n        });\r\n\r\n\r\n        cells.exit().remove();\r\n    }\r\n\r\n    formatValueX(value) {\r\n        if (!this.config.x.formatter) return value;\r\n\r\n        return this.config.x.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatValueY(value) {\r\n        if (!this.config.y.formatter) return value;\r\n\r\n        return this.config.y.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatValueZ(value) {\r\n        if (!this.config.z.formatter) return value;\r\n\r\n        return this.config.z.formatter.call(this.config, value);\r\n    }\r\n\r\n    formatLegendValue(value) {\r\n        if (!this.config.legend.formatter) return value;\r\n\r\n        return this.config.legend.formatter.call(this.config, value);\r\n    }\r\n\r\n    updateLegend() {\r\n        var self = this;\r\n        var plot = this.plot;\r\n        var legendX = this.plot.width + 10;\r\n        var gapSize = Heatmap.computeGapSize(0);\r\n        if (this.plot.groupByY) {\r\n            legendX += gapSize / 2 + plot.y.overlap.right;\r\n        } else if (this.plot.groupByX) {\r\n            legendX += gapSize;\r\n        }\r\n        var legendY = 0;\r\n        if (this.plot.groupByX || this.plot.groupByY) {\r\n            legendY += gapSize / 2;\r\n        }\r\n\r\n        var barWidth = 10;\r\n        var barHeight = this.plot.height - 2;\r\n        var scale = plot.z.color.scale;\r\n\r\n        plot.legend = new Legend(this.svg, this.svgG, scale, legendX, legendY, v => self.formatLegendValue(v)).setRotateLabels(self.config.legend.rotateLabels).linearGradientBar(barWidth, barHeight);\r\n    }\r\n\r\n\r\n}\r\n","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class HistogramConfig extends ChartWithColorGroupsConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'histogram';\r\n    showLegend = true;\r\n    showTooltip = true;\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => Utils.isNumber(d) ? d : parseFloat(d[key]), // x value accessor\r\n        scale: \"linear\",\r\n        orient: \"bottom\",\r\n        ticks: undefined,\r\n    };\r\n    y = {// Y axis config\r\n        title: '', // axis label,\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    frequency = true;\r\n    groups = {\r\n        key: 1\r\n    };\r\n    transition = true;\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class Histogram extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new HistogramConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new HistogramConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n        this.plot.bar = {\r\n            color: null//color scale mapping function\r\n        };\r\n\r\n        this.computePlotSize();\r\n\r\n        this.setupX();\r\n        this.setupHistogram();\r\n        this.setupGroupStacks();\r\n        this.setupY();\r\n        return this;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n        x.scale = Utils.createScale(conf.scale).range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n\r\n        if (conf.ticks) {\r\n            x.axis.ticks(conf.ticks);\r\n        }\r\n        var data = this.plot.groupedData;\r\n        plot.x.scale.domain([d3.min(data, s => d3.min(s.values, plot.x.value)), d3.max(data, s => d3.max(s.values, plot.x.value))]);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n        var data = this.plot.data;\r\n        var yStackMax = d3.max(plot.stackedHistograms, layer => d3.max(layer.histogramBins, d => d.y0 + d.y));\r\n        plot.y.scale.domain([0, yStackMax]);\r\n\r\n    };\r\n\r\n\r\n    setupHistogram() {\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var y = plot.y;\r\n        var ticks = this.config.x.ticks ? x.scale.ticks(this.config.x.ticks) : x.scale.ticks();\r\n\r\n        plot.histogram = d3.bin()\r\n            .domain(x.scale.domain())\r\n            .value(x.value)\r\n            .thresholds(ticks);\r\n    }\r\n\r\n    setupGroupStacks() {\r\n        var self = this;\r\n        var y0s = [];\r\n        this.plot.groupedData.forEach(d => {\r\n            d.histogramBins = this.plot.histogram(d.values);\r\n\r\n            d.histogramBins.forEach((b, i) => {\r\n                b.x = b.x0;\r\n                b.dx = b.x1 - b.x0;\r\n                b.y = b.length;\r\n                var prevY0 = y0s[i];\r\n                if (!prevY0) prevY0 = 0;\r\n                b.y0 = prevY0;\r\n\r\n                if (!this.config.frequency) {\r\n                    b.y /= this.plot.dataLength\r\n                }\r\n                y0s[i] = b.y + prevY0;\r\n            });\r\n\r\n\r\n        });\r\n        var keys = this.plot.groupedData.map(d => d.key);\r\n        // console.log(this.plot.groupedData);\r\n\r\n        this.plot.stack = d3.stack().keys(keys).value(d => d.histogramBins);\r\n        this.plot.stackedHistograms = this.plot.groupedData;\r\n    }\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.config.transition) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n\r\n    drawHistogram() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n\r\n        var layerClass = this.prefixClass(\"layer\");\r\n\r\n        var barClass = this.prefixClass(\"bar\");\r\n        var layer = self.svgG.selectAll(\".\" + layerClass)\r\n            .data(plot.stackedHistograms);\r\n\r\n        var layerMerge = layer.enter().append(\"g\")\r\n            .attr(\"class\", layerClass).merge(layer);\r\n\r\n\r\n        var bar = layerMerge.selectAll(\".\" + barClass)\r\n            .data(d => d.histogramBins);\r\n\r\n        var barEnter = bar.enter().append(\"g\");\r\n        barEnter\r\n            .attr(\"class\", barClass)\r\n            .append(\"rect\")\r\n            .attr(\"x\", 1);\r\n\r\n        var barMerge = barEnter.merge(bar);\r\n        var barRect = barMerge.select(\"rect\");\r\n\r\n        var barRectT = barRect;\r\n        var barT = barMerge;\r\n        var layerT = layerMerge;\r\n        if (this.transitionEnabled()) {\r\n            barRectT = barRect.transition();\r\n            barT = barMerge.transition();\r\n            layerT = layerMerge.transition();\r\n        }\r\n\r\n        barT.attr(\"transform\", function (d) {\r\n            return \"translate(\" + plot.x.scale(d.x) + \",\" + (plot.y.scale(d.y0 + d.y)) + \")\";\r\n        });\r\n        var rectWidth = plot.stackedHistograms.length ? (plot.stackedHistograms[0].histogramBins.length ? plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x1) - plot.x.scale(plot.stackedHistograms[0].histogramBins[0].x0) - 1 : 0) : 0;\r\n\r\n\r\n        barRectT\r\n            .attr(\"width\", d => Math.max(0, plot.x.scale(d.x1) - plot.x.scale(d.x0) - 1))\r\n            .attr(\"height\", d => plot.height - plot.y.scale(d.y));\r\n\r\n        if (this.plot.color) {\r\n            layerT\r\n                .attr(\"fill\", this.plot.seriesColor);\r\n        }\r\n\r\n        if (plot.tooltip) {\r\n            barMerge.on(\"mouseover\", (e, d) => {\r\n                self.showTooltip(d.y);\r\n            }).on(\"mouseout\", () => {\r\n                self.hideTooltip();\r\n            });\r\n        }\r\n        layer.exit().remove();\r\n        bar.exit().remove();\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n\r\n        this.drawHistogram();\r\n        return this;\r\n    };\r\n}\r\n","import {D3Extensions} from './d3-extensions'\r\n\r\nD3Extensions.extend();\r\n\r\nexport {ScatterPlot, ScatterPlotConfig} from \"./scatterplot\";\r\nexport {ScatterPlotMatrix, ScatterPlotMatrixConfig} from \"./scatterplot-matrix\";\r\nexport {Regression, RegressionConfig} from './regression'\r\nexport {CorrelationMatrix, CorrelationMatrixConfig} from './correlation-matrix'\r\nexport {Heatmap, HeatmapConfig} from './heatmap'\r\nexport {HeatmapTimeSeries, HeatmapTimeSeriesConfig} from './heatmap-timeseries'\r\nexport {Histogram, HistogramConfig} from './histogram'\r\nexport {BarChart, BarChartConfig} from './bar-chart'\r\nexport {BoxPlotBase, BoxPlotBaseConfig} from './box-plot-base'\r\nexport {BoxPlot, BoxPlotConfig} from './box-plot'\r\nexport {DivergingStackedBarChart, DivergingStackedBarChartConfig} from './diverging-stacked-bar-chart'\r\nexport {LineChart, LineChartConfig} from './line-chart'\r\nexport {StatisticsUtils} from './statistics-utils'\r\nexport {Utils} from './utils'\r\nexport {Legend} from './legend'\r\n\r\n\r\n\r\n\r\n\r\n","import {Utils} from \"./utils\";\r\n\r\nimport {legendColor, legendSize, legendSymbol} from 'd3-svg-legend'\r\n\r\n\r\n/*var d3 = require('../bower_components/d3');\r\n*/\r\n// var legend = require('../bower_components/d3-legend/no-extend');\r\n//\r\n// module.exports.legend = legend;\r\n\r\nexport class Legend {\r\n\r\n    cssClassPrefix = \"odc-\";\r\n    legendClass = this.cssClassPrefix + \"legend\";\r\n    container;\r\n    scale;\r\n    color = legendColor;\r\n    size = legendSize;\r\n    symbol = legendSymbol;\r\n    guid;\r\n\r\n    labelFormat = undefined;\r\n\r\n    constructor(svg, legendParent, scale, legendX, legendY, labelFormat) {\r\n        this.scale = scale;\r\n        this.svg = svg;\r\n        this.guid = Utils.guid();\r\n        this.container = Utils.selectOrAppend(legendParent, \"g.\" + this.legendClass, \"g\")\r\n            .attr(\"transform\", \"translate(\" + legendX + \",\" + legendY + \")\")\r\n            .classed(this.legendClass, true);\r\n\r\n        this.labelFormat = labelFormat;\r\n    }\r\n\r\n\r\n    linearGradientBar(barWidth, barHeight, title) {\r\n        var gradientId = this.cssClassPrefix + \"linear-gradient\" + \"-\" + this.guid;\r\n        var scale = this.scale;\r\n        var self = this;\r\n\r\n        this.linearGradient = Utils.linearGradient(this.svg, gradientId, this.scale.range(), 0, 100, 0, 0);\r\n\r\n        this.container.selectOrAppend(\"rect\")\r\n            .attr(\"width\", barWidth)\r\n            .attr(\"height\", barHeight)\r\n            .attr(\"x\", 0)\r\n            .attr(\"y\", 0)\r\n            .style(\"fill\", \"url(#\" + gradientId + \")\");\r\n\r\n\r\n        var ticks = this.container.selectAll(\"text\")\r\n            .data(scale.domain());\r\n        var ticksNumber = scale.domain().length - 1;\r\n        var ticksMerge = ticks.enter().append(\"text\").merge(ticks);\r\n\r\n        ticksMerge.attr(\"x\", barWidth)\r\n            .attr(\"y\", (d, i) => barHeight - (i * barHeight / ticksNumber))\r\n            .attr(\"dx\", 3)\r\n            // .attr(\"dy\", 1)\r\n            .attr(\"alignment-baseline\", \"middle\")\r\n            .text(d => self.labelFormat ? self.labelFormat(d) : d);\r\n        ticksMerge.attr(\"dominant-baseline\", \"middle\")\r\n        if (this.rotateLabels) {\r\n            ticksMerge\r\n                .attr(\"transform\", (d, i) => \"rotate(-45, \" + barWidth + \", \" + (barHeight - (i * barHeight / ticksNumber)) + \")\")\r\n                .attr(\"text-anchor\", \"start\")\r\n                .attr(\"dx\", 5)\r\n                .attr(\"dy\", 5);\r\n\r\n        } else {\r\n\r\n        }\r\n\r\n        ticks.exit().remove();\r\n\r\n        return this;\r\n    }\r\n\r\n    setRotateLabels(rotateLabels) {\r\n        this.rotateLabels = rotateLabels;\r\n        return this;\r\n    }\r\n\r\n\r\n}","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class LineChartConfig extends ChartWithColorGroupsConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'line-chart';\r\n    guides = false; //show axis guides\r\n    showTooltip = true; //show tooltip on dot hover\r\n\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => d[key], // x value accessor\r\n        orient: \"bottom\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    y = {// Y axis config\r\n        title: '', // axis label,\r\n        key: 1,\r\n        value: (d, key) => d[key], // y value accessor\r\n        orient: \"left\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    groups = {\r\n        key: 2\r\n    };\r\n\r\n    dotRadius = 2;\r\n    dotId = (event, d) => undefined;\r\n    transition = true;\r\n    onDotHover = (event, d) => {};\r\n    onDotHoverOut = (event, d) => {};\r\n    lineId = (event, d) => undefined;\r\n    transition = true;\r\n    onLineHover = (event, d) => {};\r\n    onLineHoverOut = (event, d) => {};\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class LineChart extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new LineChartConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new LineChartConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.computePlotSize();\r\n        this.setupX();\r\n        this.setupY();\r\n\r\n        return this;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n\r\n        x.scale = Utils.createScale(conf.scale).range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s => d3.min(s.values, plot.x.value))), parseFloat(d3.max(data, s => d3.max(s.values, plot.x.value)))];\r\n        var extent = (domain[1] - domain[0]) || 1;\r\n        var margin = (extent) * conf.domainMargin;\r\n        domain[0] -= margin;\r\n        domain[1] += margin;\r\n        plot.x.scale.domain(domain);\r\n        if (this.config.guides) {\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n\r\n        /*\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         */\r\n        y.value = d => conf.value(d, conf.key);\r\n\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n\r\n        if (this.config.guides) {\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s => d3.min(s.values, plot.y.value))), parseFloat(d3.max(data, s => d3.max(s.values, plot.y.value)))];\r\n        var extent = (domain[1] - domain[0]) || 1;\r\n        var margin = (extent) * conf.domainMargin;\r\n\r\n        domain[0] -= margin;\r\n        domain[1] += margin;\r\n        plot.y.scale.domain(domain);\r\n        // plot.y.scale.domain([d3.min(data, plot.y.value)-1, d3.max(data, plot.y.value)+1]);\r\n    };\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n        this.updateLines();\r\n    };\r\n\r\n    updateLines() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var data = plot.data;\r\n        var layerClass = self.prefixClass('layer');\r\n        var lineClass = this.lineClass = self.prefixClass('line');\r\n        self.linesContainerClass = self.prefixClass('lines-container');\r\n\r\n        var linesContainer = self.svgG.selectOrAppend(\"g.\" + self.linesContainerClass);\r\n\r\n        var layer = linesContainer.selectAll(\"g.\" + layerClass).data(plot.groupedData);\r\n\r\n        var layerEnter = layer.enter().appendSelector(\"g.\" + layerClass);\r\n        var linePathEnter = layerEnter.append(\"path\")\r\n            .attr(\"class\", lineClass);\r\n\r\n        var layerMerge = layerEnter.merge(layer);\r\n\r\n        var linePath = layerMerge.select('.' + lineClass)\r\n            .datum(d => d.values);\r\n\r\n        var linePathMerge = linePathEnter.merge(linePath);\r\n\r\n        var linePathT = linePathMerge;\r\n        if (self.transitionEnabled()) {\r\n            linePathT = linePathMerge.transition();\r\n        }\r\n\r\n        var line = d3.line()\r\n            .x(plot.x.map)\r\n            .y(plot.y.map);\r\n\r\n        linePathT\r\n            .attr(\"fill\", \"none\")\r\n            // .attr(\"stroke\", \"steelblue\")\r\n            .attr(\"stroke-linejoin\", \"round\")\r\n            .attr(\"stroke-linecap\", \"round\")\r\n            .attr(\"stroke-width\", 1.5)\r\n            .attr(\"id\", this.config.lineId)\r\n            .attr(\"d\", line);\r\n\r\n\r\n        //TODO add tooltip\r\n\r\n        linePathMerge.on(\"mouseover.onLineHover\", this.config.onLineHover);\r\n        linePathMerge.on(\"mouseout.onLineHoverOut\", this.config.onLineHoverOut);\r\n\r\n        if (plot.seriesColor) {\r\n            layerMerge.style(\"stroke\", plot.seriesColor)\r\n        } else if (plot.color) {\r\n            linePathMerge.style(\"stroke\", plot.color)\r\n        }\r\n\r\n        linePath.exit().remove();\r\n        var dotClass = this.dotClass = self.prefixClass('dot');\r\n\r\n        var dots = layerMerge.selectAll('.' + dotClass)\r\n            .data(d => d.values);\r\n\r\n        var dotsEnter = dots.enter().append(\"circle\")\r\n            .attr(\"class\", dotClass);\r\n\r\n        var dotsMerge = dotsEnter.merge(dots);\r\n\r\n        var dotsT = dotsMerge;\r\n        if (self.transitionEnabled()) {\r\n            dotsT = dotsMerge.transition();\r\n        }\r\n\r\n        dotsT.attr(\"r\", self.config.dotRadius)\r\n            .attr(\"cx\", plot.x.map)\r\n            .attr(\"cy\", plot.y.map)\r\n            .attr(\"id\", this.config.dotId);\r\n\r\n        if (plot.tooltip) {\r\n            dotsMerge.on(\"mouseover\", (event, d) => {\r\n                var html = \"(\" + plot.x.value(d) + \", \" + plot.y.value(d) + \")\";\r\n                var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\r\n                if (group || group === 0) {\r\n                    group = plot.groupToLabel[group];\r\n                    html += \"<br/>\";\r\n                    var label = self.config.groups.label;\r\n                    if (label) {\r\n                        html += label + \": \";\r\n                    }\r\n                    html += group\r\n                }\r\n                self.showTooltip(html);\r\n            })\r\n                .on(\"mouseout\", () => {\r\n                    self.hideTooltip();\r\n                });\r\n        }\r\n\r\n        dotsMerge.on(\"mouseover.onDotHover\", this.config.onDotHover);\r\n        dotsMerge.on(\"mouseout.onDotHoverOut\", this.config.onDotHoverOut);\r\n\r\n        if (plot.seriesColor) {\r\n            layerMerge.style(\"fill\", plot.seriesColor)\r\n        } else if (plot.color) {\r\n            dotsMerge.style(\"fill\", plot.color)\r\n        }\r\n\r\n        dots.exit().remove();\r\n\r\n\r\n        layer.exit().remove();\r\n    }\r\n}\r\n","import {ScatterPlot, ScatterPlotConfig} from \"./scatterplot\";\r\nimport {Utils} from './utils'\r\nimport {StatisticsUtils} from './statistics-utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class RegressionConfig extends ScatterPlotConfig {\r\n\r\n    mainRegression = true;\r\n    groupRegression = true;\r\n    confidence = {\r\n        level: 0.95,\r\n        criticalValue: (degreesOfFreedom, criticalProbability) => StatisticsUtils.tValue(degreesOfFreedom, criticalProbability),\r\n        marginOfError: undefined, //custom  margin Of Error function (x, points)\r\n        areaCurve: d3.curveNatural\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class Regression extends ScatterPlot {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new RegressionConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new RegressionConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        this.initRegressionLines();\r\n    }\r\n\r\n    initRegressionLines() {\r\n\r\n        var self = this;\r\n        var groupsAvailable = self.plot.groupingEnabled;\r\n\r\n        self.plot.regressions = [];\r\n\r\n\r\n        if (groupsAvailable && self.config.mainRegression) {\r\n            var regression = this.initRegression(this.plot.data, false);\r\n            self.plot.regressions.push(regression);\r\n        }\r\n\r\n        if (self.config.groupRegression) {\r\n            this.initGroupRegression();\r\n        }\r\n\r\n    }\r\n\r\n    initGroupRegression() {\r\n        var self = this;\r\n\r\n        self.plot.groupedData.forEach(group => {\r\n            if (group.values.length < 2) {\r\n                return;\r\n            }\r\n\r\n            var regression = this.initRegression(group.values, group.key);\r\n            self.plot.regressions.push(regression);\r\n        });\r\n    }\r\n\r\n    initRegression(values, groupVal) {\r\n        var self = this;\r\n\r\n        var points = values.map(d => {\r\n            return [parseFloat(self.plot.x.value(d)), parseFloat(self.plot.y.value(d))];\r\n        });\r\n\r\n        // points.sort((a,b) => a[0]-b[0]);\r\n\r\n        var linearRegression = StatisticsUtils.linearRegression(points);\r\n        var linearRegressionLine = StatisticsUtils.linearRegressionLine(linearRegression);\r\n\r\n\r\n        var extentX = d3.extent(points, d => d[0]);\r\n\r\n\r\n        var linePoints = [\r\n            {\r\n                x: extentX[0],\r\n                y: linearRegressionLine(extentX[0])\r\n            },\r\n            {\r\n                x: extentX[1],\r\n                y: linearRegressionLine(extentX[1])\r\n            }\r\n        ];\r\n\r\n        var line = d3.line()\r\n            .curve(d3.curveBasis)\r\n            .x(d => self.plot.x.scale(d.x))\r\n            .y(d => self.plot.y.scale(d.y));\r\n\r\n        var color = self.plot.color;\r\n\r\n        var defaultColor = \"black\";\r\n        if (Utils.isFunction(color)) {\r\n            if (values.length && groupVal !== false) {\r\n                if (self.config.series) {\r\n                    color = self.plot.colorCategory(groupVal);\r\n                } else {\r\n                    color = color(values[0]);\r\n                }\r\n\r\n            } else {\r\n                color = defaultColor;\r\n            }\r\n        } else if (!color && groupVal === false) {\r\n            color = defaultColor;\r\n        }\r\n\r\n\r\n        var confidence = this.computeConfidence(points, extentX, linearRegression, linearRegressionLine);\r\n        return {\r\n            group: groupVal || false,\r\n            line: line,\r\n            linePoints: linePoints,\r\n            color: color,\r\n            confidence: confidence\r\n        };\r\n    }\r\n\r\n    computeConfidence(points, extentX, linearRegression, linearRegressionLine) {\r\n        var self = this;\r\n        var slope = linearRegression.m;\r\n        var n = points.length;\r\n        var degreesOfFreedom = Math.max(0, n - 2);\r\n\r\n        var alpha = 1 - self.config.confidence.level;\r\n        var criticalProbability = 1 - alpha / 2;\r\n        var criticalValue = self.config.confidence.criticalValue(degreesOfFreedom, criticalProbability);\r\n\r\n        var xValues = points.map(d => d[0]);\r\n        var meanX = StatisticsUtils.mean(xValues);\r\n        var xMySum = 0;\r\n        var xSum = 0;\r\n        var xPowSum = 0;\r\n        var ySum = 0;\r\n        var yPowSum = 0;\r\n        points.forEach(p => {\r\n            var x = p[0];\r\n            var y = p[1];\r\n\r\n            xMySum += x * y;\r\n            xSum += x;\r\n            ySum += y;\r\n            xPowSum += x * x;\r\n            yPowSum += y * y;\r\n        });\r\n        var a = linearRegression.m;\r\n        var b = linearRegression.b;\r\n\r\n        var Sa2 = n / (n + 2) * ((yPowSum - a * xMySum - b * ySum) / (n * xPowSum - (xSum * xSum))); //Wariancja wspczynnika kierunkowego regresji liniowej a\r\n        var Sy2 = (yPowSum - a * xMySum - b * ySum) / (n * (n - 2)); //Sa2 //Mean y value variance\r\n\r\n        var errorFn = x => Math.sqrt(Sy2 + Math.pow(x - meanX, 2) * Sa2); //pierwiastek kwadratowy z wariancji dowolnego punktu prostej\r\n        var marginOfError = x => criticalValue * errorFn(x);\r\n\r\n\r\n        // console.log('n', n, 'degreesOfFreedom', degreesOfFreedom, 'criticalProbability',criticalProbability);\r\n        // var confidenceDown = x => linearRegressionLine(x) -  marginOfError(x);\r\n        // var confidenceUp = x => linearRegressionLine(x) +  marginOfError(x);\r\n\r\n\r\n        var computeConfidenceAreaPoint = x => {\r\n            var linearRegression = linearRegressionLine(x);\r\n            var moe = marginOfError(x);\r\n            var confDown = linearRegression - moe;\r\n            var confUp = linearRegression + moe;\r\n            return {\r\n                x: x,\r\n                y0: confDown,\r\n                y1: confUp\r\n            }\r\n\r\n        };\r\n\r\n        var centerX = (extentX[1] + extentX[0]) / 2;\r\n\r\n        // var confidenceAreaPoints = [extentX[0], centerX,  extentX[1]].map(computeConfidenceAreaPoint);\r\n        var confidenceAreaPoints = [extentX[0], centerX, extentX[1]].map(computeConfidenceAreaPoint);\r\n\r\n        var fitInPlot = y => y;\r\n\r\n        var confidenceArea = d3.area()\r\n            .curve(self.config.confidence.areaCurve)\r\n            .x(d => self.plot.x.scale(d.x))\r\n            .y0(d => fitInPlot(self.plot.y.scale(d.y0)))\r\n            .y1(d => fitInPlot(self.plot.y.scale(d.y1)));\r\n\r\n        return {\r\n            area: confidenceArea,\r\n            points: confidenceAreaPoints\r\n        };\r\n    }\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.updateRegressionLines();\r\n\r\n    };\r\n\r\n    updateRegressionLines() {\r\n        var self = this;\r\n        var regressionContainerClass = this.prefixClass(\"regression-container\");\r\n        var regressionContainerSelector = \"g.\" + regressionContainerClass;\r\n\r\n        var clipPathId = self.prefixClass(\"clip\");\r\n\r\n        var regressionContainer = self.svgG.selectOrInsert(regressionContainerSelector, \".\" + self.dotsContainerClass);\r\n        var regressionContainerClip = regressionContainer.selectOrAppend(\"clipPath\")\r\n            .attr(\"id\", clipPathId);\r\n\r\n\r\n        regressionContainerClip.selectOrAppend('rect')\r\n            .attr('width', self.plot.width)\r\n            .attr('height', self.plot.height)\r\n            .attr('x', 0)\r\n            .attr('y', 0);\r\n\r\n        regressionContainer.attr(\"clip-path\", (d, i) => \"url(#\" + clipPathId + \")\");\r\n\r\n        var regressionClass = this.prefixClass(\"regression\");\r\n        var confidenceAreaClass = self.prefixClass(\"confidence\");\r\n        var regressionSelector = \"g.\" + regressionClass;\r\n        var regression = regressionContainer.selectAll(regressionSelector)\r\n            .data(self.plot.regressions, (d, i) => d.group);\r\n\r\n\r\n        var regressionEnter = regression.enter().appendSelector(regressionSelector);\r\n        var regressionMerge = regressionEnter.merge(regression);\r\n        var lineClass = self.prefixClass(\"line\");\r\n        regressionEnter\r\n            .append(\"path\")\r\n            .attr(\"class\", lineClass)\r\n            .attr(\"shape-rendering\", \"optimizeQuality\");\r\n\r\n        var line = regressionMerge.select(\"path.\" + lineClass)\r\n            .style(\"stroke\", r => r.color);\r\n\r\n        var lineT = line;\r\n        if (self.transitionEnabled()) {\r\n            lineT = line.transition();\r\n        }\r\n\r\n        lineT.attr(\"d\", r => r.line(r.linePoints))\r\n\r\n\r\n        regressionEnter\r\n            .append(\"path\")\r\n            .attr(\"class\", confidenceAreaClass)\r\n            .attr(\"shape-rendering\", \"optimizeQuality\")\r\n            .style(\"opacity\", \"0.4\");\r\n\r\n\r\n        var area = regressionMerge.select(\"path.\" + confidenceAreaClass);\r\n\r\n        var areaT = area;\r\n        if (self.transitionEnabled()) {\r\n            areaT = area.transition();\r\n        }\r\n        areaT.attr(\"d\", r => r.confidence.area(r.confidence.points));\r\n        areaT.style(\"fill\", r => r.color)\r\n        regression.exit().remove();\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n","import {ChartWithColorGroups} from \"./chart-with-color-groups\";\r\nimport {ScatterPlotConfig} from \"./scatterplot\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class ScatterPlotMatrixConfig extends ScatterPlotConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'scatterplot-matrix';\r\n    size = undefined; //scatter plot cell size\r\n    minCellSize = 50;\r\n    maxCellSize = 1000;\r\n    padding = 20; //scatter plot cell padding\r\n    brush = true;\r\n    guides = true; //show axis guides\r\n    showTooltip = true; //show tooltip on dot hover\r\n    ticks = undefined; //ticks number, (default: computed using cell size)\r\n    x = {// X axis config\r\n        orient: \"bottom\",\r\n        scale: \"linear\"\r\n    };\r\n    y = {// Y axis config\r\n        orient: \"left\",\r\n        scale: \"linear\"\r\n    };\r\n    groups = {\r\n        key: undefined, //object property name or array index with grouping variable\r\n        includeInPlot: false, //include group as variable in plot, boolean (default: false)\r\n    };\r\n    variables = {\r\n        labels: [], //optional array of variable labels (for the diagonal of the plot).\r\n        keys: [], //optional array of variable keys\r\n        value: (d, variableKey) => d[variableKey] // variable value accessor\r\n    };\r\n\r\n    constructor(custom) {\r\n        super();\r\n        Utils.deepExtend(this, custom);\r\n    }\r\n\r\n\r\n}\r\n\r\nexport class ScatterPlotMatrix extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ScatterPlotMatrixConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new ScatterPlotMatrixConfig(config));\r\n\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n\r\n        var self = this;\r\n        var margin = this.plot.margin;\r\n        var conf = this.config;\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n        this.plot.dot = {\r\n            color: null//color scale mapping function\r\n        };\r\n\r\n        this.setupVariables();\r\n\r\n        this.plot.size = conf.size;\r\n\r\n\r\n        var width = conf.width;\r\n        var availableWidth = Utils.availableWidth(this.config.width, this.getBaseContainer(), margin);\r\n        var availableHeight = Utils.availableHeight(this.config.height, this.getBaseContainer(), margin);\r\n        if (!width) {\r\n            if (!this.plot.size) {\r\n                this.plot.size = Math.min(conf.maxCellSize, Math.max(conf.minCellSize, availableWidth / this.plot.variables.length));\r\n            }\r\n            width = margin.left + margin.right + this.plot.variables.length * this.plot.size;\r\n        }\r\n        if (!this.plot.size) {\r\n            this.plot.size = (width - (margin.left + margin.right)) / this.plot.variables.length;\r\n        }\r\n\r\n        var height = width;\r\n        if (!height) {\r\n            height = availableHeight;\r\n        }\r\n\r\n        this.plot.width = width - margin.left - margin.right;\r\n        this.plot.height = height - margin.top - margin.bottom;\r\n\r\n\r\n        this.plot.ticks = conf.ticks;\r\n\r\n        if (this.plot.ticks === undefined) {\r\n            this.plot.ticks = this.plot.size / 40;\r\n        }\r\n\r\n        this.setupX();\r\n        this.setupY();\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n    setupVariables() {\r\n        var variablesConf = this.config.variables;\r\n\r\n        var data = this.plot.groupedData;\r\n        var plot = this.plot;\r\n        plot.domainByVariable = {};\r\n        plot.variables = variablesConf.keys;\r\n        if (!plot.variables || !plot.variables.length) {\r\n\r\n            plot.variables = data.length ? Utils.inferVariables(data[0].values, this.config.groups.key, this.config.includeInPlot) : [];\r\n        }\r\n\r\n        plot.labels = [];\r\n        plot.labelByVariable = {};\r\n        plot.variables.forEach((variableKey, index) => {\r\n            var min = d3.min(data, s => d3.min(s.values, d => variablesConf.value(d, variableKey)));\r\n            var max = d3.max(data, s => d3.max(s.values, d => variablesConf.value(d, variableKey)));\r\n            plot.domainByVariable[variableKey] = [min, max];\r\n            var label = variableKey;\r\n            if (variablesConf.labels && variablesConf.labels.length > index) {\r\n\r\n                label = variablesConf.labels[index];\r\n            }\r\n            plot.labels.push(label);\r\n            plot.labelByVariable[variableKey] = label;\r\n        });\r\n\r\n        plot.subplots = [];\r\n    };\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config;\r\n\r\n\r\n        x.value = conf.variables.value;\r\n        x.scale = Utils.createScale(conf.x.scale).range([conf.padding / 2, plot.size - conf.padding / 2]);\r\n        x.map = (d, variable) => x.scale(x.value(d, variable));\r\n\r\n        x.axis = Utils.createAxis(conf.x.orient, x.scale).ticks(plot.ticks);\r\n        x.axis.tickSize(plot.size * plot.variables.length);\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config;\r\n\r\n        y.value = conf.variables.value;\r\n        y.scale = Utils.createScale(conf.y.scale).range([plot.size - conf.padding / 2, conf.padding / 2]);\r\n\r\n        y.map = (d, variable) => y.scale(y.value(d, variable));\r\n        y.axis = Utils.createAxis(conf.y.orient, y.scale).ticks(plot.ticks);\r\n        y.axis.tickSize(-plot.size * plot.variables.length);\r\n    };\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n\r\n        var self = this;\r\n        var n = self.plot.variables.length;\r\n        var conf = this.config;\r\n\r\n        var axisClass = self.prefixClass(\"axis\");\r\n        var axisXClass = axisClass + \"-x\";\r\n        var axisYClass = axisClass + \"-y\";\r\n\r\n        var xAxisSelector = \"g.\" + axisXClass + \".\" + axisClass;\r\n        var yAxisSelector = \"g.\" + axisYClass + \".\" + axisClass;\r\n\r\n        var noGuidesClass = self.prefixClass(\"no-guides\");\r\n        var xAxis = self.svgG.selectAll(xAxisSelector)\r\n            .data(self.plot.variables);\r\n\r\n        var xAxisMerge = xAxis.enter().appendSelector(xAxisSelector)\r\n            .classed(noGuidesClass, !conf.guides).merge(xAxis);\r\n\r\n\r\n        xAxisMerge.attr(\"transform\", (d, i) => \"translate(\" + (n - i - 1) * self.plot.size + \",0)\")\r\n            .each(function (d) {\r\n                self.plot.x.scale.domain(self.plot.domainByVariable[d]);\r\n                var axis = d3.select(this);\r\n                if (self.transitionEnabled()) {\r\n                    axis = axis.transition();\r\n                }\r\n                axis.call(self.plot.x.axis);\r\n\r\n            });\r\n\r\n        xAxis.exit().remove();\r\n\r\n        var yAxis = self.svgG.selectAll(yAxisSelector)\r\n            .data(self.plot.variables);\r\n        var yAxisMerge = yAxis.enter().appendSelector(yAxisSelector).merge(yAxis);\r\n        yAxisMerge.classed(noGuidesClass, !conf.guides)\r\n            .attr(\"transform\", (d, i) => \"translate(0,\" + i * self.plot.size + \")\");\r\n        yAxisMerge.each(function (d) {\r\n            self.plot.y.scale.domain(self.plot.domainByVariable[d]);\r\n            var axis = d3.select(this);\r\n            if (self.transitionEnabled()) {\r\n                axis = axis.transition();\r\n            }\r\n            axis.call(self.plot.y.axis);\r\n\r\n        });\r\n\r\n        yAxis.exit().remove();\r\n\r\n        var cellClass = self.prefixClass(\"cell\");\r\n        var cell = self.svgG.selectAll(\".\" + cellClass)\r\n            .data(self.utils.cross(self.plot.variables, self.plot.variables));\r\n\r\n        var cellEnter = cell.enter().appendSelector(\"g.\" + cellClass);\r\n        cellEnter.filter(d => d.i === d.j).append(\"text\");\r\n\r\n        var cellMerge = cellEnter.merge(cell);\r\n        cellMerge.attr(\"transform\", d => \"translate(\" + (n - d.i - 1) * self.plot.size + \",\" + d.j * self.plot.size + \")\");\r\n\r\n        if (conf.brush) {\r\n            this.drawBrush(cellMerge);\r\n        }\r\n\r\n\r\n        cellMerge.each(plotSubplot);\r\n\r\n        //Labels\r\n        cellMerge.select(\"text\")\r\n            .attr(\"x\", conf.padding)\r\n            .attr(\"y\", conf.padding)\r\n            .attr(\"dy\", \".71em\")\r\n            .text(d => self.plot.labelByVariable[d.x]);\r\n\r\n        cell.exit().remove();\r\n\r\n        function plotSubplot(p) {\r\n            var plot = self.plot;\r\n            plot.subplots.push(p);\r\n            var cell = d3.select(this);\r\n\r\n            plot.x.scale.domain(plot.domainByVariable[p.x]);\r\n            plot.y.scale.domain(plot.domainByVariable[p.y]);\r\n\r\n            var frameClass = self.prefixClass(\"frame\");\r\n            cell.selectOrAppend(\"rect.\" + frameClass)\r\n                .attr(\"class\", frameClass)\r\n                .attr(\"x\", conf.padding / 2)\r\n                .attr(\"y\", conf.padding / 2)\r\n                .attr(\"width\", plot.size - conf.padding)\r\n                .attr(\"height\", plot.size - conf.padding);\r\n\r\n            p.update = function () {\r\n\r\n                var subplot = this;\r\n                var layerClass = self.prefixClass('layer');\r\n\r\n\r\n                var layer = cell.selectAll(\"g.\" + layerClass).data(self.plot.groupedData);\r\n\r\n                var layerMerge = layer.enter().appendSelector(\"g.\" + layerClass).merge(layer);\r\n\r\n                var dots = layerMerge.selectAll(\"circle\")\r\n                    .data(d => d.values);\r\n\r\n                var dotsMerge = dots.enter().append(\"circle\").merge(dots);\r\n\r\n                var dotsT = dotsMerge;\r\n                if (self.transitionEnabled()) {\r\n                    dotsT = dotsMerge.transition();\r\n                }\r\n\r\n                dotsT.attr(\"cx\", (d) => plot.x.map(d, subplot.x))\r\n                    .attr(\"cy\", (d) => plot.y.map(d, subplot.y))\r\n                    .attr(\"r\", self.config.dotRadius);\r\n\r\n\r\n                if (plot.seriesColor) {\r\n                    layerMerge.style(\"fill\", plot.seriesColor)\r\n                } else if (plot.color) {\r\n                    dotsMerge.style(\"fill\", plot.color)\r\n                }\r\n\r\n\r\n                if (plot.tooltip) {\r\n                    dotsMerge.on(\"mouseover\", (event, d) => {\r\n\r\n                        var html = \"(\" + plot.x.value(d, subplot.x) + \", \" + plot.y.value(d, subplot.y) + \")\";\r\n                        var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\r\n                        if (group || group === 0) {\r\n                            group = plot.groupToLabel[group];\r\n                            html += \"<br/>\";\r\n                            var label = self.config.groups.label;\r\n                            if (label) {\r\n                                html += label + \": \";\r\n                            }\r\n                            html += group\r\n                        }\r\n                        self.showTooltip(html);\r\n                    })\r\n                        .on(\"mouseout\", () => {\r\n                            self.hideTooltip();\r\n                        });\r\n                }\r\n\r\n                dots.exit().remove();\r\n                layer.exit().remove();\r\n            };\r\n            p.update();\r\n\r\n        }\r\n    };\r\n\r\n    drawBrush(cell) {\r\n        var self = this;\r\n        var hiddenClass = self.plot.hiddenClass = self.prefixClass(\"hidden\");\r\n        var brush = d3.brush()\r\n            // .x(self.plot.x.scale)\r\n            // .y(self.plot.y.scale)\r\n            .on(\"start\", brushstart)\r\n            .on(\"brush\", brushmove)\r\n            .on(\"end\", brushend);\r\n\r\n        brush.extent([[0, 0], [self.plot.size, self.plot.size]]);\r\n        cell.selectOrAppend(\"g.brush-container\").call(brush);\r\n\r\n        self.clearBrush();\r\n\r\n        // Clear the previously-active brush, if any.\r\n        function brushstart(event, p) {\r\n            if (self.plot.brushCell !== this) {\r\n                self.clearBrush();\r\n                self.plot.x.scale.domain(self.plot.domainByVariable[p.x]);\r\n                self.plot.y.scale.domain(self.plot.domainByVariable[p.y]);\r\n                self.plot.brushCell = this;\r\n                self.plot.brush = brush;\r\n            }\r\n        }\r\n\r\n        // Highlight the selected circles.\r\n        function brushmove(event, p) {\r\n            var s = event.selection;\r\n            if (!s) return;\r\n            var e = s.map(_ => [self.plot.x.scale.invert(_[0]), self.plot.y.scale.invert(_[1])]);\r\n            // console.log(e);\r\n\r\n            self.svgG.selectAll(\"circle\").classed(hiddenClass, function (d) {\r\n                var x = parseFloat(d[p.x]),\r\n                    y = parseFloat(d[p.y]);\r\n\r\n                return e[0][0] > x || x > e[1][0]\r\n                    || e[1][1] > y || y > e[0][1];\r\n            });\r\n        }\r\n\r\n        // If the brush is empty, select all circles.\r\n        function brushend(event) {\r\n            if (!event.selection) self.svgG.selectAll(\".\" + hiddenClass).classed(hiddenClass, false);\r\n        }\r\n    };\r\n\r\n    clearBrush() {\r\n        var self = this;\r\n        if (!self.plot.brushCell) {\r\n            return;\r\n        }\r\n\r\n        self.plot.brush.move(d3.select(self.plot.brushCell), null);\r\n        self.svgG.selectAll(\".\" + self.plot.hiddenClass).classed(self.plot.hiddenClass, false);\r\n        self.plot.brushCell = null;\r\n\r\n    }\r\n}","import {ChartWithColorGroups, ChartWithColorGroupsConfig} from \"./chart-with-color-groups\";\r\nimport {Utils} from './utils'\r\nimport * as d3 from './d3'\r\n\r\nexport class ScatterPlotConfig extends ChartWithColorGroupsConfig {\r\n\r\n    svgClass = this.cssClassPrefix + 'scatterplot';\r\n    guides = false; //show axis guides\r\n    showTooltip = true; //show tooltip on dot hover\r\n\r\n    x = {// X axis config\r\n        title: '', // axis label\r\n        key: 0,\r\n        value: (d, key) => d[key], // x value accessor\r\n        orient: \"bottom\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    y = {// Y axis config\r\n        title: '', // axis label,\r\n        key: 1,\r\n        value: (d, key) => d[key], // y value accessor\r\n        orient: \"left\",\r\n        scale: \"linear\",\r\n        domainMargin: 0.05\r\n    };\r\n    groups = {\r\n        key: 2\r\n    };\r\n    dotRadius = 2;\r\n    dotId = (event, d) => undefined;\r\n    transition = true;\r\n    onDotHover = (event, d) => {};\r\n    onDotHoverOut = (event, d) => {};\r\n\r\n    constructor(custom) {\r\n        super();\r\n\r\n\r\n        if (custom) {\r\n            Utils.deepExtend(this, custom);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport class ScatterPlot extends ChartWithColorGroups {\r\n    constructor(placeholderSelector, data, config) {\r\n        super(placeholderSelector, data, new ScatterPlotConfig(config));\r\n    }\r\n\r\n    setConfig(config) {\r\n        return super.setConfig(new ScatterPlotConfig(config));\r\n    }\r\n\r\n    initPlot() {\r\n        super.initPlot();\r\n        var self = this;\r\n\r\n        var conf = this.config;\r\n\r\n        this.plot.x = {};\r\n        this.plot.y = {};\r\n\r\n        this.computePlotSize();\r\n        this.setupX();\r\n        this.setupY();\r\n\r\n        return this;\r\n    }\r\n\r\n    setupX() {\r\n\r\n        var plot = this.plot;\r\n        var x = plot.x;\r\n        var conf = this.config.x;\r\n\r\n        /* *\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         **/\r\n        x.value = d => conf.value(d, conf.key);\r\n\r\n        x.scale = Utils.createScale(conf.scale).range([0, plot.width]);\r\n        x.map = d => x.scale(x.value(d));\r\n\r\n        x.axis = Utils.createAxis(conf.orient, x.scale);\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s => d3.min(s.values, plot.x.value))), parseFloat(d3.max(data, s => d3.max(s.values, plot.x.value)))];\r\n        var extent = (domain[1] - domain[0]) || 1;\r\n        var margin = (extent) * conf.domainMargin;\r\n        domain[0] -= margin;\r\n        domain[1] += margin;\r\n        plot.x.scale.domain(domain);\r\n        if (this.config.guides) {\r\n            x.axis.tickSize(-plot.height);\r\n        }\r\n\r\n    };\r\n\r\n    setupY() {\r\n\r\n        var plot = this.plot;\r\n        var y = plot.y;\r\n        var conf = this.config.y;\r\n\r\n        /*\r\n         * value accessor - returns the value to encode for a given data object.\r\n         * scale - maps value to a visual display encoding, such as a pixel position.\r\n         * map function - maps from data value to display value\r\n         * axis - sets up axis\r\n         */\r\n        y.value = d => conf.value(d, conf.key);\r\n\r\n        y.scale = Utils.createScale(conf.scale).range([plot.height, 0]);\r\n\r\n        y.map = d => y.scale(y.value(d));\r\n\r\n        y.axis = Utils.createAxis(conf.orient, y.scale);\r\n\r\n        if (this.config.guides) {\r\n            y.axis.tickSize(-plot.width);\r\n        }\r\n\r\n\r\n        var data = this.plot.groupedData;\r\n\r\n        var domain = [parseFloat(d3.min(data, s => d3.min(s.values, plot.y.value))), parseFloat(d3.max(data, s => d3.max(s.values, plot.y.value)))];\r\n        var extent = (domain[1] - domain[0]) || 1;\r\n        var margin = (extent) * conf.domainMargin;\r\n\r\n        domain[0] -= margin;\r\n        domain[1] += margin;\r\n        plot.y.scale.domain(domain);\r\n        // plot.y.scale.domain([d3.min(data, plot.y.value)-1, d3.max(data, plot.y.value)+1]);\r\n    };\r\n\r\n    drawAxisX() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.x;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-x') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')))\r\n            .attr(\"transform\", \"translate(0,\" + plot.height + \")\");\r\n\r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.x.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + (plot.width / 2) + \",\" + (plot.margin.bottom) + \")\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"-1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    drawAxisY() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var axisConf = this.config.y;\r\n        var axis = self.svgG.selectOrAppend(\"g.\" + self.prefixClass('axis-y') + \".\" + self.prefixClass('axis') + (self.config.guides ? '' : '.' + self.prefixClass('no-guides')));\r\n\r\n        var axisT = axis;\r\n        if (self.transitionEnabled()) {\r\n            axisT = axis.transition().ease(d3.easeSinInOut);\r\n        }\r\n\r\n        axisT.call(plot.y.axis);\r\n\r\n        axis.selectOrAppend(\"text.\" + self.prefixClass('label'))\r\n            .attr(\"transform\", \"translate(\" + -plot.margin.left + \",\" + (plot.height / 2) + \")rotate(-90)\")  // text is drawn off the screen top left, move down and out and rotate\r\n            .attr(\"dy\", \"1em\")\r\n            .style(\"text-anchor\", \"middle\")\r\n            .text(axisConf.title);\r\n    };\r\n\r\n    update(newData) {\r\n        super.update(newData);\r\n        this.drawAxisX();\r\n        this.drawAxisY();\r\n\r\n        this.updateDots();\r\n    };\r\n\r\n    updateDots() {\r\n        var self = this;\r\n        var plot = self.plot;\r\n        var data = plot.data;\r\n        var layerClass = self.prefixClass('layer');\r\n        var dotClass = this.dotClass = self.prefixClass('dot');\r\n        self.dotsContainerClass = self.prefixClass('dots-container');\r\n\r\n        var dotsContainer = self.svgG.selectOrAppend(\"g.\" + self.dotsContainerClass);\r\n\r\n        var layer = dotsContainer.selectAll(\"g.\" + layerClass).data(plot.groupedData);\r\n\r\n        var layerEnter = layer.enter().appendSelector(\"g.\" + layerClass);\r\n\r\n        var layerMerge = layerEnter.merge(layer);\r\n\r\n        var dots = layerMerge.selectAll('.' + dotClass)\r\n            .data(d => d.values)\r\n\r\n        var dotsEnter = dots.enter().append(\"circle\")\r\n            .attr(\"class\", dotClass);\r\n\r\n        var dotsMerge = dotsEnter.merge(dots);\r\n\r\n        var dotsT = dotsMerge;\r\n        if (self.transitionEnabled()) {\r\n            dotsT = dotsMerge.transition();\r\n        }\r\n\r\n        dotsT.attr(\"r\", self.config.dotRadius)\r\n            .attr(\"cx\", plot.x.map)\r\n            .attr(\"cy\", plot.y.map)\r\n            .attr(\"id\", this.config.dotId);\r\n\r\n        if (plot.tooltip) {\r\n            dotsMerge.on(\"mouseover\", (event, d) => {\r\n                var html = \"(\" + plot.x.value(d) + \", \" + plot.y.value(d) + \")\";\r\n                var group = self.config.groups ? self.config.groups.value.call(self.config, d) : null;\r\n                if (group || group === 0) {\r\n                    group = plot.groupToLabel[group];\r\n                    html += \"<br/>\";\r\n                    var label = self.config.groups.label;\r\n                    if (label) {\r\n                        html += label + \": \";\r\n                    }\r\n                    html += group\r\n                }\r\n                self.showTooltip(html);\r\n            })\r\n                .on(\"mouseout\", () => {\r\n                    self.hideTooltip();\r\n                });\r\n        }\r\n\r\n        dotsMerge.on(\"mouseover.onDotHover\", this.config.onDotHover);\r\n        dotsMerge.on(\"mouseout.onDotHoverOut\", this.config.onDotHoverOut);\r\n\r\n        if (plot.seriesColor) {\r\n            layerMerge.style(\"fill\", plot.seriesColor)\r\n        } else if (plot.color) {\r\n            dotsMerge.style(\"fill\", plot.color)\r\n        }\r\n\r\n        dots.exit().remove();\r\n        layer.exit().remove();\r\n    }\r\n}\r\n","/*\r\n * https://gist.github.com/benrasmusen/1261977\r\n * NAME\r\n * \r\n * statistics-distributions.js - JavaScript library for calculating\r\n *   critical values and upper probabilities of common statistical\r\n *   distributions\r\n * \r\n * SYNOPSIS\r\n * \r\n * \r\n *   // Chi-squared-crit (2 degrees of freedom, 95th percentile = 0.05 level\r\n *   chisqrdistr(2, .05)\r\n *   \r\n *   // u-crit (95th percentile = 0.05 level)\r\n *   udistr(.05);\r\n *   \r\n *   // t-crit (1 degree of freedom, 99.5th percentile = 0.005 level) \r\n *   tdistr(1,.005);\r\n *   \r\n *   // F-crit (1 degree of freedom in numerator, 3 degrees of freedom \r\n *   //         in denominator, 99th percentile = 0.01 level)\r\n *   fdistr(1,3,.01);\r\n *   \r\n *   // upper probability of the u distribution (u = -0.85): Q(u) = 1-G(u)\r\n *   uprob(-0.85);\r\n *   \r\n *   // upper probability of the chi-square distribution\r\n *   // (3 degrees of freedom, chi-squared = 6.25): Q = 1-G\r\n *   chisqrprob(3,6.25);\r\n *   \r\n *   // upper probability of the t distribution\r\n *   // (3 degrees of freedom, t = 6.251): Q = 1-G\r\n *   tprob(3,6.251);\r\n *   \r\n *   // upper probability of the F distribution\r\n *   // (3 degrees of freedom in numerator, 5 degrees of freedom in\r\n *   //  denominator, F = 6.25): Q = 1-G\r\n *   fprob(3,5,.625);\r\n * \r\n * \r\n *  DESCRIPTION\r\n * \r\n * This library calculates percentage points (5 significant digits) of the u\r\n * (standard normal) distribution, the student's t distribution, the\r\n * chi-square distribution and the F distribution. It can also calculate the\r\n * upper probability (5 significant digits) of the u (standard normal), the\r\n * chi-square, the t and the F distribution.\r\n * \r\n * These critical values are needed to perform statistical tests, like the u\r\n * test, the t test, the F test and the chi-squared test, and to calculate\r\n * confidence intervals.\r\n * \r\n * If you are interested in more precise algorithms you could look at:\r\n *   StatLib: http://lib.stat.cmu.edu/apstat/ ; \r\n *   Applied Statistics Algorithms by Griffiths, P. and Hill, I.D.\r\n *   , Ellis Horwood: Chichester (1985)\r\n * \r\n * BUGS \r\n * \r\n * This port was produced from the Perl module Statistics::Distributions\r\n * that has had no bug reports in several years.  If you find a bug then\r\n * please double-check that JavaScript does not thing the numbers you are\r\n * passing in are strings.  (You can subtract 0 from them as you pass them\r\n * in so that \"5\" is properly understood to be 5.)  If you have passed in a\r\n * number then please contact the author\r\n * \r\n * AUTHOR\r\n * \r\n * Ben Tilly <btilly@gmail.com>\r\n * \r\n * Originl Perl version by Michael Kospach <mike.perl@gmx.at>\r\n * \r\n * Nice formating, simplification and bug repair by Matthias Trautner Kromann\r\n * <mtk@id.cbs.dk>\r\n * \r\n * COPYRIGHT \r\n * \r\n * Copyright 2008 Ben Tilly.\r\n * \r\n * This library is free software; you can redistribute it and/or modify it\r\n * under the same terms as Perl itself.  This means under either the Perl\r\n * Artistic License or the GPL v1 or later.\r\n */\r\n\r\nvar SIGNIFICANT = 5; // number of significant digits to be returned\r\n\r\nfunction chisqrdistr ($n, $p) {\r\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\tif ($p <= 0 || $p > 1) {\r\n\t\tthrow(\"Invalid p: $p\\n\"); \r\n\t}\r\n\treturn precision_string(_subchisqr($n-0, $p-0));\r\n}\r\n\r\nfunction udistr ($p) {\r\n\tif ($p > 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subu($p-0));\r\n}\r\n\r\nexport function tdistr ($n, $p) {\r\n\tif ($n <= 0 || Math.abs($n) - Math.abs(integer($n)) != 0) {\r\n\t\tthrow(\"Invalid n: $n\\n\");\r\n\t}\r\n\tif ($p <= 0 || $p >= 1) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subt($n-0, $p-0));\r\n}\r\n\r\nfunction fdistr ($n, $m, $p) {\r\n\tif (($n<=0) || ((Math.abs($n)-(Math.abs(integer($n))))!=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* first degree of freedom */\r\n\t}\r\n\tif (($m<=0) || ((Math.abs($m)-(Math.abs(integer($m))))!=0)) {\r\n\t\tthrow(\"Invalid m: $m\\n\"); /* second degree of freedom */\r\n\t}\r\n\tif (($p<=0) || ($p>1)) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\treturn precision_string(_subf($n-0, $m-0, $p-0));\r\n}\r\n\r\nfunction uprob ($x) {\r\n\treturn precision_string(_subuprob($x-0));\r\n}\r\n\r\nfunction chisqrprob ($n,$x) {\r\n\tif (($n <= 0) || ((Math.abs($n) - (Math.abs(integer($n)))) != 0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\treturn precision_string(_subchisqrprob($n-0, $x-0));\r\n}\r\n\r\nfunction tprob ($n, $x) {\r\n\tif (($n <= 0) || ((Math.abs($n) - Math.abs(integer($n))) !=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* degree of freedom */\r\n\t}\r\n\treturn precision_string(_subtprob($n-0, $x-0));\r\n}\r\n\r\nfunction fprob ($n, $m, $x) {\r\n\tif (($n<=0) || ((Math.abs($n)-(Math.abs(integer($n))))!=0)) {\r\n\t\tthrow(\"Invalid n: $n\\n\"); /* first degree of freedom */\r\n\t}\r\n\tif (($m<=0) || ((Math.abs($m)-(Math.abs(integer($m))))!=0)) {\r\n\t\tthrow(\"Invalid m: $m\\n\"); /* second degree of freedom */\r\n\t} \r\n\treturn precision_string(_subfprob($n-0, $m-0, $x-0));\r\n}\r\n\r\n\r\nfunction _subfprob ($n, $m, $x) {\r\n\tvar $p;\r\n\r\n\tif ($x<=0) {\r\n\t\t$p=1;\r\n\t} else if ($m % 2 == 0) {\r\n\t\tvar $z = $m / ($m + $n * $x);\r\n\t\tvar $a = 1;\r\n\t\tfor (var $i = $m - 2; $i >= 2; $i -= 2) {\r\n\t\t\t$a = 1 + ($n + $i - 2) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = 1 - Math.pow((1 - $z), ($n / 2) * $a);\r\n\t} else if ($n % 2 == 0) {\r\n\t\tvar $z = $n * $x / ($m + $n * $x);\r\n\t\tvar $a = 1;\r\n\t\tfor (var $i = $n - 2; $i >= 2; $i -= 2) {\r\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = Math.pow((1 - $z), ($m / 2)) * $a;\r\n\t} else {\r\n\t\tvar $y = Math.atan2(Math.sqrt($n * $x / $m), 1);\r\n\t\tvar $z = Math.pow(Math.sin($y), 2);\r\n\t\tvar $a = ($n == 1) ? 0 : 1;\r\n\t\tfor (var $i = $n - 2; $i >= 3; $i -= 2) {\r\n\t\t\t$a = 1 + ($m + $i - 2) / $i * $z * $a;\r\n\t\t} \r\n\t\tvar $b = Math.PI;\r\n\t\tfor (var $i = 2; $i <= $m - 1; $i += 2) {\r\n\t\t\t$b *= ($i - 1) / $i;\r\n\t\t}\r\n\t\tvar $p1 = 2 / $b * Math.sin($y) * Math.pow(Math.cos($y), $m) * $a;\r\n\r\n\t\t$z = Math.pow(Math.cos($y), 2);\r\n\t\t$a = ($m == 1) ? 0 : 1;\r\n\t\tfor (var $i = $m-2; $i >= 3; $i -= 2) {\r\n\t\t\t$a = 1 + ($i - 1) / $i * $z * $a;\r\n\t\t}\r\n\t\t$p = max(0, $p1 + 1 - 2 * $y / Math.PI\r\n\t\t\t- 2 / Math.PI * Math.sin($y) * Math.cos($y) * $a);\r\n\t}\r\n\treturn $p;\r\n}\r\n\r\n\r\nfunction _subchisqrprob ($n,$x) {\r\n\tvar $p;\r\n\r\n\tif ($x <= 0) {\r\n\t\t$p = 1;\r\n\t} else if ($n > 100) {\r\n\t\t$p = _subuprob((Math.pow(($x / $n), 1/3)\r\n\t\t\t\t- (1 - 2/9/$n)) / Math.sqrt(2/9/$n));\r\n\t} else if ($x > 400) {\r\n\t\t$p = 0;\r\n\t} else {   \r\n\t\tvar $a;\r\n                var $i;\r\n                var $i1;\r\n\t\tif (($n % 2) != 0) {\r\n\t\t\t$p = 2 * _subuprob(Math.sqrt($x));\r\n\t\t\t$a = Math.sqrt(2/Math.PI) * Math.exp(-$x/2) / Math.sqrt($x);\r\n\t\t\t$i1 = 1;\r\n\t\t} else {\r\n\t\t\t$p = $a = Math.exp(-$x/2);\r\n\t\t\t$i1 = 2;\r\n\t\t}\r\n\r\n\t\tfor ($i = $i1; $i <= ($n-2); $i += 2) {\r\n\t\t\t$a *= $x / $i;\r\n\t\t\t$p += $a;\r\n\t\t}\r\n\t}\r\n\treturn $p;\r\n}\r\n\r\nfunction _subu ($p) {\r\n\tvar $y = -Math.log(4 * $p * (1 - $p));\r\n\tvar $x = Math.sqrt(\r\n\t\t$y * (1.570796288\r\n\t\t  + $y * (.03706987906\r\n\t\t  \t+ $y * (-.8364353589E-3\r\n\t\t\t  + $y *(-.2250947176E-3\r\n\t\t\t  \t+ $y * (.6841218299E-5\r\n\t\t\t\t  + $y * (0.5824238515E-5\r\n\t\t\t\t\t+ $y * (-.104527497E-5\r\n\t\t\t\t\t  + $y * (.8360937017E-7\r\n\t\t\t\t\t\t+ $y * (-.3231081277E-8\r\n\t\t\t\t\t\t  + $y * (.3657763036E-10\r\n\t\t\t\t\t\t\t+ $y *.6936233982E-12)))))))))));\r\n\tif ($p>.5)\r\n                $x = -$x;\r\n\treturn $x;\r\n}\r\n\r\nfunction _subuprob ($x) {\r\n\tvar $p = 0; /* if ($absx > 100) */\r\n\tvar $absx = Math.abs($x);\r\n\r\n\tif ($absx < 1.9) {\r\n\t\t$p = Math.pow((1 +\r\n\t\t\t$absx * (.049867347\r\n\t\t\t  + $absx * (.0211410061\r\n\t\t\t  \t+ $absx * (.0032776263\r\n\t\t\t\t  + $absx * (.0000380036\r\n\t\t\t\t\t+ $absx * (.0000488906\r\n\t\t\t\t\t  + $absx * .000005383)))))), -16)/2;\r\n\t} else if ($absx <= 100) {\r\n\t\tfor (var $i = 18; $i >= 1; $i--) {\r\n\t\t\t$p = $i / ($absx + $p);\r\n\t\t}\r\n\t\t$p = Math.exp(-.5 * $absx * $absx) \r\n\t\t\t/ Math.sqrt(2 * Math.PI) / ($absx + $p);\r\n\t}\r\n\r\n\tif ($x<0)\r\n        \t$p = 1 - $p;\r\n\treturn $p;\r\n}\r\n\r\n   \r\nfunction _subt ($n, $p) {\r\n\r\n\tif ($p >= 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\r\n\tif ($p == 0.5) {\r\n\t\treturn 0;\r\n\t} else if ($p < 0.5) {\r\n\t\treturn - _subt($n, 1 - $p);\r\n\t}\r\n\r\n\tvar $u = _subu($p);\r\n\tvar $u2 = Math.pow($u, 2);\r\n\r\n\tvar $a = ($u2 + 1) / 4;\r\n\tvar $b = ((5 * $u2 + 16) * $u2 + 3) / 96;\r\n\tvar $c = (((3 * $u2 + 19) * $u2 + 17) * $u2 - 15) / 384;\r\n\tvar $d = ((((79 * $u2 + 776) * $u2 + 1482) * $u2 - 1920) * $u2 - 945) \r\n\t\t\t\t/ 92160;\r\n\tvar $e = (((((27 * $u2 + 339) * $u2 + 930) * $u2 - 1782) * $u2 - 765) * $u2\r\n\t\t\t+ 17955) / 368640;\r\n\r\n\tvar $x = $u * (1 + ($a + ($b + ($c + ($d + $e / $n) / $n) / $n) / $n) / $n);\r\n\r\n\tif ($n <= Math.pow(log10($p), 2) + 3) {\r\n\t\tvar $round;\r\n\t\tdo { \r\n\t\t\tvar $p1 = _subtprob($n, $x);\r\n\t\t\tvar $n1 = $n + 1;\r\n\t\t\tvar $delta = ($p1 - $p) \r\n\t\t\t\t/ Math.exp(($n1 * Math.log($n1 / ($n + $x * $x)) \r\n\t\t\t\t\t+ Math.log($n/$n1/2/Math.PI) - 1 \r\n\t\t\t\t\t+ (1/$n1 - 1/$n) / 6) / 2);\r\n\t\t\t$x += $delta;\r\n\t\t\t$round = round_to_precision($delta, Math.abs(integer(log10(Math.abs($x))-4)));\r\n\t\t} while (($x) && ($round != 0));\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction _subtprob ($n, $x) {\r\n\r\n\tvar $a;\r\n        var $b;\r\n\tvar $w = Math.atan2($x / Math.sqrt($n), 1);\r\n\tvar $z = Math.pow(Math.cos($w), 2);\r\n\tvar $y = 1;\r\n\r\n\tfor (var $i = $n-2; $i >= 2; $i -= 2) {\r\n\t\t$y = 1 + ($i-1) / $i * $z * $y;\r\n\t} \r\n\r\n\tif ($n % 2 == 0) {\r\n\t\t$a = Math.sin($w)/2;\r\n\t\t$b = .5;\r\n\t} else {\r\n\t\t$a = ($n == 1) ? 0 : Math.sin($w)*Math.cos($w)/Math.PI;\r\n\t\t$b= .5 + $w/Math.PI;\r\n\t}\r\n\treturn max(0, 1 - $b - $a * $y);\r\n}\r\n\r\nfunction _subf ($n, $m, $p) {\r\n\tvar $x;\r\n\r\n\tif ($p >= 1 || $p <= 0) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t}\r\n\r\n\tif ($p == 1) {\r\n\t\t$x = 0;\r\n\t} else if ($m == 1) {\r\n\t\t$x = 1 / Math.pow(_subt($n, 0.5 - $p / 2), 2);\r\n\t} else if ($n == 1) {\r\n\t\t$x = Math.pow(_subt($m, $p/2), 2);\r\n\t} else if ($m == 2) {\r\n\t\tvar $u = _subchisqr($m, 1 - $p);\r\n\t\tvar $a = $m - 2;\r\n\t\t$x = 1 / ($u / $m * (1 +\r\n\t\t\t(($u - $a) / 2 +\r\n\t\t\t\t(((4 * $u - 11 * $a) * $u + $a * (7 * $m - 10)) / 24 +\r\n\t\t\t\t\t(((2 * $u - 10 * $a) * $u + $a * (17 * $m - 26)) * $u\r\n\t\t\t\t\t\t- $a * $a * (9 * $m - 6)\r\n\t\t\t\t\t)/48/$n\r\n\t\t\t\t)/$n\r\n\t\t\t)/$n));\r\n\t} else if ($n > $m) {\r\n\t\t$x = 1 / _subf2($m, $n, 1 - $p)\r\n\t} else {\r\n\t\t$x = _subf2($n, $m, $p)\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction _subf2 ($n, $m, $p) {\r\n\tvar $u = _subchisqr($n, $p);\r\n\tvar $n2 = $n - 2;\r\n\tvar $x = $u / $n * \r\n\t\t(1 + \r\n\t\t\t(($u - $n2) / 2 + \r\n\t\t\t\t(((4 * $u - 11 * $n2) * $u + $n2 * (7 * $n - 10)) / 24 + \r\n\t\t\t\t\t(((2 * $u - 10 * $n2) * $u + $n2 * (17 * $n - 26)) * $u \r\n\t\t\t\t\t\t- $n2 * $n2 * (9 * $n - 6)) / 48 / $m) / $m) / $m);\r\n\tvar $delta;\r\n\tdo {\r\n\t\tvar $z = Math.exp(\r\n\t\t\t(($n+$m) * Math.log(($n+$m) / ($n * $x + $m)) \r\n\t\t\t\t+ ($n - 2) * Math.log($x)\r\n\t\t\t\t+ Math.log($n * $m / ($n+$m))\r\n\t\t\t\t- Math.log(4 * Math.PI)\r\n\t\t\t\t- (1/$n  + 1/$m - 1/($n+$m))/6\r\n\t\t\t)/2);\r\n\t\t$delta = (_subfprob($n, $m, $x) - $p) / $z;\r\n\t\t$x += $delta;\r\n\t} while (Math.abs($delta)>3e-4);\r\n\treturn $x;\r\n}\r\n\r\nfunction _subchisqr ($n, $p) {\r\n\tvar $x;\r\n\r\n\tif (($p > 1) || ($p <= 0)) {\r\n\t\tthrow(\"Invalid p: $p\\n\");\r\n\t} else if ($p == 1){\r\n\t\t$x = 0;\r\n\t} else if ($n == 1) {\r\n\t\t$x = Math.pow(_subu($p / 2), 2);\r\n\t} else if ($n == 2) {\r\n\t\t$x = -2 * Math.log($p);\r\n\t} else {\r\n\t\tvar $u = _subu($p);\r\n\t\tvar $u2 = $u * $u;\r\n\r\n\t\t$x = max(0, $n + Math.sqrt(2 * $n) * $u \r\n\t\t\t+ 2/3 * ($u2 - 1)\r\n\t\t\t+ $u * ($u2 - 7) / 9 / Math.sqrt(2 * $n)\r\n\t\t\t- 2/405 / $n * ($u2 * (3 *$u2 + 7) - 16));\r\n\r\n\t\tif ($n <= 100) {\r\n\t\t\tvar $x0;\r\n                        var $p1;\r\n                        var $z;\r\n\t\t\tdo {\r\n\t\t\t\t$x0 = $x;\r\n\t\t\t\tif ($x < 0) {\r\n\t\t\t\t\t$p1 = 1;\r\n\t\t\t\t} else if ($n>100) {\r\n\t\t\t\t\t$p1 = _subuprob((Math.pow(($x / $n), (1/3)) - (1 - 2/9/$n))\r\n\t\t\t\t\t\t/ Math.sqrt(2/9/$n));\r\n\t\t\t\t} else if ($x>400) {\r\n\t\t\t\t\t$p1 = 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar $i0\r\n                                        var $a;\r\n\t\t\t\t\tif (($n % 2) != 0) {\r\n\t\t\t\t\t\t$p1 = 2 * _subuprob(Math.sqrt($x));\r\n\t\t\t\t\t\t$a = Math.sqrt(2/Math.PI) * Math.exp(-$x/2) / Math.sqrt($x);\r\n\t\t\t\t\t\t$i0 = 1;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$p1 = $a = Math.exp(-$x/2);\r\n\t\t\t\t\t\t$i0 = 2;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var $i = $i0; $i <= $n-2; $i += 2) {\r\n\t\t\t\t\t\t$a *= $x / $i;\r\n\t\t\t\t\t\t$p1 += $a;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$z = Math.exp((($n-1) * Math.log($x/$n) - Math.log(4*Math.PI*$x) \r\n\t\t\t\t\t+ $n - $x - 1/$n/6) / 2);\r\n\t\t\t\t$x += ($p1 - $p) / $z;\r\n\t\t\t\t$x = round_to_precision($x, 5);\r\n\t\t\t} while (($n < 31) && (Math.abs($x0 - $x) > 1e-4));\r\n\t\t}\r\n\t}\r\n\treturn $x;\r\n}\r\n\r\nfunction log10 ($n) {\r\n\treturn Math.log($n) / Math.log(10);\r\n}\r\n \r\nfunction max () {\r\n\tvar $max = arguments[0];\r\n\tfor (var $i = 0; i < arguments.length; i++) {\r\n                if ($max < arguments[$i])\r\n                        $max = arguments[$i];\r\n\t}\t\r\n\treturn $max;\r\n}\r\n\r\nfunction min () {\r\n\tvar $min = arguments[0];\r\n\tfor (var $i = 0; i < arguments.length; i++) {\r\n                if ($min > arguments[$i])\r\n                        $min = arguments[$i];\r\n\t}\r\n\treturn $min;\r\n}\r\n\r\nfunction precision ($x) {\r\n\treturn Math.abs(integer(log10(Math.abs($x)) - SIGNIFICANT));\r\n}\r\n\r\nfunction precision_string ($x) {\r\n\tif ($x) {\r\n\t\treturn round_to_precision($x, precision($x));\r\n\t} else {\r\n\t\treturn \"0\";\r\n\t}\r\n}\r\n\r\nfunction round_to_precision ($x, $p) {\r\n        $x = $x * Math.pow(10, $p);\r\n        $x = Math.round($x);\r\n        return $x / Math.pow(10, $p);\r\n}\r\n\r\nfunction integer ($i) {\r\n        if ($i > 0)\r\n                return Math.floor($i);\r\n        else\r\n                return Math.ceil($i);\r\n}","import {tdistr} from \"./statistics-distributions\"\r\n\r\nvar su = module.exports.StatisticsUtils ={};\r\nsu.sampleCorrelation = require('simple-statistics/src/sample_correlation');\r\nsu.linearRegression = require('simple-statistics/src/linear_regression');\r\nsu.linearRegressionLine = require('simple-statistics/src/linear_regression_line');\r\nsu.errorFunction = require('simple-statistics/src/error_function');\r\nsu.standardDeviation = require('simple-statistics/src/standard_deviation');\r\nsu.sampleStandardDeviation = require('simple-statistics/src/sample_standard_deviation');\r\nsu.variance = require('simple-statistics/src/variance');\r\nsu.mean = require('simple-statistics/src/mean');\r\nsu.zScore = require('simple-statistics/src/z_score');\r\nsu.standardError= arr => Math.sqrt(su.variance(arr)/(arr.length-1));\r\nsu.quantile = require('simple-statistics/src/quantile');\r\n\r\nsu.tValue= (degreesOfFreedom, criticalProbability) => { //as in http://stattrek.com/online-calculator/t-distribution.aspx\r\n    return tdistr(degreesOfFreedom, criticalProbability);\r\n};","import * as d3 from './d3'\r\n\r\nexport class Utils {\r\n    static SQRT_2 = 1.41421356237;\r\n\r\n    // usage example deepExtend({}, objA, objB); => should work similar to $.extend(true, {}, objA, objB);\r\n    static deepExtend(out) {\r\n\r\n        var utils = this;\r\n        var emptyOut = {};\r\n\r\n\r\n        if (!out && arguments.length > 1 && Array.isArray(arguments[1])) {\r\n            out = [];\r\n        }\r\n        out = out || {};\r\n\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            var source = arguments[i];\r\n            if (!source)\r\n                continue;\r\n\r\n            for (var key in source) {\r\n                if (!source.hasOwnProperty(key)) {\r\n                    continue;\r\n                }\r\n                var isArray = Array.isArray(out[key]);\r\n                var isObject = utils.isObject(out[key]);\r\n                var srcObj = utils.isObject(source[key]);\r\n\r\n                if (isObject && !isArray && srcObj) {\r\n                    utils.deepExtend(out[key], source[key]);\r\n                } else {\r\n                    out[key] = source[key];\r\n                }\r\n            }\r\n        }\r\n\r\n        return out;\r\n    };\r\n\r\n    static mergeDeep(target, source) {\r\n        let output = Object.assign({}, target);\r\n        if (Utils.isObjectNotArray(target) && Utils.isObjectNotArray(source)) {\r\n            Object.keys(source).forEach(key => {\r\n                if (Utils.isObjectNotArray(source[key])) {\r\n                    if (!(key in target))\r\n                        Object.assign(output, {[key]: source[key]});\r\n                    else\r\n                        output[key] = Utils.mergeDeep(target[key], source[key]);\r\n                } else {\r\n                    Object.assign(output, {[key]: source[key]});\r\n                }\r\n            });\r\n        }\r\n        return output;\r\n    }\r\n\r\n    static cross(a, b) {\r\n        var c = [], n = a.length, m = b.length, i, j;\r\n        for (i = -1; ++i < n;) for (j = -1; ++j < m;) c.push({x: a[i], i: i, y: b[j], j: j});\r\n        return c;\r\n    };\r\n\r\n    static inferVariables(data, groupKey, includeGroup) {\r\n        var res = [];\r\n        if (!data) {\r\n            return res;\r\n        }\r\n\r\n        if (data.length) {\r\n            var d = data[0];\r\n            if (d instanceof Array) {\r\n                res = d.map(function (v, i) {\r\n                    return i;\r\n                });\r\n            } else if (typeof d === 'object') {\r\n\r\n                for (var prop in d) {\r\n                    if (!d.hasOwnProperty(prop)) continue;\r\n\r\n                    res.push(prop);\r\n                }\r\n            }\r\n        }\r\n        if (groupKey !== null && groupKey !== undefined && !includeGroup) {\r\n            var index = res.indexOf(groupKey);\r\n            if (index > -1) {\r\n                res.splice(index, 1);\r\n            }\r\n        }\r\n        return res\r\n    };\r\n\r\n    static isObjectNotArray(item) {\r\n        return (item && typeof item === 'object' && !Array.isArray(item) && item !== null);\r\n    };\r\n\r\n    static isArray(item) {\r\n        return Array.isArray(item);\r\n    };\r\n\r\n    static isObject(a) {\r\n        return a !== null && typeof a === 'object';\r\n    };\r\n\r\n    static isNumber(a) {\r\n        return !isNaN(a) && typeof a === 'number';\r\n    };\r\n\r\n    static isFunction(a) {\r\n        return typeof a === 'function';\r\n    };\r\n\r\n    static isDate(a) {\r\n        return Object.prototype.toString.call(a) === '[object Date]'\r\n    }\r\n\r\n    static isString(a) {\r\n        return typeof a === 'string' || a instanceof String\r\n    }\r\n\r\n    static insertOrAppendSelector(parent, selector, operation, before) {\r\n\r\n        var selectorParts = selector.split(/([\\.\\#])/);\r\n        var element = parent[operation](selectorParts.shift(), before);//\":first-child\"\r\n\r\n        while (selectorParts.length > 1) {\r\n            var selectorModifier = selectorParts.shift();\r\n            var selectorItem = selectorParts.shift();\r\n            if (selectorModifier === \".\") {\r\n                element = element.classed(selectorItem, true);\r\n            } else if (selectorModifier === \"#\") {\r\n                element = element.attr('id', selectorItem);\r\n            }\r\n        }\r\n        return element;\r\n    }\r\n\r\n    static insertSelector(parent, selector, before) {\r\n        return Utils.insertOrAppendSelector(parent, selector, \"insert\", before);\r\n    }\r\n\r\n    static appendSelector(parent, selector) {\r\n        return Utils.insertOrAppendSelector(parent, selector, \"append\");\r\n    }\r\n\r\n    static selectOrAppend(parent, selector, element) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            if (element) {\r\n                return parent.append(element);\r\n            }\r\n            return Utils.appendSelector(parent, selector);\r\n\r\n        }\r\n        return selection;\r\n    };\r\n\r\n    static selectOrInsert(parent, selector, before) {\r\n        var selection = parent.select(selector);\r\n        if (selection.empty()) {\r\n            return Utils.insertSelector(parent, selector, before);\r\n        }\r\n        return selection;\r\n    };\r\n\r\n    static linearGradient(svg, gradientId, range, x1, y1, x2, y2) {\r\n        var defs = Utils.selectOrAppend(svg, \"defs\");\r\n        var linearGradient = defs.append(\"linearGradient\")\r\n            .attr(\"id\", gradientId);\r\n\r\n        linearGradient\r\n            .attr(\"x1\", x1 + \"%\")\r\n            .attr(\"y1\", y1 + \"%\")\r\n            .attr(\"x2\", x2 + \"%\")\r\n            .attr(\"y2\", y2 + \"%\");\r\n\r\n        //Append multiple color stops by using D3's data/enter step\r\n        var stops = linearGradient.selectAll(\"stop\")\r\n            .data(range);\r\n\r\n        var stopsMerge = stops.enter().append(\"stop\").merge(stops);\r\n\r\n        stopsMerge.attr(\"offset\", (d, i) => i / (range.length - 1))\r\n            .attr(\"stop-color\", d => d);\r\n\r\n        stops.exit().remove();\r\n    }\r\n\r\n    static sanitizeHeight = function (height, container) {\r\n        return (height || parseInt(container.style('height'), 10) || 400);\r\n    };\r\n\r\n    static sanitizeWidth = function (width, container) {\r\n        return (width || parseInt(container.style('width'), 10) || 960);\r\n    };\r\n\r\n    static availableHeight = function (height, container, margin) {\r\n        return Math.max(0, Utils.sanitizeHeight(height, container) - margin.top - margin.bottom);\r\n    };\r\n\r\n    static availableWidth = function (width, container, margin) {\r\n        return Math.max(0, Utils.sanitizeWidth(width, container) - margin.left - margin.right);\r\n    };\r\n\r\n    static guid() {\r\n        function s4() {\r\n            return Math.floor((1 + Math.random()) * 0x10000)\r\n                .toString(16)\r\n                .substring(1);\r\n        }\r\n\r\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\r\n            s4() + '-' + s4() + s4() + s4();\r\n    }\r\n\r\n    //places textString in textObj, adds an ellipsis if text can't fit in width\r\n    static placeTextWithEllipsis(textD3Obj, textString, width) {\r\n        var textObj = textD3Obj.node();\r\n        textObj.textContent = textString;\r\n\r\n        var margin = 0;\r\n        var ellipsisLength = 9;\r\n        //ellipsis is needed\r\n        if (textObj.getComputedTextLength() > width + margin) {\r\n            for (var x = textString.length - 3; x > 0; x -= 1) {\r\n                if (textObj.getSubStringLength(0, x) + ellipsisLength <= width + margin) {\r\n                    textObj.textContent = textString.substring(0, x) + \"...\";\r\n                    return true;\r\n                }\r\n            }\r\n            textObj.textContent = \"...\"; //can't place at all\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    static placeTextWithEllipsisAndTooltip(textD3Obj, textString, width, tooltip) {\r\n        var ellipsisPlaced = Utils.placeTextWithEllipsis(textD3Obj, textString, width);\r\n        if (ellipsisPlaced && tooltip) {\r\n            textD3Obj.on(\"mouseover\", function (event, d) {\r\n                tooltip.transition()\r\n                    .duration(200)\r\n                    .style(\"opacity\", .9);\r\n                tooltip.html(textString)\r\n                    .style(\"left\", (event.pageX + 5) + \"px\")\r\n                    .style(\"top\", (event.pageY - 28) + \"px\");\r\n            });\r\n\r\n            textD3Obj.on(\"mouseout\", function () {\r\n                tooltip.transition()\r\n                    .duration(500)\r\n                    .style(\"opacity\", 0);\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    static getFontSize(element) {\r\n        return window.getComputedStyle(element, null).getPropertyValue(\"font-size\");\r\n    }\r\n\r\n    static capitalizeFirstLetter(string) {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    static createScale(scaleName) {\r\n        var scaleFunctionName = 'scale' + Utils.capitalizeFirstLetter(scaleName);\r\n        try {\r\n            return d3[scaleFunctionName]();\r\n        } catch (e) {\r\n            throw 'ODC-D3 - scale not supported: ' + scaleName + ' (' + scaleFunctionName + ')';\r\n        }\r\n    }\r\n\r\n    static createAxis(orient, scale) {\r\n        var axisFnName = 'axis' + Utils.capitalizeFirstLetter(orient);\r\n        try {\r\n            return d3[axisFnName](scale)\r\n        } catch (e) {\r\n            throw 'ODC-D3 - axis orient not supported: ' + orient;\r\n        }\r\n    }\r\n\r\n    static nest(entries, key) {\r\n        return Array.from(d3.group(entries, key)).map(function (d) {\r\n            return {key: d[0], values: d[1]}\r\n        })\r\n    }\r\n}\r\n"]}